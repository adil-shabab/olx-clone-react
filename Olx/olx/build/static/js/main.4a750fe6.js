/*! For license information please see main.4a750fe6.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ce(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,Et,St=!1,Tt=[],At=null,Ct=null,Nt=null,Rt=new Map,Dt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==At&&Ut(At)&&(At=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(jt),Dt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return In}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),An=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function Jn(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Hn)){var t=[];Wn(t,Hn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Hn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Ar=Er("animationstart"),Cr=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Or=Rr[Pr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ar,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Sr:case Tr:case Ar:s=yn;break;case Cr:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ai=Ii(Ti),Ci=Ii(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ci),Ei(Ai)}function Oi(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Si(Ai,t),Si(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ai.current,Si(Ai,e),Si(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ai),Si(Ai,e)):Ei(Ci),Si(Ci,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He($e,qi),i}finally{kt=t,Vi=!1}}return null}var zi=b.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Ii(null),Gi=null,Hi=null,Qi=null;function Ji(){Qi=Hi=Gi=null}function Xi(e){var t=Wi.current;Ei(Wi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zi(e,t){Gi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function $i(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Zs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=$s(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Zs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=$s(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ys(),r=Zs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=$s(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=$i(a):(i=Di(t)?Ni:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=$i(a):(a=Di(t)?Ni:Ai.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,_a=null,Ia=1,Ea="";function Sa(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=Ia,wa[xa++]=Ea,wa[xa++]=_a,_a=e;var r=Ia;e=Ea;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ia=1<<32-ot(t)+i|n<<i|r,Ea=a+e}else Ia=1<<a|n<<i|r,Ea=e}function Aa(e){null!==e.return&&(Sa(e,1),Ta(e,1,0))}function Ca(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ea=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null}var Na=null,Ra=null,Da=!1,Pa=null;function Oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ia,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Ra=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Da){var t=Ra;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&La(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Da=!1,Na=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Da=!1,Na=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function ja(e){if(e!==Na)return!1;if(!Da)return Ua(e),Da=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ra)){if(Ma(e)){for(e=Ra;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=Na?ci(e.stateNode.nextSibling):null;return!0}function Va(){Ra=Na=null,Da=!1}function Ba(e){null===Pa?Pa=[e]:Pa.push(e)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function za(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ka(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;za(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);za(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);za(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Da&&Sa(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Da&&Sa(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Da&&Sa(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Da&&Sa(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Da&&Sa(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Da&&Sa(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Oc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=qa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);za(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Wa(!0),Ha=Wa(!1),Qa={},Ja=Ii(Qa),Xa=Ii(Qa),Ya=Ii(Qa);function Za(e){if(e===Qa)throw Error(a(174));return e}function $a(e,t){switch(Si(Ya,t),Si(Xa,e),Si(Ja,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Si(Ja,t)}function eo(){Ei(Ja),Ei(Xa),Ei(Ya)}function to(e){Za(Ya.current);var t=Za(Ja.current),n=se(t,e.type);t!==n&&(Si(Xa,e),Si(Ja,n))}function no(e){Xa.current===e&&(Ei(Ja),Ei(Xa))}var ro=Ii(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Io(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ps|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ps|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Ao(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,jo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Ss)throw Error(a(349));0!==(30&co)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&$s(e,1,-1)}function Ro(e,t,n){return n((function(){Do(t)&&$s(e,1,-1)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Po(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function jo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Ps|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function Jo(){return _o().memoizedState}function Xo(e,t,n){var r=Zs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e)?$o(t,n):(eu(e,t,n),null!==(e=$s(e,r,n=Ys()))&&tu(e,t,r))}function Yo(e,t,n){var r=Zs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))$o(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=$s(e,r,n=Ys()))&&tu(e,t,r)}}function Zo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function $o(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:$i,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:$i,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:$i,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Po,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Da){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ss)throw Error(a(349));0!==(30&co)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Ss.identifierPrefix;if(Da){var n=Ea;t=":"+t+"R"+(n=(Ia&~(1<<32-ot(Ia)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:$i,useCallback:Wo,useContext:$i,useEffect:jo,useImperativeHandle:zo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(Io)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[Eo(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Jo,unstable_isNewReconciler:!1},au={readContext:$i,useCallback:Wo,useContext:$i,useEffect:jo,useImperativeHandle:zo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:So,useRef:Lo,useState:function(){return So(Io)},useDebugValue:Ko,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[So(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Jo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,qs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Di(t.type)&&Pi(),gu(t),null;case 3:return r=t.stateNode,eo(),Ei(Ci),Ei(Ai),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Pa&&(ac(Pa),Pa=null))),gu(t),null;case 5:no(t);var i=Za(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Za(Ja.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Za(Ya.current),Za(Ja.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ei(ro),r=t.memoizedState,Da&&null!==Ra&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ra;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Pa&&(ac(Pa),Pa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Rs&&(Rs=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&qr(t.stateNode.containerInfo),gu(t),null;case 10:return Xi(t.type._context),gu(t),null;case 19:if(Ei(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>js&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Da)return gu(t),null}else 2*Ye()-o.renderingStartTime>js&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ro.current,Si(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cs)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Za(Ja.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Zi(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Da&&n&&Aa(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Au(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ns,Cs),Cs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ns,Cs),Cs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ns,Cs),Cs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ns,Cs),Cs|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,r,i){var a=Di(n)?Ni:Ai.current;return a=Ri(t,a),Zi(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Da&&r&&Aa(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Zi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=$i(c):c=Ri(t,c=Di(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=$i(s):s=Ri(t,s=Di(n)?Ni:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),$a(e,t.containerInfo)}function Du(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xu(e,t,n,r),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Oc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ou(n),t.memoizedState=Pu,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Vu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Oc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ou(n),t.memoizedState=Pu,u);if(0===(1&t.mode))t=Vu(e,t,n,null);else if("$!"===r.data)t=Vu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Ss)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,$s(e,i,-1))}pc(),t=Vu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ra=ci(r.nextSibling),Na=t,Da=!0,Pa=null,null!==n&&(wa[xa++]=Ia,wa[xa++]=Ea,wa[xa++]=_a,Ia=n.id,Ea=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=ju(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=ju(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){var i=e.child;return e=i.sibling,n=Dc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ju(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Dc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Dc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vu(e,t,n,r){return null!==r&&Ba(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function qu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qu(t,!0,n,null,a);break;case"together":qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){switch(Ca(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ei(Ci),Ei(Ai),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ei(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ro),null;case 4:return eo(),null;case 10:return Xi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Hu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Xu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Yu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Zu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Yu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||Xu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Yu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&(Xu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{$u(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{$u(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Xu(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Xu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Us=Ye()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Ju=e,e=e.child;null!==e;){for(l=Ju=e;null!==Ju;){switch(h=(f=Ju).child,f.tag){case 0:case 11:case 14:case 15:$u(4,f,f.return);break;case 1:if(Xu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Xu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,Ju=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Ju=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Gu;var c=Hu;if(Gu=o,(Hu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,Ju=s):ks(i);for(;null!==a;)Ju=a,ms(a,t,n),a=a.sibling;Ju=i,Gu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ys(e)}}function ys(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function gs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function ks(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Es=0,Ss=null,Ts=null,As=0,Cs=0,Ns=Ii(0),Rs=0,Ds=null,Ps=0,Os=0,Ls=0,Ms=null,Fs=null,Us=0,js=1/0,Vs=null,Bs=!1,qs=null,zs=null,Ks=!1,Ws=null,Gs=0,Hs=0,Qs=null,Js=-1,Xs=0;function Ys(){return 0!==(6&Es)?Ye():-1!==Js?Js:Js=Ye()}function Zs(e){return 0===(1&e.mode)?1:0!==(2&Es)&&0!==As?As&-As:null!==zi.transition?(0===Xs&&(Xs=vt()),Xs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function $s(e,t,n){if(50<Hs)throw Hs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Es)&&r===Ss||(r===Ss&&(0===(2&Es)&&(Os|=t),4===Rs&&oc(r,As)),nc(r,n),1===t&&0===Es&&0===(1&e.mode)&&(js=Ye()+500,ji&&qi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Ss||null!==ea)&&0!==(1&e.mode)&&0===(2&Es)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ss?As:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===Es&&qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Js=-1,Xs=0,0!==(6&Es))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ss?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Es;Es|=2;var o=dc();for(Ss===e&&As===t||(Vs=null,js=Ye()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}Ji(),xs.current=o,Es=i,null!==Ts?t=0:(Ss=null,As=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ds,fc(e,0),oc(e,r),nc(e,Ye()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ds,fc(e,0),oc(e,r),nc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fs,Vs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Us+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fs,Vs),t);break}bc(e,Fs,Vs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fs,Vs),r);break}bc(e,Fs,Vs);break;default:throw Error(a(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Es))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ds,fc(e,0),oc(e,t),nc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fs,Vs),nc(e,Ye()),null}function sc(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&(js=Ye()+500,ji&&qi())}}function cc(e){null!==Ws&&0===Ws.tag&&0===(6&Es)&&wc();var t=Es;Es|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Es=t))&&qi()}}function lc(){Cs=Ns.current,Ei(Ns)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Ca(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:eo(),Ei(Ci),Ei(Ai),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ei(ro);break;case 10:Xi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Ss=e,Ts=e=Dc(e.current,null),As=Cs=t,Rs=0,Ds=null,Ls=Os=Ps=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if(Ji(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Rs=1,Ds=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Da&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),Ba(c);break e}}o=c,4!==Rs&&(Rs=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===zs||!zs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ss||0===(268435455&Ps)&&0===(268435455&Os)||oc(Ss,As)}function vc(e,t){var n=Es;Es|=2;var r=dc();for(Ss===e&&As===t||(Vs=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Ji(),Es=n,xs.current=r,null!==Ts)throw Error(a(261));return Ss=null,As=0,Rs}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!Je();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,Cs);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,Cs)))return void(Ts=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Rs=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Rs&&(Rs=5)}function bc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ws);if(0!==(6&Es))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ss&&(Ts=Ss=null,As=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Ac(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Es;Es|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=Zu,Zu=!1}(e,n),ds(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Xe(),Es=s,kt=u,Is.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Gs=i),0===(o=e.pendingLanes)&&(zs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=qs,qs=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Hs++:(Hs=0,Qs=e):Hs=0,qi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function wc(){if(null!==Ws){var e=bt(Gs),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Gs=0,0!==(6&Es))throw Error(a(331));var i=Es;for(Es|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(ns(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Es=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Ys(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Ys(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ys(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(As&n)===n&&(4===Rs||3===Rs&&(130023424&As)===As&&500>Ye()-Us?fc(e,0):Ls|=n),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ys();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Cc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Nc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case A:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=ia(r=Ys(),i=Zs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function zc(e,t,n,r){var i=t.current,a=Ys(),o=Zs(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=$s(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),Va();break;case 5:to(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Si(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Da&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ai.current);Zi(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,Da&&o&&Aa(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Au(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Du(e,t,r,n,i=Error(a(424)));break e}for(Ra=ci(t.stateNode.containerInfo.firstChild),Na=t,Da=!0,Pa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(Wi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Yi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Yi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zi(t,n),r=r(i=$i(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Iu(e,t,r,i=Ki(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Zi(t,n),pa(t,r,i),ma(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),cc((function(){zc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){zc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Ye()),0===(6&Es)&&(js=Ye()+500,qi()))}break;case 13:var r=Ys();cc((function(){return $s(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&($s(e,134217728,Ys()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=Ys(),n=Zs(e);$s(e,n,t),Gc(e,n)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=sc,Ce=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+A(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+A(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+A(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,E=null,S=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function N(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?_():(I=!1,E=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){y(N,0)};function P(e){E=e,I||(I=!0,_())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return rt},SDK_VERSION:function(){return yn},_DEFAULT_ENTRY_NAME:function(){return rn},_addComponent:function(){return sn},_addOrOverwriteComponent:function(){return cn},_apps:function(){return on},_clearComponents:function(){return dn},_components:function(){return un},_getProvider:function(){return fn},_registerComponent:function(){return ln},_removeServiceInstance:function(){return hn},deleteApp:function(){return wn},getApp:function(){return kn},getApps:function(){return bn},initializeApp:function(){return gn},onLog:function(){return In},registerVersion:function(){return _n},setLogLevel:function(){return En}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var E=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=C({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:P(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:O(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},O=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){F()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=V(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):D([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function F(){return null!=(0,r.useContext)(b)}function U(){return F()||x(!1),(0,r.useContext)(b).location}function j(){F()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=U().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function V(e){var t=(0,r.useContext)(w).matches,n=U().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function B(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function q(e){x(!1)}function z(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;F()&&x(!1);var d=P(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,I=v.hash,E=void 0===I?"":I,S=v.state,T=void 0===S?null:S,A=v.key,C=void 0===A?"default":A,N=(0,r.useMemo)((function(){var e=R(y,d);return null==e?null:{pathname:e,search:_,hash:E,state:T,key:C}}),[d,y,_,E,T,C]);return null==N?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:N,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){F()||x(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,U());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||x(!1),n=l}else n=s;var f=n.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return B(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==q&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function J(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else S(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],b=v(),w=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){u=e;var t=a();c=t[0],k=t[1],b.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var A={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=_(n,a);if(E(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(E(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return A}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(z,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var X=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=H(e,Q),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=j(),s=U(),c=V(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",G({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var Y=n(184);var Z=function(){return(0,Y.jsx)("div",{className:"banner-container container",children:(0,Y.jsx)("div",{className:"banner-child",children:(0,Y.jsxs)("div",{className:"menuBar",children:[(0,Y.jsxs)("div",{className:"categoryMenu row",children:[(0,Y.jsx)("span",{children:"ALL CATEGORIES"}),(0,Y.jsx)("i",{className:"fa-solid fa-angle-down pt-1 arrow"})]}),(0,Y.jsxs)("div",{className:"options ml-3",children:[(0,Y.jsx)("span",{children:"Cars"}),(0,Y.jsx)("span",{children:"Motorcycle"}),(0,Y.jsx)("span",{children:"Smart Phone"}),(0,Y.jsx)("span",{children:"Apartment"}),(0,Y.jsx)("span",{children:"Scooter"}),(0,Y.jsx)("span",{children:"House"}),(0,Y.jsx)("span",{children:"Rent House"}),(0,Y.jsx)("span",{children:"Smart Watch"})]})]})})})},$=n.p+"static/media/banner.e2c5080570a45c88d6b7.png";var ee=function(){return(0,Y.jsx)("div",{className:"banner-image-container",children:(0,Y.jsx)("img",{className:"banner-image",src:$,alt:"banner"})})};var te=function(){return(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("div",{className:"footerParentDiv row m-0",children:[(0,Y.jsx)("div",{className:"content container-fluid p-1 mt-2 mb-2 pt-3 col-xlg-2 col-lg-3 col-md-3 col-sm-6 col-xsm-12",children:(0,Y.jsxs)("div",{className:"box pt-3 shadow w-100",children:[(0,Y.jsx)("div",{className:"heading d-flex align-items-center justify-content-center",children:(0,Y.jsx)("p",{children:"POPULAR LOCATIONS"})}),(0,Y.jsx)("div",{className:"list",children:(0,Y.jsxs)("ul",{children:[(0,Y.jsx)("li",{children:"kolkata"}),(0,Y.jsx)("li",{children:"Mumbai"}),(0,Y.jsx)("li",{children:"Chennai"}),(0,Y.jsx)("li",{children:"Pune"})]})})]})}),(0,Y.jsx)("div",{className:"content container-fluid mt-2 mb-2 pt-3 col-xlg-2 col-lg-3 col-md-3 col-sm-6 col-xsm-12",children:(0,Y.jsxs)("div",{className:"box pt-3 shadow w-100",children:[(0,Y.jsx)("div",{className:"heading d-flex align-items-center justify-content-center",children:(0,Y.jsx)("p",{children:"TRENDING LOCATIONS"})}),(0,Y.jsx)("div",{className:"list",children:(0,Y.jsxs)("ul",{children:[(0,Y.jsx)("li",{children:"Bhubaneshwar"}),(0,Y.jsx)("li",{children:"Hyderabad"}),(0,Y.jsx)("li",{children:"Chandigarh"}),(0,Y.jsx)("li",{children:"Nashik"})]})})]})}),(0,Y.jsx)("div",{className:"content container-fluid mt-2 mb-2 pt-3 col-xlg-2 col-lg-3 col-md-3 col-sm-6 col-xsm-12",children:(0,Y.jsxs)("div",{className:"box pt-3 shadow w-100",children:[(0,Y.jsx)("div",{className:"heading d-flex align-items-center justify-content-center",children:(0,Y.jsx)("p",{children:"ABOUT US"})}),(0,Y.jsx)("div",{className:"list",children:(0,Y.jsxs)("ul",{children:[(0,Y.jsx)("li",{children:"About OLX Group"}),(0,Y.jsx)("li",{children:"Careers"}),(0,Y.jsx)("li",{children:"Contact Us"}),(0,Y.jsx)("li",{children:"Waah Jobs"})]})})]})}),(0,Y.jsx)("div",{className:"content container-fluid  mt-2 mb-2 pt-3 col-xlg-2 col-lg-3 col-md-3 col-sm-6 col-xsm-12",children:(0,Y.jsxs)("div",{className:"box pt-3 shadow w-100",children:[(0,Y.jsx)("div",{className:"heading d-flex align-items-center justify-content-center",children:(0,Y.jsx)("p",{children:"OLX"})}),(0,Y.jsx)("div",{className:"list",children:(0,Y.jsxs)("ul",{children:[(0,Y.jsx)("li",{children:"Help"}),(0,Y.jsx)("li",{children:"Sitemap"}),(0,Y.jsx)("li",{children:"Legal & Privacy Information"}),(0,Y.jsx)("li",{children:"Blog"})]})})]})}),(0,Y.jsx)("div",{className:"content container-fluid  mt-2 mb-2 pt-3 col-xlg-2 col-lg-5 col-md-5 col-sm-6 col-xsm-12",children:(0,Y.jsxs)("div",{className:"box pt-3 shadow w-100",children:[(0,Y.jsx)("div",{className:"heading d-flex align-items-center justify-content-center",children:(0,Y.jsx)("p",{children:"FOLLOW US"})}),(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("ul",{className:"d-flex justify-content-center",children:[(0,Y.jsx)("li",{className:"mr-2",children:(0,Y.jsx)("i",{class:"fa-brands fa-facebook"})}),(0,Y.jsx)("li",{className:"mr-2",children:(0,Y.jsx)("i",{class:"fa-brands fa-instagram"})}),(0,Y.jsx)("li",{className:"mr-2",children:(0,Y.jsx)("i",{class:"fa-brands fa-twitter"})}),(0,Y.jsx)("li",{className:"mr-2",children:(0,Y.jsx)("i",{class:"fa-solid fa-play"})})]}),(0,Y.jsxs)("ul",{className:"d-flex",children:[(0,Y.jsx)("li",{children:(0,Y.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAqqADAAQAAAABAAAAMAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgAMACqAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAQEBAQEBAgEBAgMCAgIDBAMDAwMEBQQEBAQEBQYFBQUFBQUGBgYGBgYGBgcHBwcHBwgICAgICQkJCQkJCQkJCf/bAEMBAQEBAgICBAICBAkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCf/dAAQAC//aAAwDAQACEQMRAD8A/v4ooooAKKKKACivB/hd+058BvjP4n17wV8NvEtpqWseGb+40zUrIFo54bm1cpKvlyBWYKwI3oCp7EiveK1rUJ05clRNPzOLAZlhsXT9rhainG7V4tNXWjV1fVPRroFFFFZHaFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/0P7+KKKKACiiigD+Fn4j3XjX4O/t0/Eb4i+CpHilfxZqsksYZkWVTeynBK8qwzlWHKn2yD/R5+zv+3wmofDi38SeLJ31i2XETR8f2hFLjmNxkB8Dnc2Mjncelfir+19b6b4J+Ofi2aHT7nWtd1vxFqMek6PYRtPe387XDnZFEgZyozl3xhR15wD9M/sAf8EqP2tbv4lQftFftQa6PBdncLg+GLPbPcT2x5WC4OWht1GcjBklDcko1e148LF4nLqFXJdMWkrPTlceqnffy6n5V9D7wR9rmGO4k4gxawuWxc7J358RUTdoUoq7a6TqNOMNr3vy/wBHHw4+KvgX4r6OdZ8EXy3SJgSxkFJYi3RZIzyp647HHBNfmrY+KPiP+1PH41+OPiz4oah8LPhd4S1S+0rTo9Fe3tZ5l02Qw3F/f3k8cpVGlDBIlAUKPm55P6e+DPAPg/4faZ/ZHg+wisYTgvsHzuR3dzlmPuSa+Crn9n39pb4B+K/FDfszL4c8T+CvGN/Nqtz4c8SPNbGxvro5uWtp4Yple3mf52ikQbWJ2nk18lkyxn1WH9ocvtbe9y35b+V9fvP2jOXg3ipvAKSpX93mtzW87afcbnwn/a6+AXw6+C17qHjP4zWPxIfQZljm1G1jie8kW7kZLK3NvZBjNO20oCiZkYE7QAcel6H+3V+zZq/gDxF8RL/WZ9Gt/CbxR6tZ6pZ3Fnf2r3HFujWcsYmZpzxEERt54XJBFfIF1/wT++MF5DJ8d7nVNAT4sR+ItM8Q21pbW8kGgQw6VHLDDpoCr5xRkmkZrgrv80htoxknjL9iT9or4369r/x/+It7oOgePmuNCn0HTLJprvS4hoNxJcxrfyvHHJOZ3kYFlj/drt256V6Z5h9geFf26P2bvE3hbxJ4qvdXuNATwjBHdava61Z3Gn3ltbzHEMpt541kdJT8sZRW3MQo+YgV8i/tL/8ABRjwFr3wG8Xad8CdU1fQfHOnafbapbx3+l3NlPHaHULWBpgLuEIUkWbC9cgnHIOOB/aS/Zu+LPxC8MeNf2nP2qtV0TwVfaXomn2WlQaQt3qlnbLp+ox6j5+oMIUlmSSdFQqkRWKIliTg18/eL9P+OH7fPxx1zwxZ33g67vofAS2qz+HL6a/023aXWLK6UXV75ORLOsEjxwqpKKPm5LGgD9db79uj9nLSviW3wrv9WuVuYNQj0efURZXB0qHU5MbbKXUBH9nSckgbC/DHaSDxXD/H/wCOf7QGh/tG6V8DfgvP4V0+Kfw1Pr9zd+JhdbCYLtLbyka3lTGQ4blTgAn2r5h8MfsA/Fv4d/GW9utH0zwv4s8OXfiKXW7LUPEtzf3MmlQXU/n3MEOkj/Q3uCxYJc71bkFumK+tvi1+yL4b+N37Vek/FH4q6FpXiLwnp3ha40sWuoIJ3XUJL2OZJFiZSu0RB13ZzzjGDmgDxr4Mf8FEIPGGtnWPixFp/hnwxaeDI9fvLoNJKFvRq1xpbiCQE+dbStCGt9se9964ySBX1h4O/bA/Z08d29lP4f8AEaF7/VY9DjhuLe5tpl1CaNporeaKaJHheWNS0fmKofGFJPFfI/7TH7Hfxk8Z+PNd8RfAiew0TTZ/COkaDa2kU72BkSw1Rru4sleCMm1imtj5aSx5KHgADmvmvxJ+zH4q+DPwM+OPxQ+MdrbeGINXtdF1Dw7b6fql3rd3Zaro5kNkPtN6olkme6eJV2naQ5RQF6gH7VeFfiR4J8ca3rvh3wpfpe3fhq7Ww1JY1fbb3LRrN5RcqEZwjqWCk7cgNg8V3FfM/wCyL8ItY+DPwL0rQfGEn2nxPqjS6z4guT96fVdRc3F2x/3Xby1xwERQOlfTFABRRRQAUUUUAf/R/v4ooooAKKKKAPLfC/wR+EvgzxvqnxK8M+H7O18Qa0SbzURHuuZATkoJXyyRlst5aEJuJbGSTXqVFFaVKspu83cErJRWy0XkgooorMAooooAjmhhuIWt7hQ8bgqysMgg8EEHggiud8L+CvBvgi0ksPBekWWkQTP5kkdlbx26M5/iZY1UE+55rpqKACiiigAqC4tba7j8q6jWVQQ2HAYZU5Bwe4PIqeigAooooAKKKKACiiigD//Z",alt:"playstore icon"})}),(0,Y.jsx)("li",{children:(0,Y.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAqqADAAQAAAABAAAAMAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgAMACqAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAQEBAQEBAgEBAgMCAgIDBAMDAwMEBQQEBAQEBQYFBQUFBQUGBgYGBgYGBgcHBwcHBwgICAgICQkJCQkJCQkJCf/bAEMBAQEBAgICBAICBAkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCf/dAAQAC//aAAwDAQACEQMRAD8A/v4ooooAKKKKACiivye8Bf8ABUvw98a/+CmOs/8ABPP4F+EbvX7TwJZXNx408WNL5Vlpd1GgEVlFGEYzStM6xuWeMAiQKH8tiAD9YaKK+afjN8W/iR4T+Jng/wCFPwv0rTNQ1HxRbardmXVbqa2hiTTFtyUBggnYtKbgDdtwoUnDZAoA+lqK/P3wp/wUZ+DWs+C4vFniDTdXsDb5tNW8i1e8ttP1VRL/AMS57mIbZJ5WiIgKLtfzIc7GmjU9TrX/AAUH/Zk0eK9kg1S71E2N/Hp7pY2U9w7SSx2ro8aouZIma9ghEi5Xz2MWd6sAAfbNFfn74e/b+8Ea/wDEbUvCVrpOoyJBb2FvZ6fHav8A2xNrM13rFveWLWxIjX7NHpLzGTzPL2bn3ldpPpsf7bXwCfVPBVg2oyxQ+Ponk0q4lQRJvRZmeGeN2W4ikT7PKr7otqOux2ViAQD61or4i+H/AO2z4M8b+I/FuqXtldaJ4L8MeEdM8WrqupW0tu9xZ38mo7rhIiCWg8iyWROBLlirIpABbrv7fnwa8NiSx1rSvEcOswGczaP/AGXK1/FFb2i3zzvEpIEX2ZvMVtxyVaIDzlMdAH2/RXwr+1B+2xp3wI8JWmueEdAu/Ep1rwnr3ifTryBR9iWPRrJLxPtJyJVScSKMopYDtnitfWv28vgZ4V8JTeI/GA1HSbu31ZtFk0u9tvs179rSyXUiBHK6psNk63Ct5nKsE/1p8ugD7TorB8LeJtD8a+GNN8ZeGLgXemavaw3tpOoIEsFwgkjcBgCAyMDggHnmt6gAooooAKKKKAP/0P7+KKKKACuX8ceLtK8AeC9Y8ea6WFjollcX9wVGW8q2jaV8D12qcV1Fc54x8LaX448I6r4K1xS9lrFnPY3CjqYriNo3H4qxoA/ykf2nv+C03/BQ79pr463vxstvid4h8H2n2tptG0bQdQnsLLTrfdmGJYoGRZXVMCSSUO0jZJ4IUeHeJf8AgpZ+3t4pv5dQh+J+taPc3l42oXR8PPHobXt/Ictd3f8AZaWv2q5djkzT73JPWvFf2pf2cvHf7Iv7RHi/9mv4k272+reD9SmsGLAgTQqc29wmesdxCUlQjqrCvA+f4SVPYjgg+ooA/wBiX9gTwX+0x4A/ZE8EeGf2v/FS+MviDFp0b6rqKwrC2+Qb1gkZeJpIFIiefCmVlLlQSc9Z+0p4H+B1x4fT42/HDWbrwzp/gSzvrmXWLbVLnSha2U6Ibzzp7aWJvKZYULZOQVBUg18Y/wDBFD9qn9oj9sb/AIJ++EfjP+0j4ej0XVZQ1jZ3kbt/xObOzCwpqZhZQYTO6uNoZlcqZEwjqo+d/wDgv/8AFe+i/Z88BfsgeGdN1TXdV+Nvi/T9LutK0OAXOpXOhaXIuo6uLWJnQO5iiSPDMq4kO5gM0AffvwE+D37EHxl8L+G/j1+zi9prXhM/ZpdNbSL6dtHuJtJDWdvcParJ5E1xbbDGskiFwUUsS0aFez0P9hD9lnw1ZWmn6H4ZFvHY6da6VDi6uSwtbLUl1eFCzSkki9VZS5yzYCsSgC1/NZ+yZ+0340/Zw/Zp/bp/Zt+Hela98KtV8AW2sfEnwHpmuWkVrqmmaZrdtJOqLblriEJa3cfyYZ1IlGeSQPXdB/aA/bf+AqfsdftV+I/jtefEmP8AaH1nQtA8Q+Dbiz0+PTVg1mzEpuNLW2hSeOSwOPOkeRy7nL7QxSgD+grUP2MPgBe6/qXi62026sNZ1O9TUn1Gzvrq3uortJbyUSwSxyhoiTqF0rBMK0crIwKYAybn9jv9lzwbfad8QbrTv7KtfClna4MmoXEVikOlrctDNdo8vlSmJbu5LyT7i3mO0hY4YfzzXHxT/br+Nvhf9sz4t6d+0tqfgaD9nXxr4lXw3plrZ6WYGh0+L7XDBqbz27yy2jqgt7dAyEN5jMZSQo/ZDw/pt9/wVI/4JEaZp/xku38GXnxm8AW39p3VqNn2OfUbVS0saOwzGZDuEbMN0Z2buc0Acx+yN8Vv+CUXxv8AEvir4D/sv+PNL8e6jf8Ah9dI1TSv7Wu9T/4kFi80MdtCLmR1FnAbySNfJO0CQAseDX1x4K/Zc/Zrv4f+Es8PCXxDNOL23k1WbVbnUJphcW66dPG9y8zs4jhiEKqWPlkMRhy7H8YP2b/iF+0/+z58XtJ/4JBftSWHh3RvEWt+ANRHgb4l/DyOKC7Ww0uMRv8Aa7C7hcW1wFRXDYaB5UA2tyw/Mr9jT4vftF/si/8ABGb4P678F/iZf6fcfG/4h2vgWC71KCyn07wXb3Osakl5e2KGFSZrjZub7U8iq5yoXAoA/sD8ffssfBf4leFdF8GeKNPuG07QNNutGtY4Lu4gP9n3tp9iubWVopFaWKWEKGDknciuCGUGpPFv7L3wf8Y39zrd9Z3Nrqdzqkesi/sry4t7mK9jsI9MEkUkbgoGs41hdB8jjllLc1/P38S/2gf2uv2Lf2gfjp+xlB8XdZ+JWm2fwL1n4j6LrmtRWL614d1axEsCpJNbW8MUkUzKJYlliO07QMrnd434z/at/wCChHwY/YZ+A3xG8QfEvX/GPi79qfW/D1vJNo+naXHceHtPl05riSy0NLvyrVr+9UIvnXjlTL5jqB8oAB/XJaW0dnaxWcRYrEioC5LMQowMsckn1J5NWK/Hj/glj4p/bnm8UfE7wF+1Jo3jFPBOm3On3XgjVvHq6SuvzQ3MTi+tLttIkeCYW8yBopSqsUkAbOMD9h6ACiiigAooooA//9H+/iiiigAooooA/OP9sv8A4JNfsHft8+NdG+I/7TXghNY13REWGO+trq4sZ57ZWLC3uXtZIzNEGJKq+SuTtIBOfnvxl/wb3/8ABIjxnqukarN8ILLTTpMiv5Om3l7aQ3SrjEd1HHOFmU453fMeQWINftBRQBkeH9A0LwpoVl4X8MWcOnabp0EdraWtsixQwQxKEjjjjUBVRFAVVAAAAArybxV+zd8E/HHxy8LftJeLNBjvvGvgm1vLPQ9SklmzZQ6guy6EcIkEO6VRtZ2jL44BAr3CigD85P25f2APh9+0f4B+J/jX4faNY2nxe8ZfD7VPAllrtzPcQxmzvUdo4LlYi8bRLOwfeYXkXHyngCvOv2If+CRX7If7Kul/D/4mz+A9MHxT8MeH7KxudVhuLu5todQFokN/cWFvcSGC3a4kDs0kUETvuJOCzZ/WCigD8Bfgt/wQ1+AniX4sfGr4nftt+EdH8X3Hjn4j6n4o0Nra9vkB0i68qSC11KKJreKfZMrv5MqzRqWJB+Y1+0XxN+Bfwj+Mfwe1H4AfEfQbbUfBmq2S6dc6SA0Nu1qu0LCohKFFUKoUIV24GMYr1iigD4a/Ze/4Js/sUfsa+Kr/AMe/s9eBrfR9f1K3FnPqlzc3eo3ptgwbyEuL6aeWOHIBMaMqkgZBwMcx4Z/4JSf8E+fCPgPx38K9F+Gmnjwx8SrmK81/SZprqeymnhd5I5IIJZmS0ZJJHdTaiIqxyMYGP0MooA+FfhH/AME0f2Ivgd4H8ZfD/wCHXgSC3sviFYvpniOa6ury9vtRspImhNvNfXU8t35QjcqqLKFXOVAPNeheOv2JP2VfiZ+zfpv7I3j7wVY6t8O9FtrS00/R7gyutrHYKEtTBNv8+OSFQAkqyCQc/Nyc/VFFAHzD+zH+xz+z5+x5oeqeH/gDo9zpcGtTR3F613qN/qUs0kSbIyZb+4uHAVOAqsFx2r6eoooAKKKKACiiigD/2Q==",alt:"appstore icon"})})]})]})]})})]}),(0,Y.jsxs)("div",{className:"footer",children:[(0,Y.jsx)("p",{children:"Other Countries Pakistan - South Africa - Indonesia"}),(0,Y.jsx)("p",{children:"Free Classifieds in India. \xa9 2006-2021 OLX"})]})]})};function ne(){return(0,Y.jsx)("svg",{width:104,height:48,viewBox:"0 0 1603 768",className:"_3V9PS",children:(0,Y.jsxs)("g",{children:[(0,Y.jsx)("path",{className:"all",d:"M434.442 16.944h718.82c202.72 0 367.057 164.337 367.057 367.058s-164.337 367.057-367.057 367.057h-718.82c-202.721 0-367.058-164.337-367.058-367.058s164.337-367.058 367.058-367.058z"}),(0,Y.jsx)("path",{className:"left",d:"M427.241 669.489c-80.917 0-158.59-25.926-218.705-73.004l-0.016-0.014c-69.113-54.119-108.754-131.557-108.754-212.474 0-41.070 9.776-80.712 29.081-117.797 25.058-48.139 64.933-89.278 115.333-118.966l-52.379-67.581c-64.73 38.122-115.955 90.98-148.159 152.845-24.842 47.745-37.441 98.726-37.441 151.499 0 104.027 50.962 203.61 139.799 273.175h0.016c77.312 60.535 177.193 93.887 281.22 93.887h299.699l25.138-40.783-25.138-40.783h-299.698z"}),(0,Y.jsx)("path",{className:"top",d:"M1318.522 38.596v0c-45.72-14.369-93.752-21.658-142.762-21.658h-748.511c-84.346 0-165.764 21.683-235.441 62.713l3.118 51.726 49.245 15.865c54.16-31.895 117.452-48.739 183.073-48.739h748.511c38.159 0 75.52 5.657 111.029 16.829v0c44.91 14.111 86.594 37.205 120.526 66.792l66.163-57.68c-43.616-38.010-97.197-67.703-154.957-85.852z"}),(0,Y.jsx)("path",{className:"right",d:"M1473.479 124.453l-55.855 9.91-10.307 47.76c61.844 53.929 95.92 125.617 95.92 201.88 0 25.235-3.772 50.26-11.214 74.363-38.348 124.311-168.398 211.129-316.262 211.129h-448.812l25.121 40.783-25.121 40.783h448.812c190.107 0 357.303-111.638 406.613-271.498 9.572-31.009 14.423-63.162 14.423-95.559 0-98.044-43.805-190.216-123.317-259.551z"})]})})}function re(e){return(0,Y.jsx)("svg",{width:"16px",height:"16px",viewBox:"0 0 1024 1024","data-aut-id":"icon",className:!0,fillRule:"evenodd",children:(0,Y.jsx)("path",{className:"rui-367TP",d:"M414.898 123.739v291.218h-291.218l-97.014 97.014 97.014 97.131h291.218v291.16l97.073 97.071 97.073-97.071v-291.16h291.16l97.131-97.131-97.131-97.014h-291.16v-291.218l-97.073-97.073z"})})}function ie(){return(0,Y.jsx)("svg",{width:"48px",height:"48px",viewBox:"0 0 1024 1024","data-aut-id":"icon",className:!0,fillRule:"evenodd",children:(0,Y.jsx)("path",{className:"rui-77aaa",d:"M661.333 256v512h-128v-512h128zM277.333 298.667c117.824 0 213.333 95.531 213.333 213.333s-95.509 213.333-213.333 213.333c-117.824 0-213.333-95.531-213.333-213.333s95.509-213.333 213.333-213.333zM794.496 384l37.504 37.504 37.504-37.504h90.496v90.496l-37.504 37.504 37.504 37.504v90.496h-90.496l-37.504-37.504-37.504 37.504h-90.496v-90.496l37.504-37.504-37.504-37.504v-90.496h90.496zM277.333 426.667c-47.061 0-85.333 38.293-85.333 85.333s38.272 85.333 85.333 85.333c47.061 0 85.333-38.293 85.333-85.333s-38.272-85.333-85.333-85.333z"})})}function ae(e){return(0,Y.jsx)("svg",{width:"25px",height:"25px",viewBox:"0 0 1024 1024","data-aut-id":"icon",color:e.color?e.color:"",className:!0,fillRule:"evenodd",children:(0,Y.jsx)("path",{className:"rui-77aaa",d:"M448 725.333c-152.917 0-277.333-124.416-277.333-277.333s124.416-277.333 277.333-277.333c152.917 0 277.333 124.416 277.333 277.333s-124.416 277.333-277.333 277.333v0zM884.437 824.107v0.021l-151.915-151.936c48.768-61.781 78.144-139.541 78.144-224.192 0-199.979-162.688-362.667-362.667-362.667s-362.667 162.688-362.667 362.667c0 199.979 162.688 362.667 362.667 362.667 84.629 0 162.411-29.376 224.171-78.144l206.144 206.144h60.352v-60.331l-54.229-54.229z"})})}function oe(){return(0,Y.jsx)("svg",{width:"24px",height:"24px",viewBox:"0 0 1024 1024","data-aut-id":"icon",className:!0,fillRule:"evenodd",children:(0,Y.jsx)("path",{className:"rui-77aaa",d:"M85.392 277.333h60.331l366.336 366.336 366.336-366.336h60.331v60.331l-408.981 409.003h-35.307l-409.045-409.003z"})})}var ue=(0,r.createContext)(null),se=(0,r.createContext)(null);function ce(e){var t=e.children,n=c((0,r.useState)(null),2),i=n[0],a=n[1];return(0,Y.jsx)(se.Provider,{value:{user:i,setUser:a},children:t})}var le=function(){var e=c((0,r.useState)("fa-solid fa-bars"),2),t=e[0],n=e[1],i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=(0,r.useContext)(se).user,s=(0,r.useContext)(ue).firebase,l=j(),f=c((0,r.useState)(""),2),h=f[0],d=f[1];return(0,Y.jsxs)("div",{className:"container-fluid navbar-parent shadow",children:[(0,Y.jsxs)("div",{className:"navbar-child d-flex align-items-center",children:[(0,Y.jsx)(X,{to:"/",children:(0,Y.jsx)("div",{className:"logo mr-3",children:(0,Y.jsx)(ie,{})})}),(0,Y.jsxs)("div",{className:"placeSearch mr-4 d-flex align-items-center",children:[(0,Y.jsx)(ae,{}),(0,Y.jsx)("input",{type:"text",placeholder:"Inida",className:"pl-1"}),(0,Y.jsx)(oe,{})]}),(0,Y.jsxs)("div",{className:"productSearch d-flex align-items-center justify-content-space-between bg-white",children:[(0,Y.jsx)("div",{className:"input",children:(0,Y.jsx)("input",{type:"text",placeholder:"Find car,mobile phone and more..."})}),(0,Y.jsx)("div",{className:"searchAction d-flex",children:(0,Y.jsx)(ae,{color:"#ffffff"})})]}),(0,Y.jsxs)("div",{className:"language",children:[(0,Y.jsx)("span",{className:"mr-3",children:"ENGLISH"}),(0,Y.jsx)("div",{onClick:function(){o((function(e){return 1!=e}))},children:(0,Y.jsx)("i",{style:{cursor:"pointer",transition:"0.5s ease"},class:"fa-solid fa-power-off"})}),a&&(0,Y.jsx)("div",{className:"logout",children:(0,Y.jsx)("button",{onClick:function(){s.auth().signOut().then(l("/login"))},className:"btn",children:"Logout"})})]}),(0,Y.jsxs)("div",{onClick:function(){u?console.log("already logged"):l("/login")},className:"loginPage ml-4 mr-3 d-flex flex-column",children:[(0,Y.jsx)("span",{className:"welcome",children:u&&"welcome"}),(0,Y.jsx)("span",{className:"login-user",children:u?u.displayName:"Login"}),(0,Y.jsx)("hr",{})]}),(0,Y.jsxs)("div",{className:"sellMenu mr-4",children:[(0,Y.jsx)(ne,{}),(0,Y.jsx)(X,{to:"/create/post",children:(0,Y.jsxs)("div",{className:"sellMenuContent",children:[(0,Y.jsx)(re,{}),(0,Y.jsx)("span",{children:"SELL"})]})})]}),(0,Y.jsx)("i",{onClick:function(){n((function(e){return"fa-solid fa-xmark"==e?"fa-solid fa-bars":"fa-solid fa-xmark"})),d((function(e){return""==e?"active":""}))},class:"".concat(t," menu")})]}),(0,Y.jsxs)("div",{className:"shadow bg-white menu-opt ".concat(h),children:[(0,Y.jsx)("i",{onClick:function(){s.auth().signOut().then(l("/login"))},class:"fa-solid fa-power-off"}),(0,Y.jsx)("i",{class:"fa-solid fa-magnifying-glass"}),(0,Y.jsx)("i",{class:"fa-solid fa-language"})]})]})};function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=(0,r.createContext)(null);var ve=function(e){var t=e.children,n=c((0,r.useState)(),2),i=n[0],a=n[1];return(0,Y.jsx)(pe.Provider,{value:{postDetails:i,setPostDetails:a},children:t})};var me=function(){var e=(0,r.useContext)(ue).firebase,t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=(0,r.useContext)(pe).setPostDetails,o=j();return(0,r.useEffect)((function(){e.firestore().collection("Products").get().then((function(e){var t=e.docs.map((function(e){return de(de({},e.data()),{},{id:e.id})}));console.log(t),i(t)}))}),[]),(0,Y.jsx)("div",{className:"postParentDiv",children:(0,Y.jsxs)("div",{className:"moreView",children:[(0,Y.jsxs)("div",{className:"heading d-flex align-items-center",children:[(0,Y.jsx)("span",{children:"Quick Menu"}),(0,Y.jsx)("span",{children:"View more"})]}),(0,Y.jsx)("div",{className:"cards",children:n.map((function(e){return(0,Y.jsxs)("div",{className:"card col-lg-3 col-md-4 col-sm-6 col-xsm-12",children:[(0,Y.jsxs)("div",{className:"p-3 bg-white shadow w-100 card-child",children:[(0,Y.jsx)("div",{className:"favorite",children:(0,Y.jsx)("i",{style:{fontSize:"25px"},className:"fa-solid fa-heart"})}),(0,Y.jsx)("div",{className:"image",onClick:function(){a(e),o("/view/post")},children:(0,Y.jsx)("img",{src:e.url,alt:""})}),(0,Y.jsxs)("div",{className:"content",onClick:function(){a(e),o("/view/post")},children:[(0,Y.jsxs)("p",{className:"rate",children:["\u20b9 ",e.price]}),(0,Y.jsx)("span",{className:"kilometer",children:e.category}),(0,Y.jsxs)("p",{className:"name",children:[" ",e.name]})]}),(0,Y.jsx)("div",{className:"date",children:(0,Y.jsx)("span",{children:e.createdAt})})]}),(0,Y.jsx)("div",{className:"feature",children:(0,Y.jsx)("h6",{children:"Featured"})})]})}))})]})})};var ye=function(){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(le,{}),(0,Y.jsx)(Z,{}),(0,Y.jsx)(ee,{}),(0,Y.jsx)(me,{}),(0,Y.jsx)(te,{})]})},ge=n.p+"static/media/olx-logo.b3f099a2fe7978c70944.png";var ke=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=(0,r.useContext)(ue).firebase,s=j();return(0,Y.jsx)("div",{children:(0,Y.jsxs)("div",{className:"login-container",children:[(0,Y.jsx)("img",{width:"200px",height:"200px",src:ge}),(0,Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.auth().signInWithEmailAndPassword(t,a).then((function(){s("/")})).catch((function(e){alert(e.message)}))},children:[(0,Y.jsx)("label",{htmlFor:"fname",children:"Email"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{className:"input",type:"email",id:"fname",value:t,onChange:function(e){return n(e.target.value)},name:"email",defaultValue:"John"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("label",{htmlFor:"lname",children:"Password"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{className:"input",type:"password",id:"lname",name:"password",value:a,onChange:function(e){return o(e.target.value)}}),(0,Y.jsx)("br",{}),(0,Y.jsx)("br",{}),(0,Y.jsx)("button",{children:"Login"})]}),(0,Y.jsx)(X,{to:"/signup",style:{textDecoration:"none",color:"black"},children:"Signup"})]})})};var be=function(){return(0,Y.jsx)("div",{children:(0,Y.jsx)(ke,{})})};var we=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=c((0,r.useState)(""),2),s=u[0],l=u[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=(0,r.useContext)(ue).firebase,v=j();return(0,Y.jsx)("div",{children:(0,Y.jsxs)("div",{className:"signup-container",children:[(0,Y.jsx)("img",{width:"200px",height:"200px",src:ge}),(0,Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.auth().createUserWithEmailAndPassword(s,h).then((function(e){e=p.auth().currentUser;console.log(e),e.updateProfile({displayName:t}).then((function(){p.firestore().collection("users").add({id:e.uid,username:t,phone:a}).then((function(){v("/login")}))}))}))},children:[(0,Y.jsx)("label",{htmlFor:"fname",children:"Username"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{required:!0,className:"input",type:"text",id:"fname",value:t,onChange:function(e){return n(e.target.value)},name:"name"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{required:!0,className:"input",value:s,onChange:function(e){return l(e.target.value)},type:"email",id:"email",name:"email"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{required:!0,className:"input",type:"number",value:a,onChange:function(e){return o(e.target.value)},id:"phone",name:"phone"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{required:!0,className:"input",type:"password",value:h,onChange:function(e){return d(e.target.value)},id:"password",name:"password"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("br",{}),(0,Y.jsx)("button",{children:"Signup"})]}),(0,Y.jsx)(X,{to:"/login",style:{textDecoration:"none",color:"black"},children:"Login"})]})})};var xe=function(){return(0,Y.jsx)("div",{children:(0,Y.jsx)(we,{})})};var _e=function(){return(0,Y.jsxs)("div",{className:"main",children:[(0,Y.jsxs)("div",{class:"preloader",children:[(0,Y.jsx)("div",{class:"preloader__square"}),(0,Y.jsx)("div",{class:"preloader__square"}),(0,Y.jsx)("div",{class:"preloader__square"}),(0,Y.jsx)("div",{class:"preloader__square"})]}),(0,Y.jsxs)("div",{class:"status",children:["Uploading",(0,Y.jsx)("span",{class:"status__dot",children:"."}),(0,Y.jsx)("span",{class:"status__dot",children:"."}),(0,Y.jsx)("span",{class:"status__dot",children:"."})]})]})};var Ie=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=c((0,r.useState)(""),2),s=u[0],l=u[1],f=c((0,r.useState)(),2),h=f[0],d=f[1],p=c((0,r.useState)([]),2),v=p[0],m=p[1],y=c((0,r.useState)(!1),2),g=y[0],k=y[1],b=c((0,r.useState)(!1),2),w=b[0],x=b[1],_=new Date,I=j(),E=(0,r.useContext)(ue).firebase,S=(0,r.useContext)(se).user;return(0,Y.jsxs)("card",{children:[w?(0,Y.jsx)(_e,{}):(0,Y.jsx)("div",{className:"create-container",children:(0,Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S?(x(!0),E.storage().ref("/image/".concat(v.name)).put(v).then((function(e){e.ref.getDownloadURL().then((function(e){console.log(e),E.firestore().collection("Products").add({name:a,category:s,price:h,url:e,userId:S.uid,createdAt:_.toDateString()}).then((function(){I("/"),x(!1)}))}))}))):n(!0)},children:[(0,Y.jsx)("label",{htmlFor:"fname",children:"Name"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{className:"input",value:a,onChange:function(e){o(e.target.value)},type:"text",id:"fname",name:"Name",defaultValue:"John"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("label",{htmlFor:"fname",children:"Category"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{className:"input",type:"text",value:s,id:"fname",onChange:function(e){l(e.target.value)},name:"category"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("label",{htmlFor:"fname",children:"Price"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{className:"input",value:h,onChange:function(e){d(e.target.value)},type:"number",id:"fname",name:"Price"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("br",{}),(0,Y.jsx)("img",{alt:"Posts",width:"200px",height:"200px",src:"".concat(g?URL.createObjectURL(v):""),className:"mb-2"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("input",{onChange:function(e){m(e.target.files[0]),k(!0)},type:"file"}),(0,Y.jsx)("br",{}),(0,Y.jsx)("button",{type:"submit",className:"uploadBtn",children:"upload and Submit"})]})}),t&&alert("please login to sell")]})};var Ee=function(){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(le,{}),(0,Y.jsx)(Ie,{})]})};var Se=function(){var e=c((0,r.useState)(),2),t=e[0],n=e[1],i=(0,r.useContext)(pe).postDetails,a=(0,r.useContext)(ue).firebase;return(0,r.useEffect)((function(){var e=i.userId;a.firestore().collection("users").where("id","==",e).get().then((function(e){e.forEach((function(e){n(e.data())}))}))}),[]),(0,Y.jsxs)("div",{className:"view-container container-fluid row",children:[(0,Y.jsx)("div",{className:"mt-5 imageShowDiv col-xlg-8 col-lg-8 col-md-12 col-sm-12 col-12",children:(0,Y.jsx)("img",{src:i.url,alt:""})}),(0,Y.jsxs)("div",{className:"rightSection col-xlg-4 col-lg-4 col-md-12 col-sm-12 col-12",children:[(0,Y.jsxs)("div",{className:"productDetails pl-4",children:[(0,Y.jsxs)("p",{children:["\u20b9 ",i.price," "]}),(0,Y.jsx)("span",{children:i.name}),(0,Y.jsx)("p",{children:i.category}),(0,Y.jsx)("span",{children:i.createdAt})]}),t&&(0,Y.jsxs)("div",{className:"pl-4 contactDetails",children:[(0,Y.jsx)("p",{children:"Seller details"}),(0,Y.jsx)("p",{children:t.username}),(0,Y.jsx)("p",{children:t.phone})]})]})]})};var Te=function(){return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(le,{}),(0,Y.jsx)(Se,{})]})};var Ae=function(){var e=(0,r.useContext)(ue).firebase,t=(0,r.useContext)(se),n=t.user,i=t.setUser;return(0,r.useEffect)((function(){console.log(n),console.log("completed"),e.auth().onAuthStateChanged((function(e){i(e)}))})),(0,Y.jsx)("div",{className:"App",children:(0,Y.jsx)(ve,{children:(0,Y.jsx)(J,{children:(0,Y.jsxs)(K,{children:[(0,Y.jsx)(q,{exact:!0,path:"/",element:(0,Y.jsx)(ye,{})}),(0,Y.jsx)(q,{path:"/signup",element:(0,Y.jsx)(xe,{})}),(0,Y.jsx)(q,{path:"/login",element:(0,Y.jsx)(be,{})}),(0,Y.jsx)(q,{path:"/create/post",element:(0,Y.jsx)(Ee,{}),loading:!0}),(0,Y.jsx)(q,{path:"/view/post",element:(0,Y.jsx)(Te,{})})]})})})})};function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function Le(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}function Fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function je(e,t){if(t&&("object"===Ue(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Ve(e){var t=Fe();return function(){var n,r=Me(e);if(t){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return je(this,n)}}function Be(e,t,n){return Be=Fe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Oe(i,n.prototype),i},Be.apply(null,arguments)}function qe(e){var t="function"===typeof Map?new Map:void 0;return qe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Be(e,arguments,Me(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Oe(n,e)},qe(e)}var ze=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ze(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},We=function(e){return function(e){var t=ze(e);return Ke.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ge=function(e){try{return Ke.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function He(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=He(e[n],t[n]));return e}var Qe=function(){function e(){var t=this;Ce(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Re(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Je(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(a)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function $e(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function et(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function tt(){var e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nt(){return"object"===typeof indexedDB}var rt=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pe(a),it.prototype.create),a}return Re(n)}(qe(Error)),it=function(){function e(t,n,r){Ce(this,e),this.service=t,this.serviceName=n,this.errors=r}return Re(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?at(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new rt(n,a,t);return o}}]),e}();function at(e,t){return e.replace(ot,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ot=/\{\$([^}]+)}/g;function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function st(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ct(u)&&ct(s)){if(!st(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ct(e){return null!==e&&"object"===typeof e}function lt(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ft(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ht(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function dt(e,t){var n=new pt(e,t);return n.subscribe.bind(n)}var pt=function(){function e(t,n){var r=this;Ce(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Re(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=De(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=vt),void 0===r.error&&(r.error=vt),void 0===r.complete&&(r.complete=vt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function vt(){}function mt(e){return e&&e._delegate?e._delegate:e}function yt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function gt(e){return function(e){if(Array.isArray(e))return o(e)}(e)||yt(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function bt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){kt(a,r,i,o,u,"next",e)}function u(e){kt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var wt=n(757),xt=n.n(wt),_t=function(){function e(t,n,r){Ce(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Re(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),It="[DEFAULT]",Et=function(){function e(t,n){Ce(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Re(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:It})}catch(s){}var t,n=De(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=bt(wt.mark((function e(){var t;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(gt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),gt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=De(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(__){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===It?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(__){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.component?this.component.multipleInstances?e:It:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var St,Tt,At=function(){function e(t){Ce(this,e),this.name=t,this.providers=new Map}return Re(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Et(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ct=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tt||(Tt={}));var Nt={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},Rt=Tt.INFO,Dt=(fe(St={},Tt.DEBUG,"log"),fe(St,Tt.VERBOSE,"log"),fe(St,Tt.INFO,"info"),fe(St,Tt.WARN,"warn"),fe(St,Tt.ERROR,"error"),St),Pt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Dt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ot=function(){function e(t){Ce(this,e),this.name=t,this._logLevel=Rt,this._logHandler=Pt,this._userLogHandler=null,Ct.push(this)}return Re(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Tt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Nt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Tt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Tt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.INFO].concat(t)),this._logHandler.apply(this,[this,Tt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.WARN].concat(t)),this._logHandler.apply(this,[this,Tt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.ERROR].concat(t)),this._logHandler.apply(this,[this,Tt.ERROR].concat(t))}}]),e}();var Lt,Mt;var Ft=new WeakMap,Ut=new WeakMap,jt=new WeakMap,Vt=new WeakMap,Bt=new WeakMap;var qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ut.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mt||(Mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gt(this),n),Wt(Ft.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wt(e.apply(Gt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Gt(this),t].concat(r));return jt.set(a,t.sort?t.sort():[t]),Wt(a)}}function Kt(e){return"function"===typeof e?zt(e):(e instanceof IDBTransaction&&function(e){if(!Ut.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ut.set(e,t)}}(e),t=e,(Lt||(Lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,qt):e);var t}function Wt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Wt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ft.set(t,e)})).catch((function(){})),Bt.set(t,e),t}(e);if(Vt.has(e))return Vt.get(e);var t=Kt(e);return t!==e&&(Vt.set(e,t),Bt.set(t,e)),t}var Gt=function(e){return Bt.get(e)};var Ht,Qt,Jt=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],Yt=new Map;function Zt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Yt.get(t))return Yt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Jt.includes(n))){var a=function(){var e=bt(wt.mark((function e(t){var a,o,u,s,c,l,f=arguments;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Yt.set(t,a),a}}}qt=function(e){return de(de({},e),{},{get:function(t,n,r){return Zt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Zt(t,n)||e.has(t,n)}})}(qt);var $t=function(){function e(t){Ce(this,e),this.container=t}return Re(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var en="@firebase/app",tn="0.7.24",nn=new Ot("@firebase/app"),rn="[DEFAULT]",an=(fe(Ht={},en,"fire-core"),fe(Ht,"@firebase/app-compat","fire-core-compat"),fe(Ht,"@firebase/analytics","fire-analytics"),fe(Ht,"@firebase/analytics-compat","fire-analytics-compat"),fe(Ht,"@firebase/app-check","fire-app-check"),fe(Ht,"@firebase/app-check-compat","fire-app-check-compat"),fe(Ht,"@firebase/auth","fire-auth"),fe(Ht,"@firebase/auth-compat","fire-auth-compat"),fe(Ht,"@firebase/database","fire-rtdb"),fe(Ht,"@firebase/database-compat","fire-rtdb-compat"),fe(Ht,"@firebase/functions","fire-fn"),fe(Ht,"@firebase/functions-compat","fire-fn-compat"),fe(Ht,"@firebase/installations","fire-iid"),fe(Ht,"@firebase/installations-compat","fire-iid-compat"),fe(Ht,"@firebase/messaging","fire-fcm"),fe(Ht,"@firebase/messaging-compat","fire-fcm-compat"),fe(Ht,"@firebase/performance","fire-perf"),fe(Ht,"@firebase/performance-compat","fire-perf-compat"),fe(Ht,"@firebase/remote-config","fire-rc"),fe(Ht,"@firebase/remote-config-compat","fire-rc-compat"),fe(Ht,"@firebase/storage","fire-gcs"),fe(Ht,"@firebase/storage-compat","fire-gcs-compat"),fe(Ht,"@firebase/firestore","fire-fst"),fe(Ht,"@firebase/firestore-compat","fire-fst-compat"),fe(Ht,"fire-js","fire-js"),fe(Ht,"firebase","fire-js-all"),Ht),on=new Map,un=new Map;function sn(e,t){try{e.container.addComponent(t)}catch(n){nn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function cn(e,t){e.container.addOrOverwriteComponent(t)}function ln(e){var t=e.name;if(un.has(t))return nn.debug("There were multiple attempts to register component ".concat(t,".")),!1;un.set(t,e);var n,r=De(on.values());try{for(r.s();!(n=r.n()).done;){sn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function fn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rn;fn(e,t).clearInstance(n)}function dn(){un.clear()}var pn=(fe(Qt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fe(Qt,"bad-app-name","Illegal App name: '{$appName}"),fe(Qt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),fe(Qt,"app-deleted","Firebase App named '{$appName}' already deleted"),fe(Qt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fe(Qt,"invalid-log-argument","First argument to `onLog` must be null or a function."),fe(Qt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),fe(Qt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),fe(Qt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),fe(Qt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Qt),vn=new it("app","Firebase",pn),mn=function(){function e(t,n,r){var i=this;Ce(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",(function(){return i}),"PUBLIC"))}return Re(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}]),e}(),yn="9.8.1";function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:rn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vn.create("bad-app-name",{appName:String(i)});var a=on.get(i);if(a){if(st(e,a.options)&&st(r,a.config))return a;throw vn.create("duplicate-app",{appName:i})}var o,u=new At(i),s=De(un.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new mn(e,r,u);return on.set(i,l),l}function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=on.get(e);if(!t)throw vn.create("no-app",{appName:e});return t}function bn(){return Array.from(on.values())}function wn(e){return xn.apply(this,arguments)}function xn(){return(xn=bt(wt.mark((function e(t){var n;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!on.has(n)){e.next=6;break}return on.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(e,t,n){var r,i=null!==(r=an[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nn.warn(u.join(" "))}ln(new _t("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function In(e,t){if(null!==e&&"function"!==typeof e)throw vn.create("invalid-log-argument");!function(e,t){var n,r=De(Ct);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Nt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Tt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function En(e){var t;t=e,Ct.forEach((function(e){e.setLogLevel(t)}))}var Sn="firebase-heartbeat-store",Tn=null;function An(){return Tn||(Tn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Wt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Wt(u.result),e.oldVersion,e.newVersion,Wt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Sn)}}).catch((function(e){throw vn.create("storage-open",{originalErrorMessage:e.message})}))),Tn}function Cn(e){return Nn.apply(this,arguments)}function Nn(){return Nn=bt(wt.mark((function e(t){var n;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:return n=e.sent,e.abrupt("return",n.transaction(Sn).objectStore(Sn).get(Pn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),vn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Nn.apply(this,arguments)}function Rn(e,t){return Dn.apply(this,arguments)}function Dn(){return Dn=bt(wt.mark((function e(t,n){var r,i,a;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:return r=e.sent,i=r.transaction(Sn,"readwrite"),a=i.objectStore(Sn),e.next=8,a.put(n,Pn(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),vn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Dn.apply(this,arguments)}function Pn(e){return"".concat(e.name,"!").concat(e.options.appId)}var On=function(){function e(t){var n=this;Ce(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Re(e,[{key:"triggerHeartbeat",value:function(){var e=bt(wt.mark((function e(){var t,n,r;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ln(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=bt(wt.mark((function e(){var t,n,r,i,a;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ln(),n=Mn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=We(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ln(){return(new Date).toISOString().substring(0,10)}function Mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=De(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Vn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Vn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fn,Un,jn=function(){function e(t){Ce(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Re(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=bt(wt.mark((function e(){return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=bt(wt.mark((function e(){var t;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Cn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=bt(wt.mark((function e(t){var n,r;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Rn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=bt(wt.mark((function e(t){var n,r;return wt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Rn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(gt(r.heartbeats),gt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Vn(e){return We(JSON.stringify({version:2,heartbeats:e})).length}Fn="",ln(new _t("platform-logger",(function(e){return new $t(e)}),"PRIVATE")),ln(new _t("heartbeat",(function(e){return new On(e)}),"PRIVATE")),_n(en,tn,Fn),_n(en,tn,"esm2017"),_n("fire-js","");var Bn=function(){function e(t,n){var r=this;Ce(this,e),this._delegate=t,this.firebase=n,sn(t,new _t("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Re(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),wn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){sn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){cn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),qn=(fe(Un={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fe(Un,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Un),zn=new it("app-compat","Firebase",qn);var Kn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=gn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ut(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:_n,setLogLevel:En,onLog:In,apps:null,SDK_VERSION:yn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ln(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw zn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&He(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ut(n,e=e||rn))throw zn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Bn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){He(n,e)},createSubscribe:dt,ErrorFactory:it,deepExtend:He}),n}(),Wn=new Ot("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gn=self.firebase.SDK_VERSION;Gn&&Gn.indexOf("LITE")>=0&&Wn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Hn=Kn;!function(e){_n("@firebase/app-compat","0.1.25",e)}();function Qn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Me(e)););return e}function Jn(){return Jn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jn.apply(this,arguments)}Hn.registerVersion("firebase","9.8.1","app-compat");function Xn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Yn;Object.create;var Zn="facebook.com",$n="github.com",er="google.com",tr="password",nr="twitter.com",rr="EMAIL_SIGNIN",ir="PASSWORD_RESET",ar="RECOVER_EMAIL",or="REVERT_SECOND_FACTOR_ADDITION",ur="VERIFY_AND_CHANGE_EMAIL",sr="VERIFY_EMAIL";function cr(){return fe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var lr=function(){var e;return fe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),fe(e,"argument-error",""),fe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),fe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),fe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),fe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),fe(e,"cordova-not-ready","Cordova framework is not ready."),fe(e,"cors-unsupported","This browser is not supported."),fe(e,"credential-already-in-use","This credential is already associated with a different user account."),fe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),fe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),fe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),fe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),fe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),fe(e,"email-already-in-use","The email address is already in use by another account."),fe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),fe(e,"expired-action-code","The action code has expired."),fe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),fe(e,"internal-error","An internal AuthError has occurred."),fe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),fe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),fe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),fe(e,"invalid-auth-event","An internal AuthError has occurred."),fe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),fe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),fe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),fe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),fe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),fe(e,"invalid-email","The email address is badly formatted."),fe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),fe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),fe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),fe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),fe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),fe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),fe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),fe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),fe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),fe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),fe(e,"wrong-password","The password is invalid or the user does not have a password."),fe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),fe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),fe(e,"invalid-provider-id","The specified provider ID is invalid."),fe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),fe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),fe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),fe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),fe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),fe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),fe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),fe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),fe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),fe(e,"missing-continue-uri","A continue URL must be provided in the request."),fe(e,"missing-iframe-start","An internal AuthError has occurred."),fe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),fe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),fe(e,"missing-multi-factor-info","No second factor identifier is provided."),fe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),fe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),fe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),fe(e,"app-deleted","This instance of FirebaseApp has been deleted."),fe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),fe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),fe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),fe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),fe(e,"no-auth-event","An internal AuthError has occurred."),fe(e,"no-such-provider","User was not linked to an account with the given provider."),fe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),fe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),fe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),fe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),fe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),fe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),fe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),fe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),fe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),fe(e,"rejected-credential","The request contains malformed or mismatching credentials."),fe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),fe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),fe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),fe(e,"timeout","The operation has timed out."),fe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),fe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),fe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),fe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),fe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),fe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),fe(e,"unverified-email","The operation requires a verified email."),fe(e,"user-cancelled","The user did not grant your application the permissions it requested."),fe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),fe(e,"user-disabled","The user account has been disabled by an administrator."),fe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),fe(e,"user-signed-out",""),fe(e,"weak-password","The password must be 6 characters long or more."),fe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),fe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},fr=cr,hr=new it("auth","Firebase",cr()),dr=new Ot("@firebase/auth");function pr(e){if(dr.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dr.error.apply(dr,["Auth (".concat(yn,"): ").concat(e)].concat(n))}}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kr.apply(void 0,[e].concat(n))}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kr.apply(void 0,[e].concat(n))}function yr(e,t,n){var r=Object.assign(Object.assign({},fr()),fe({},t,n));return new it("auth","Firebase",r).create(t,{appName:e.name})}function gr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vr(e,"argument-error"),yr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=gt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(gt(o)))}return hr.create.apply(hr,[e].concat(n))}function br(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kr.apply(void 0,[t].concat(r))}}function wr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw pr(t),new Error(t)}function xr(e,t){e||wr(t)}var _r=new Map;function Ir(e){xr(e instanceof Function,"Expected a class definition");var t=_r.get(e);return t?(xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_r.set(e,t),t)}function Er(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sr(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ar=function(){function e(t,n){Ce(this,e),this.shortDelay=t,this.longDelay=n,xr(n>t,"Short delay should be less than long delay!"),this.isMobile=Ye()||et()}return Re(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sr()||$e()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Cr(e,t){xr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Nr=function(){function e(){Ce(this,e)}return Re(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Rr=(fe(Yn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),fe(Yn,"MISSING_CUSTOM_TOKEN","internal-error"),fe(Yn,"INVALID_IDENTIFIER","invalid-email"),fe(Yn,"MISSING_CONTINUE_URI","internal-error"),fe(Yn,"INVALID_PASSWORD","wrong-password"),fe(Yn,"MISSING_PASSWORD","internal-error"),fe(Yn,"EMAIL_EXISTS","email-already-in-use"),fe(Yn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),fe(Yn,"INVALID_IDP_RESPONSE","invalid-credential"),fe(Yn,"INVALID_PENDING_TOKEN","invalid-credential"),fe(Yn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),fe(Yn,"MISSING_REQ_TYPE","internal-error"),fe(Yn,"EMAIL_NOT_FOUND","user-not-found"),fe(Yn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),fe(Yn,"EXPIRED_OOB_CODE","expired-action-code"),fe(Yn,"INVALID_OOB_CODE","invalid-action-code"),fe(Yn,"MISSING_OOB_CODE","internal-error"),fe(Yn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),fe(Yn,"INVALID_ID_TOKEN","invalid-user-token"),fe(Yn,"TOKEN_EXPIRED","user-token-expired"),fe(Yn,"USER_NOT_FOUND","user-token-expired"),fe(Yn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),fe(Yn,"INVALID_CODE","invalid-verification-code"),fe(Yn,"INVALID_SESSION_INFO","invalid-verification-id"),fe(Yn,"INVALID_TEMPORARY_PROOF","invalid-credential"),fe(Yn,"MISSING_SESSION_INFO","missing-verification-id"),fe(Yn,"SESSION_EXPIRED","code-expired"),fe(Yn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),fe(Yn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),fe(Yn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),fe(Yn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),fe(Yn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),fe(Yn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),fe(Yn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),fe(Yn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),fe(Yn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),fe(Yn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),fe(Yn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Yn),Dr=new Ar(3e4,6e4);function Pr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Or(e,t,n,r){return Lr.apply(this,arguments)}function Lr(){return Lr=bt(xt().mark((function e(t,n,r,i){var a,o=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Mr(t,a,bt(xt().mark((function e(){var a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=lt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Nr.fetch()(Vr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}function Mr(e,t,n){return Fr.apply(this,arguments)}function Fr(){return(Fr=bt(xt().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Rr),n),e.prev=2,a=new Br(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw qr(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw qr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw qr(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw yr(t,p,d);case 30:vr(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof rt)){e.next=37;break}throw e.t0;case 37:vr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Ur(e,t,n,r){return jr.apply(this,arguments)}function jr(){return jr=bt(xt().mark((function e(t,n,r,i){var a,o,u=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Or(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&vr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Vr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Cr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Br=function(){function e(t){var n=this;Ce(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(mr(n.auth,"network-request-failed"))}),Dr.get())}))}return Re(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=mr(e,t,r);return i.customData._tokenResponse=n,i}function zr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Xr(){return Xr=bt(xt().mark((function e(t){var n,r,i,a,o,u,s=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=mt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,br((a=Zr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Jr(Yr(a.auth_time)),issuedAtTime:Jr(Yr(a.iat)),expirationTime:Jr(Yr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Yr(e){return 1e3*Number(e)}function Zr(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return pr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ge(r);return a?JSON.parse(a):(pr("Failed to decode base64 JWT payload"),null)}catch(o){return pr("Caught error parsing JWT payload as JSON",o),null}}function $r(e,t){return ei.apply(this,arguments)}function ei(){return ei=bt(xt().mark((function e(t,n){var r=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof rt&&ti(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ei.apply(this,arguments)}function ti(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ni=function(){function e(t){Ce(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Re(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ri=function(){function e(t,n){Ce(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Re(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ii(e){return ai.apply(this,arguments)}function ai(){return ai=bt(xt().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,$r(t,Hr(r,{idToken:i}));case 6:br(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?si(o.providerUserInfo):[],s=ui(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ri(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(){return(oi=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mt(t),e.next=3,ii(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(gt(n),gt(t))}function si(e){return e.map((function(e){var t=e.providerId,n=Xn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ci(e,t){return li.apply(this,arguments)}function li(){return(li=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr(t,{},bt(xt().mark((function e(){var r,i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Vr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Nr.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fi=function(){function e(){Ce(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Re(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){br(e.idToken,"internal-error"),br("undefined"!==typeof e.idToken,"internal-error"),br("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Zr(e);return br(t,"internal-error"),br("undefined"!==typeof t.exp,"internal-error"),br("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=bt(xt().mark((function e(t){var n,r=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],br(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return wr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(br("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(br("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(br("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function hi(e,t){br("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var di=function(){function e(t){Ce(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Xn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?gt(a.providerData):[],this.metadata=new ri(a.createdAt||void 0,a.lastLoginAt||void 0)}return Re(e,[{key:"getIdToken",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$r(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(br(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Xr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return oi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(br(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=bt(xt().mark((function e(t){var n,r,i=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ii(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,$r(this,zr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;br(k&&_,t,"internal-error");var I=fi.fromJSON(this.name,_);br("string"===typeof k,t,"internal-error"),hi(f,t.name),hi(h,t.name),br("boolean"===typeof b,t,"internal-error"),br("boolean"===typeof w,t,"internal-error"),hi(d,t.name),hi(p,t.name),hi(v,t.name),hi(m,t.name),hi(y,t.name),hi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=bt(xt().mark((function t(n,r){var i,a,o,u=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new fi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ii(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),pi=function(){function e(){Ce(this,e),this.type="NONE",this.storage={}}return Re(e,[{key:"_isAvailable",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();pi.type="NONE";var vi=pi;function mi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yi=function(){function e(t,n,r){Ce(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mi(this.userKey,a.apiKey,o),this.fullPersistenceKey=mi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Re(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?di._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=bt(xt().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ir(vi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ir(vi),u=mi(i,n.config.apiKey,n.name),s=null,c=De(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=di._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ki(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ii(t))return"Blackberry";if(Ei(t))return"Webos";if(bi(t))return"Safari";if((t.includes("chrome/")||wi(t))&&!t.includes("edge/"))return"Chrome";if(_i(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)}function Ti(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Si(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ai(){return tt()&&10===document.documentMode}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Si(e)||_i(e)||Ei(e)||Ii(e)||/windows phone/i.test(e)||xi(e)}function Ni(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gi(Xe());break;case"Worker":t="".concat(gi(Xe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yn,"/").concat(r)}var Ri=function(){function e(t){Ce(this,e),this.auth=t,this.queue=[]}return Re(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=bt(xt().mark((function e(t){var n,r,i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=De(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=De(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Di=function(){function e(t,n,r){Ce(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oi(this),this.idTokenSubscription=new Oi(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Re(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(bt(xt().mark((function r(){var i,a;return xt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=bt(xt().mark((function e(t){var n,r,i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return br(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ii(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mt(t):null)&&br(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=bt(xt().mark((function e(t){var n,r=this,i=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&br(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(bt(xt().mark((function n(){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ir(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new it("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return br(n=t&&Ir(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yi.create(this,[Ir(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=bt(xt().mark((function e(t){var n=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return br(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return br(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ni(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=bt(xt().mark((function e(){var t,n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pi(e){return mt(e)}var Oi=function(){function e(t){var n=this;Ce(this,e),this.auth=t,this.observer=null,this.addObserver=dt((function(e){return n.observer=e}))}return Re(e,[{key:"next",get:function(){return br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Li(e,t,n){var r=Pi(e);br(r._canInitEmulator,r,"emulator-config-failed"),br(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Mi(t),o=function(e){var t=Mi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Fi(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Fi(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ui=function(){function e(t,n){Ce(this,e),this.providerId=t,this.signInMethod=n}return Re(e,[{key:"toJSON",value:function(){return wr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return wr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return wr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return wr("not implemented")}}]),e}();function ji(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:resetPassword",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(e,t){return Ki.apply(this,arguments)}function Ki(){return(Ki=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(e,t){return Gi.apply(this,arguments)}function Gi(){return(Gi=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPassword",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:sendOobCode",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t){return ea.apply(this,arguments)}function ea(){return(ea=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ua=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ce(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Re(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ra(t,{email:this._email,oobCode:this._password}));case 5:vr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",aa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:vr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ui);function sa(e,t){return ca.apply(this,arguments)}function ca(){return(ca=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithIdp",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var la=function(e){Le(n,e);var t=Ve(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Re(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return sa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Xn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ui);function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:sendVerificationCode",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(){return(da=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(){return(pa=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Pr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var va=fe({},"USER_NOT_FOUND","user-not-found");function ma(){return(ma=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Pr(t,r),va));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ya=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Re(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return da.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return pa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ma.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ui);var ga=function(){function e(t){var n,r,i,a,o,u;Ce(this,e);var s=ft(ht(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);br(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Re(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ft(ht(e)).link,n=t?ft(ht(t)).deep_link_id:null,r=ft(ht(e)).deep_link_id;return(r?ft(ht(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(__){return null}}}]),e}();var ka=function(){function e(){Ce(this,e),this.providerId=e.PROVIDER_ID}return Re(e,null,[{key:"credential",value:function(e,t){return ua._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ga.parseLink(t);return br(n,"argument-error"),ua._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ka.PROVIDER_ID="password",ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ba=function(){function e(t){Ce(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Re(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wa=function(e){Le(n,e);var t=Ve(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Re(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return gt(this.scopes)}}]),n}(ba),xa=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return br(e.idToken||e.accessToken,"argument-error"),la._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return br("providerId"in t&&"signInMethod"in t,"argument-error"),la._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(wa),_a=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.call(this,"facebook.com")}return Re(n,null,[{key:"credential",value:function(e){return la._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(__){return null}}}]),n}(wa);_a.FACEBOOK_SIGN_IN_METHOD="facebook.com",_a.PROVIDER_ID="facebook.com";var Ia=function(e){Le(n,e);var t=Ve(n);function n(){var e;return Ce(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Re(n,null,[{key:"credential",value:function(e,t){return la._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(__){return null}}}]),n}(wa);Ia.GOOGLE_SIGN_IN_METHOD="google.com",Ia.PROVIDER_ID="google.com";var Ea=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.call(this,"github.com")}return Re(n,null,[{key:"credential",value:function(e){return la._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(__){return null}}}]),n}(wa);Ea.GITHUB_SIGN_IN_METHOD="github.com",Ea.PROVIDER_ID="github.com";var Sa=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Re(n,[{key:"_getIdTokenResponse",value:function(e){return sa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ui),Ta=function(e){Le(n,e);var t=Ve(n);function n(e){return Ce(this,n),br(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Re(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Sa.fromJSON(e);return br(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Sa._create(r,n)}catch(i){return null}}}]),n}(ba),Aa=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.call(this,"twitter.com")}return Re(n,null,[{key:"credential",value:function(e,t){return la._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(__){return null}}}]),n}(wa);function Ca(e,t){return Na.apply(this,arguments)}function Na(){return(Na=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signUp",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Aa.TWITTER_SIGN_IN_METHOD="twitter.com",Aa.PROVIDER_ID="twitter.com";var Ra=function(){function e(t){Ce(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Re(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=bt(xt().mark((function t(n,r,i){var a,o,u,s,c=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,di._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Da(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=bt(xt().mark((function t(n,r,i){var a;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Da(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Da(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Pa(){return Pa=bt(xt().mark((function e(t){var n,r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ra({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ca(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ra._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}var Oa=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a){var o,u;return Ce(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Pe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Re(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(rt);function La(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Oa._fromErrorAndOperation(e,n,t,r);throw n}))}function Ma(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mt(t),e.next=3,Ba(!0,r,n);case 3:return e.t0=Wr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ma(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function ja(e,t){return Va.apply(this,arguments)}function Va(){return Va=bt(xt().mark((function e(t,n){var r,i,a=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=$r,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ra._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(e,t,n){return qa.apply(this,arguments)}function qa(){return(qa=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(n);case 2:i=Ma(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",br(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=bt(xt().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,$r(t,La(i,a,n,t),r);case 6:return br((o=e.sent).idToken,i,"internal-error"),br(u=Zr(o.idToken),i,"internal-error"),s=u.sub,br(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ra._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&vr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ka.apply(this,arguments)}function Wa(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=bt(xt().mark((function e(t,n){var r,i,a,o,u=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,La(t,i,n);case 4:return a=e.sent,e.next=7,Ra._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ha(e,t){return Qa.apply(this,arguments)}function Qa(){return(Qa=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wa(Pi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mt(t),e.next=3,Ba(!1,r,n.providerId);case 3:return e.abrupt("return",ja(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){return Za.apply(this,arguments)}function Za(){return(Za=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",za(mt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t){return eo.apply(this,arguments)}function eo(){return(eo=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithCustomToken",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(){return(to=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,$a(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ra._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var no=function(){function e(t,n){Ce(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Re(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ro._fromServerResponse(e,t):vr(e,"internal-error")}}]),e}(),ro=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Re(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(no);function io(e,t,n){var r;br((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),br("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(br(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(br(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ao(){return(ao=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mt(t),a={requestType:"PASSWORD_RESET",email:n},r&&io(i,a,r),e.next=5,Yi(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(){return(oo=bt(xt().mark((function e(t,n,r){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(mt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(){return(uo=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zi(mt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mt(t),e.next=3,ji(r,{oobCode:n});case 3:i=e.sent,br(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return br(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:br(i.mfaInfo,r,"internal-error");case 13:br(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=no._fromServerResponse(Pi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(){return(lo=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(mt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t,n){return ho.apply(this,arguments)}function ho(){return(ho=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),e.next=3,Ca(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ra._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(){return(po=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mt(t),a={requestType:"EMAIL_SIGNIN",email:n},br(r.handleCodeInApp,i,"argument-error"),r&&io(i,a,r),e.next=6,$i(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(){return(vo=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mt(t),br((a=ka.credentialWithLink(n,r||Er()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ha(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return(yo=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:createAuthUri",Pr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(){return(go=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sr()?Er():"http://localhost",i={identifier:n,continueUri:r},e.next=4,mo(mt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(){return(ko=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&io(r.auth,a,n),e.next=8,Ji(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(){return(bo=bt(xt().mark((function e(t,n,r){var i,a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&io(i.auth,o,r),e.next=8,ta(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t){return xo.apply(this,arguments)}function xo(){return(xo=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(){return(_o=bt(xt().mark((function e(t,n){var r,i,a,o,u,s,c;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,$r(a,wo(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t,n){return Eo.apply(this,arguments)}function Eo(){return(Eo=bt(xt().mark((function e(t,n,r){var i,a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,$r(t,Bi(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var So=Re((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ce(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),To=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a){var o;return Ce(this,n),(o=t.call(this,e,r,i)).username=a,o}return Re(n)}(So),Ao=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"facebook.com",r)}return Re(n)}(So),Co=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Re(n)}(To),No=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"google.com",r)}return Re(n)}(So),Ro=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){return Ce(this,n),t.call(this,e,"twitter.com",r,i)}return Re(n)}(To);function Do(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Zr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new So(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ao(a,i);case"github.com":return new Co(a,i);case"google.com":return new No(a,i);case"twitter.com":return new Ro(a,i,e.screenName||null);case"custom":case"anonymous":return new So(a,null);default:return new So(a,r,i)}}(n)}var Po=function(){function e(t,n){Ce(this,e),this.type=t,this.credential=n}return Re(e,[{key:"toJSON",value:function(){return{multiFactorSession:fe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Oo=function(){function e(t,n,r){Ce(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Re(e,[{key:"resolveSignIn",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return no._fromServerResponse(r,e)}));br(i.mfaPendingCredential,r,"internal-error");var o=Po._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=bt(xt().mark((function e(t){var a,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ra._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return br(n.user,r,"internal-error"),e.abrupt("return",Ra._forOperation(n.user,n.operationType,u));case 17:vr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Lo(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:start",Pr(e,t))}var Mo=function(){function e(t){var n=this;Ce(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return no._fromServerResponse(t.auth,e)})))}))}return Re(e,[{key:"getSession",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Po,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,$r(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=bt(xt().mark((function e(t){var n,r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,$r(this.user,Or(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Pr(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Fo=new WeakMap;var Uo="__sak",jo=function(){function e(t,n){Ce(this,e),this.storageRetriever=t,this.type=n}return Re(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Uo,"1"),this.storage.removeItem(Uo),Promise.resolve(!0)):Promise.resolve(!1)}catch(__){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Vo=function(e){Le(n,e);var t=Ve(n);function n(){var e;return Ce(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Xe();return bi(e)||Si(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ci(),e._shouldAllowMigration=!0,e}return Re(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ai()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=bt(xt().mark((function e(t,r){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Me(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bt(xt().mark((function e(t){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Me(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Me(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(jo);Vo.type="LOCAL";var Bo=Vo,qo=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Re(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jo);qo.type="SESSION";var zo=qo;function Ko(e){return Promise.all(e.map(function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Wo=function(){function e(t){Ce(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Re(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=bt(xt().mark((function e(t){var n,r,i,a,o,u,s,c;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ko(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Go(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Wo.receivers=[];var Ho=function(){function e(t){Ce(this,e),this.target=t,this.handlers=new Set}return Re(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=bt(xt().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Go("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Qo(){return window}function Jo(){return"undefined"!==typeof Qo().WorkerGlobalScope&&"function"===typeof Qo().importScripts}function Xo(){return Yo.apply(this,arguments)}function Yo(){return(Yo=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Zo(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $o="firebaseLocalStorageDb",eu="firebaseLocalStorage",tu="fbase_key",nu=function(){function e(t){Ce(this,e),this.request=t}return Re(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ru(e,t){return e.transaction([eu],t?"readwrite":"readonly").objectStore(eu)}function iu(){var e=indexedDB.deleteDatabase($o);return new nu(e).toPromise()}function au(){var e=indexedDB.open($o,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(eu,{keyPath:tu})}catch(r){n(r)}})),e.addEventListener("success",bt(xt().mark((function n(){var r;return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(eu)){n.next=12;break}return r.close(),n.next=5,iu();case 5:return n.t0=t,n.next=8,au();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ou(e,t,n){return uu.apply(this,arguments)}function uu(){return uu=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ru(t,!0).put((fe(i={},tu,n),fe(i,"value",r),i)),e.abrupt("return",new nu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t,!1).get(n),e.next=3,new nu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t){var n=ru(e,!0).delete(t);return new nu(n).toPromise()}var fu=function(){function e(){Ce(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Re(e,[{key:"_openDb",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,au();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=bt(xt().mark((function e(){var t=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Wo._getInstance(Jo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=bt(xt().mark((function e(n,r){var i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=bt(xt().mark((function e(){var t,n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ho(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Zo()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,au();case 5:return t=e.sent,e.next=8,ou(t,Uo,"1");case 8:return e.next=10,lu(t,Uo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=bt(xt().mark((function e(t,n){var r=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ou(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return su(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bt(xt().mark((function e(t){var n=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return lu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=bt(xt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ru(e,!1).getAll();return new nu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=De(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();fu.type="LOCAL";var hu=fu;function du(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:start",Pr(e,t))}function pu(e){return vu.apply(this,arguments)}function vu(){return(vu=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=mr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function yu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var gu=1e12,ku=function(){function e(t){Ce(this,e),this.auth=t,this.counter=gu,this._widgets=new Map}return Re(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new bu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bu=function(){function e(t,n,r){var i=this;Ce(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;br(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Re(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wu=yu("rcb"),xu=new Ar(3e4,6e4),_u="https://www.google.com/recaptcha/api.js?",Iu=function(){function e(){Ce(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Qo().grecaptcha}return Re(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return br(Eu(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Qo().grecaptcha):new Promise((function(r,i){var a=Qo().setTimeout((function(){i(mr(e,"network-request-failed"))}),xu.get());Qo()[wu]=function(){Qo().clearTimeout(a),delete Qo()[wu];var o=Qo().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(mr(e,"internal-error"))},mu("".concat(_u,"?").concat(lt({onload:wu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(mr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Qo().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Eu(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Su=function(){function e(){Ce(this,e)}return Re(e,[{key:"load",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ku(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Tu="recaptcha",Au={theme:"light",type:"image"},Cu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Au),r=arguments.length>2?arguments[2]:void 0;Ce(this,e),this.parameters=n,this.type=Tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pi(r),this.isInvisible="invisible"===this.parameters.size,br("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;br(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Su:new Iu,this.validateStartingState()}return Re(e,[{key:"verify",value:function(){var e=bt(xt().mark((function e(){var t,n,r,i=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){br(!this.parameters.sitekey,this.auth,"argument-error"),br(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),br("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Qo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){br(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=bt(xt().mark((function e(){var t,n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return br(Sr()&&!Jo(),this.auth,"internal-error"),e.next=3,Nu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,pu(this.auth);case 8:br(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return br(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Nu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ru=function(){function e(t,n){Ce(this,e),this.verificationId=t,this.onConfirmation=n}return Re(e,[{key:"confirm",value:function(e){var t=ya._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Du(){return(Du=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),e.next=3,Mu(i,n,mt(r));case 3:return a=e.sent,e.abrupt("return",new Ru(a,(function(e){return Ha(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t,n){return Ou.apply(this,arguments)}function Ou(){return(Ou=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mt(t),e.next=3,Ba(!1,i,"phone");case 3:return e.next=5,Mu(i.auth,n,mt(r));case 5:return a=e.sent,e.abrupt("return",new Ru(a,(function(e){return Ja(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(){return(Lu=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mt(t),e.next=3,Mu(i.auth,n,mt(r));case 3:return a=e.sent,e.abrupt("return",new Ru(a,(function(e){return Ya(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t,n){return Fu.apply(this,arguments)}function Fu(){return Fu=bt(xt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,br("string"===typeof a,t,"argument-error"),br(r.type===Tu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return br("enroll"===u.type,t,"internal-error"),e.next=13,Lo(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return br("signin"===u.type,t,"internal-error"),br(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,du(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,fa(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Fu.apply(this,arguments)}function Uu(){return(Uu=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(mt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ju=function(){function e(t){Ce(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pi(t)}return Re(e,[{key:"verifyPhoneNumber",value:function(e,t){return Mu(this.auth,e,mt(t))}}],[{key:"credential",value:function(e,t){return ya._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ya._fromTokenResponse(n,r):null}}]),e}();function Vu(e,t){return t?Ir(t):(br(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ju.PROVIDER_ID="phone",ju.PHONE_SIGN_IN_METHOD="phone";var Bu=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Re(n,[{key:"_getIdTokenResponse",value:function(e){return sa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return sa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return sa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ui);function qu(e){return Wa(e.auth,new Bu(e),e.bypassAuthState)}function zu(e){var t=e.auth,n=e.user;return br(n,t,"internal-error"),za(n,new Bu(e),e.bypassAuthState)}function Ku(e){return Wu.apply(this,arguments)}function Wu(){return(Wu=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,br(r=t.user,n,"internal-error"),e.abrupt("return",ja(r,new Bu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ce(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Re(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=bt(xt().mark((function t(n,r){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=bt(xt().mark((function e(t){var n,r,i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qu;case"linkViaPopup":case"linkViaRedirect":return Ku;case"reauthViaPopup":case"reauthViaRedirect":return zu;default:vr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Hu=new Ar(2e3,1e4);function Qu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return(Ju=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),gr(t,n,ba),a=Vu(i,r),o=new $u(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(){return(Xu=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=mt(t)).auth,n,ba),a=Vu(i.auth,r),o=new $u(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t,n){return Zu.apply(this,arguments)}function Zu(){return(Zu=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=mt(t)).auth,n,ba),a=Vu(i.auth,r),o=new $u(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $u=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a,o){var u;return Ce(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Pe(u),u}return Re(n,[{key:"executeNotNull",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return br(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=bt(xt().mark((function e(){var t,n=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr(1===this.filter.length,"Popup operations only handle one event"),t=Go(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(mr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(mr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(mr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Hu.get())}()}}]),n}(Gu);$u.currentPopupAction=null;var es=new Map,ts=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ce(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Re(n,[{key:"execute",value:function(){var e=bt(xt().mark((function e(){var t,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=es.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ns(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jn(Me(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:es.set(this.auth._key(),t);case 21:return this.bypassAuthState||es.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=bt(xt().mark((function e(t){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jn(Me(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jn(Me(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Gu);function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ss(n),i=us(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return(as=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t)._set(ss(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){es.set(e._key(),t)}function us(e){return Ir(e._redirectPersistence)}function ss(e){return mi("pendingRedirect",e.config.apiKey,e.name)}function cs(e,t,n){return function(e,t,n){return ls.apply(this,arguments)}(e,t,n)}function ls(){return(ls=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),gr(t,n,ba),a=Vu(i,r),e.next=5,is(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t,n){return function(e,t,n){return hs.apply(this,arguments)}(e,t,n)}function hs(){return(hs=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=mt(t)).auth,n,ba),a=Vu(i.auth,r),e.next=5,is(a,i.auth);case 5:return e.next=7,ks(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(e,t,n){return function(e,t,n){return ps.apply(this,arguments)}(e,t,n)}function ps(){return(ps=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=mt(t)).auth,n,ba),a=Vu(i.auth,r),e.next=5,Ba(!1,i,n.providerId);case 5:return e.next=7,is(a,i.auth);case 7:return e.next=9,ks(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(t)._initializationPromise;case 2:return e.abrupt("return",ys(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return gs=bt(xt().mark((function e(t,n){var r,i,a,o,u,s=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Pi(t),a=Vu(i,n),o=new ts(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e){return bs.apply(this,arguments)}function bs(){return(bs=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Go("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ws=function(){function e(t){Ce(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Re(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _s(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_s(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(xs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function xs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _s(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Is(e){return Es.apply(this,arguments)}function Es(){return Es=bt(xt().mark((function e(t){var n,r=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Or(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ts=/^https?/;function As(){return(As=bt(xt().mark((function e(t){var n,r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Is(t);case 4:n=e.sent,r=n.authorizedDomains,i=De(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Cs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:vr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Cs(e){var t=Er(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ts.test(r))return!1;if(Ss.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ns=new Ar(3e4,6e4);function Rs(){var e=Qo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=gt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ds=null;function Ps(e){return Ds=Ds||function(e){return new Promise((function(t,n){var r,i,a;function o(){Rs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Rs(),n(mr(e,"network-request-failed"))},timeout:Ns.get()})}if(null===(i=null===(r=Qo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Qo().gapi)||void 0===a?void 0:a.load)){var u=yu("iframefcb");return Qo()[u]=function(){gapi.load?o():n(mr(e,"network-request-failed"))},mu("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ds=null,e}))}(e),Ds}var Os=new Ar(5e3,15e3),Ls={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ms=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fs(e){var t=e.config;br(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Cr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:yn},i=Ms.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(lt(r).slice(1))}function Us(e){return js.apply(this,arguments)}function js(){return js=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ps(t);case 2:return n=e.sent,br(r=Qo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Fs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ls,dontclear:!0},(function(e){return new Promise(function(){var n=bt(xt().mark((function n(r,i){var a,o,u;return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Qo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=mr(t,"network-request-failed"),o=Qo().setTimeout((function(){i(a)}),Os.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}var Vs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bs="_blank",qs="http://localhost",zs=function(){function e(t){Ce(this,e),this.window=t,this.associatedEvent=null}return Re(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ks(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Vs),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Xe().toLowerCase();n&&(u=wi(l)?Bs:n),ki(l)&&(t=t||qs,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ti(l)&&"_self"!==u)return Ws(t||"",u),new zs(null);var h=window.open(t||"",u,f);br(h,e,"popup-blocked");try{h.focus()}catch(d){}return new zs(h)}function Ws(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Gs="__/auth/handler",Hs="emulator/auth/handler";function Qs(e,t,n,r,i,a){br(e.config.authDomain,e,"auth-domain-config-required"),br(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yn,eventId:i};if(t instanceof ba){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof wa){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gs);return Cr(t,Hs)}(e),"?").concat(lt(p).slice(1))}var Js="webStorageSupport",Xs=function(){function e(){Ce(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zo,this._completeRedirectFn=ys,this._overrideRedirectResult=os}return Re(e,[{key:"_openPopup",value:function(){var e=bt(xt().mark((function e(t,n,r,i){var a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Qs(t,n,r,Er(),i),e.abrupt("return",Ks(t,o,Go()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=bt(xt().mark((function e(t,n,r,i){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Qs(t,n,r,Er(),i),Qo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(xr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t);case 2:return n=e.sent,r=new ws(t),n.register("authEvent",(function(e){return br(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Js,{type:Js},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),vr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return As.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ci()||bi()||Si()}}]),e}(),Ys=Xs,Zs=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"phone")).credential=e,r}return Re(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:finalize",Pr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ce(this,e),this.factorId=t}return Re(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return wr("unexpected MultiFactorSessionType")}}}]),e}()),$s=function(){function e(){Ce(this,e)}return Re(e,null,[{key:"assertion",value:function(e){return Zs._fromCredential(e)}}]),e}();$s.FACTOR_ID="phone";var ec,tc="@firebase/auth",nc="0.20.1",rc=function(){function e(t){Ce(this,e),this.auth=t,this.internalListeners=new Map}return Re(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ic(){return window}ec="Browser",ln(new _t("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){br(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),br(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:ec,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ni(ec)},i=new Di(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ln(new _t("auth-internal",(function(e){return function(e){return new rc(e)}(Pi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),_n(tc,nc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ec)),_n(tc,nc,"esm2017");function ac(e,t,n){return oc.apply(this,arguments)}function oc(){return oc=bt(xt().mark((function e(t,n,r){var i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ic(),o=a.BuildInfo,xr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,hc(n.sessionId);case 4:return u=e.sent,s={},Si()?s.ibi=o.packageName:_i()?s.apn=o.packageName:vr(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Qs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(){return(uc=bt(xt().mark((function e(t){var n,r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ic(),r=n.BuildInfo,i={},Si()?i.iosBundleId=r.packageName:_i()?i.androidPackageName=r.packageName:vr(t,"operation-not-supported-in-this-environment"),e.next=5,Is(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e){var t=ic().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function cc(e,t,n){return lc.apply(this,arguments)}function lc(){return lc=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ic(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(mr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),_i()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),lc.apply(this,arguments)}function fc(e){var t,n,r,i,a,o,u,s,c,l,f=ic();br("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),br("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),br("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),br("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),br("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function hc(e){return dc.apply(this,arguments)}function dc(){return(dc=bt(xt().mark((function e(t){var n,r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e){if(xr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var vc=function(e){Le(n,e);var t=Ve(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Re(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Jn(Me(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ws);function mc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wc(),postBody:null,tenantId:e.tenantId,error:mr(e,"no-auth-event")}}function yc(e,t){return xc()._set(_c(e),t)}function gc(e){return kc.apply(this,arguments)}function kc(){return(kc=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xc()._get(_c(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,xc()._remove(_c(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(e,t){var n,r,i=function(e){var t=Ic(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ic(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ic(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ic(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?mr(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function xc(){return Ir(Bo)}function _c(e){return mi("authEvent",e.config.apiKey,e.name)}function Ic(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||yt(t)||u(t)||s();r[0];return ft(r.slice(1).join("?"))}var Ec=function(){function e(){Ce(this,e),this._redirectPersistence=zo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ys,this._overrideRedirectResult=os}return Re(e,[{key:"_initialize",value:function(){var e=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new vc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){vr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=bt(xt().mark((function e(t,n,r,i){var a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),es.clear(),e.next=10,this._originValidation(t);case 10:return o=mc(t,r,i),e.next=13,yc(t,o);case 13:return e.next=15,ac(t,o,n);case 15:return u=e.sent,e.next=18,sc(u);case 18:return s=e.sent,e.abrupt("return",cc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ic(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(bt(xt().mark((function n(){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gc(e);case 2:t.onEvent(Tc());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=bt(xt().mark((function n(r){var i,a;return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,gc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=bc(i,r.url)),t.onEvent(a||Tc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");ic().handleOpenURL=function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Sc=Ec;function Tc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mr("no-auth-event")}}function Ac(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return!("file:"!==Ac()&&"ionic:"!==Ac()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nc(){return tt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/Edge\/\d+/.test(e)}function Dc(){try{var e=self.localStorage,t=Go();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Nc()||Rc(e)}()||nt()}catch(n){return Pc()&&nt()}return!1}function Pc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Oc(){return("http:"===Ac()||"https:"===Ac()||$e()||Cc())&&!(et()||Ze())&&Dc()&&!Pc()}function Lc(){return Cc()&&"undefined"!==typeof document}function Mc(){return Fc.apply(this,arguments)}function Fc(){return(Fc=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uc={LOCAL:"local",NONE:"none",SESSION:"session"},jc=br,Vc="persistence";function Bc(e,t){jc(Object.values(Uc).includes(t),e,"invalid-persistence-type"),et()?jc(t!==Uc.SESSION,e,"unsupported-persistence-type"):Ze()?jc(t===Uc.NONE,e,"unsupported-persistence-type"):Pc()?jc(t===Uc.NONE||t===Uc.LOCAL&&nt(),e,"unsupported-persistence-type"):jc(t===Uc.NONE||Dc(),e,"unsupported-persistence-type")}function qc(e){return zc.apply(this,arguments)}function zc(){return(zc=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Kc(),r=mi(Vc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Wc=br,Gc=function(){function e(){Ce(this,e),this.browserResolver=Ir(Ys),this.cordovaResolver=Ir(Sc),this.underlyingResolver=null,this._redirectPersistence=zo,this._completeRedirectFn=ys,this._overrideRedirectResult=os}return Re(e,[{key:"_initialize",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=bt(xt().mark((function e(t,n,r,i){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=bt(xt().mark((function e(t,n,r,i){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Lc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Wc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Mc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hc(e){return e.unwrap()}function Qc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new $c(e,function(e,t){var n,r=mt(e),i=t;return br(t.customData.operationType,r,"argument-error"),br(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Oo._fromError(r,i)}(e,t));else if(r){var i=Jc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Jc(e){var t=(e instanceof rt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof rt)&&"temporaryProof"in t&&"phoneNumber"in t)return ju.credentialFromResult(e);var n,r=t.providerId;if(!r||r===tr)return null;switch(r){case er:n=Ia;break;case Zn:n=_a;break;case $n:n=Ea;break;case nr:n=Aa;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Sa._create(r,u):la._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new xa(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof rt?n.credentialFromError(e):n.credentialFromResult(e)}function Xc(e,t){return t.catch((function(t){throw t instanceof rt&&Qc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Jc(t)),additionalUserInfo:Do(e),user:el.getOrCreate(r)}}))}function Yc(e,t){return Zc.apply(this,arguments)}function Zc(){return(Zc=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Xc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $c=function(){function e(t,n){Ce(this,e),this.resolver=n,this.auth=t.wrapped()}return Re(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Xc(Hc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),el=function(){function e(t){Ce(this,e),this._delegate=t,this.multiFactor=function(e){var t=mt(e);return Fo.has(t)||Fo.set(t,Mo._fromUser(t)),Fo.get(t)}(t)}return Re(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xc(this.auth,Ja(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yc(this.auth,Pu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xc(this.auth,Yu(this._delegate,t,Gc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(Pi(this.auth));case 2:return e.abrupt("return",ds(this._delegate,t,Gc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xc(this.auth,Ya(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Yc(this.auth,function(e,t,n){return Lu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Xc(this.auth,function(e,t,n){return Xu.apply(this,arguments)}(this._delegate,e,Gc))}},{key:"reauthenticateWithRedirect",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(Pi(this.auth));case 2:return e.abrupt("return",fs(this._delegate,t,Gc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ko.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Io(mt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Io(mt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Uu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return _o.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return bo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();el.USER_MAP=new WeakMap;var tl=br,nl=function(){function e(t,n){if(Ce(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;tl(r,"invalid-api-key",{appName:t.name}),tl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Gc:void 0;this._delegate=n.initialize({options:{persistence:il(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(lr),this.linkUnderlyingAuth()}return Re(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?el.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Li(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return uo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return so(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return oo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xc(this._delegate,fo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return go.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ga.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tl(Oc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vs(this._delegate,Gc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Xc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=rl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=rl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return po.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ao.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bc(this._delegate,t),e.t0=t,e.next=e.t0===Uc.SESSION?4:e.t0===Uc.LOCAL?6:e.t0===Uc.NONE?11:13;break;case 4:return n=zo,e.abrupt("break",14);case 6:return e.next=8,Ir(hu)._isAvailable();case 8:return r=e.sent,n=r?hu:Bo,e.abrupt("break",14);case 11:return n=vi,e.abrupt("break",14);case 13:return e.abrupt("return",vr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Xc(this._delegate,function(e){return Pa.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Xc(this._delegate,Ha(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Xc(this._delegate,function(e,t){return to.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Xc(this._delegate,function(e,t,n){return Ha(mt(e),ka.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Xc(this._delegate,function(e,t,n){return vo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Yc(this._delegate,function(e,t,n){return Du.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tl(Oc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Xc(this._delegate,Qu(this._delegate,t,Gc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tl(Oc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qc(this._delegate);case 3:return e.abrupt("return",cs(this._delegate,t,Gc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return lo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function rl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&el.getOrCreate(e))},error:t,complete:n}}function il(e,t){var n=function(e,t){var n=Kc();if(!n)return[];var r=mi(Vc,e,t);switch(n.getItem(r)){case Uc.NONE:return[vi];case Uc.LOCAL:return[hu,zo];case Uc.SESSION:return[zo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hu)||n.push(hu),"undefined"!==typeof window)for(var r=0,i=[Bo,zo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(vi)||n.push(vi),n}nl.Persistence=Uc;var al=function(){function e(){Ce(this,e),this.providerId="phone",this._delegate=new ju(Hc(Hn.auth()))}return Re(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ju.credential(e,t)}}]),e}();al.PHONE_SIGN_IN_METHOD=ju.PHONE_SIGN_IN_METHOD,al.PROVIDER_ID=ju.PROVIDER_ID;var ol,ul=br,sl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hn.app();Ce(this,e),ul(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Cu(t,n,i.auth()),this.type=this._delegate.type}return Re(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ol=Hn).INTERNAL.registerComponent(new _t("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new nl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rr,PASSWORD_RESET:ir,RECOVER_EMAIL:ar,REVERT_SECOND_FACTOR_ADDITION:or,VERIFY_AND_CHANGE_EMAIL:ur,VERIFY_EMAIL:sr}},EmailAuthProvider:ka,FacebookAuthProvider:_a,GithubAuthProvider:Ea,GoogleAuthProvider:Ia,OAuthProvider:xa,SAMLAuthProvider:Ta,PhoneAuthProvider:al,PhoneMultiFactorGenerator:$s,RecaptchaVerifier:sl,TwitterAuthProvider:Aa,Auth:nl,AuthCredential:Ui,Error:rt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ol.registerVersion("@firebase/auth-compat","0.2.14");var cl,ll="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fl={},hl=hl||{},dl=ll||self;function pl(){}function vl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ml(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yl="closure_uid_"+(1e9*Math.random()>>>0),gl=0;function kl(e,t,n){return e.call.apply(e.bind,arguments)}function bl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wl(e,t,n){return(wl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kl:bl).apply(null,arguments)}function xl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _l(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Il(){this.s=this.s,this.o=this.o}var El={};Il.prototype.s=!1,Il.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,yl)&&e[yl]||(e[yl]=++gl)}(this);delete El[e]}},Il.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Tl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Al(e){return Array.prototype.concat.apply([],arguments)}function Cl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nl(e){return/^[\s\xa0]*$/.test(e)}var Rl,Dl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pl(e,t){return-1!=e.indexOf(t)}function Ol(e,t){return e<t?-1:e>t?1:0}e:{var Ll=dl.navigator;if(Ll){var Ml=Ll.userAgent;if(Ml){Rl=Ml;break e}}Rl=""}function Fl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ul(e){var t={};for(var n in e)t[n]=e[n];return t}var jl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jl.length;a++)n=jl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bl(e){return Bl[" "](e),e}Bl[" "]=pl;var ql,zl=Pl(Rl,"Opera"),Kl=Pl(Rl,"Trident")||Pl(Rl,"MSIE"),Wl=Pl(Rl,"Edge"),Gl=Wl||Kl,Hl=Pl(Rl,"Gecko")&&!(Pl(Rl.toLowerCase(),"webkit")&&!Pl(Rl,"Edge"))&&!(Pl(Rl,"Trident")||Pl(Rl,"MSIE"))&&!Pl(Rl,"Edge"),Ql=Pl(Rl.toLowerCase(),"webkit")&&!Pl(Rl,"Edge");function Jl(){var e=dl.document;return e?e.documentMode:void 0}e:{var Xl="",Yl=function(){var e=Rl;return Hl?/rv:([^\);]+)(\)|;)/.exec(e):Wl?/Edge\/([\d\.]+)/.exec(e):Kl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ql?/WebKit\/(\S+)/.exec(e):zl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Yl&&(Xl=Yl?Yl[1]:""),Kl){var Zl=Jl();if(null!=Zl&&Zl>parseFloat(Xl)){ql=String(Zl);break e}}ql=Xl}var $l,ef={};function tf(){return function(e){var t=ef;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Dl(String(ql)).split("."),n=Dl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ol(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ol(0==a[2].length,0==o[2].length)||Ol(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(dl.document&&Kl){var nf=Jl();$l=nf||(parseInt(ql,10)||void 0)}else $l=void 0;var rf=$l,af=function(){if(!dl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dl.addEventListener("test",pl,t),dl.removeEventListener("test",pl,t)}catch(n){}return e}();function of(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function uf(e,t){if(of.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hl){e:{try{Bl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uf.Z.h.call(this)}}of.prototype.h=function(){this.defaultPrevented=!0},_l(uf,of);var sf={2:"touch",3:"pen",4:"mouse"};uf.prototype.h=function(){uf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cf="closure_listenable_"+(1e6*Math.random()|0),lf=0;function ff(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++lf,this.ca=this.fa=!1}function hf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function df(e){this.src=e,this.g={},this.h=0}function pf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Sl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}df.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ff(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var mf="closure_lm_"+(1e6*Math.random()|0),yf={};function gf(e,t,n,r,i){if(r&&r.once)return bf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)gf(e,t[a],n,r,i);return null}return n=Tf(n),e&&e[cf]?e.N(t,n,ml(r)?!!r.capture:!!r,i):kf(e,t,n,!1,r,i)}function kf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ml(i)?!!i.capture:!!i,u=Ef(e);if(u||(e[mf]=u=new df(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=If;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)af||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_f(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function bf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)bf(e,t[a],n,r,i);return null}return n=Tf(n),e&&e[cf]?e.O(t,n,ml(r)?!!r.capture:!!r,i):kf(e,t,n,!0,r,i)}function wf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wf(e,t[a],n,r,i);else r=ml(r)?!!r.capture:!!r,n=Tf(n),e&&e[cf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vf(a=e.g[t],n,r,i))&&(hf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ef(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vf(t,n,r,i)),(n=-1<e?t[e]:null)&&xf(n))}function xf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[cf])pf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_f(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ef(t))?(pf(n,e),0==n.h&&(n.src=null,t[mf]=null)):hf(e)}}}function _f(e){return e in yf?yf[e]:yf[e]="on"+e}function If(e,t){if(e.ca)e=!0;else{t=new uf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xf(e),e=n.call(r,t)}return e}function Ef(e){return(e=e[mf])instanceof df?e:null}var Sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(e){return"function"===typeof e?e:(e[Sf]||(e[Sf]=function(t){return e.handleEvent(t)}),e[Sf])}function Af(){Il.call(this),this.i=new df(this),this.P=this,this.I=null}function Cf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new of(t,e);else if(t instanceof of)t.target=t.target||e;else{var i=t;Vl(t=new of(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Nf(o,r,!0,t)&&i}if(i=Nf(o=t.g=e,r,!0,t)&&i,i=Nf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Nf(o=t.g=n[a],r,!1,t)&&i}function Nf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&pf(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}_l(Af,Il),Af.prototype[cf]=!0,Af.prototype.removeEventListener=function(e,t,n,r){wf(this,e,t,n,r)},Af.prototype.M=function(){if(Af.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hf(n[r]);delete t.g[e],t.h--}}this.I=null},Af.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Af.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rf=dl.JSON.stringify;function Df(){var e=Vf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pf,Of=function(){function e(){Ce(this,e),this.h=this.g=null}return Re(e,[{key:"add",value:function(e,t){var n=Lf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Lf=new(function(){function e(t,n){Ce(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Re(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Mf}),(function(e){return e.reset()})),Mf=function(){function e(){Ce(this,e),this.next=this.g=this.h=null}return Re(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ff(e){dl.setTimeout((function(){throw e}),0)}function Uf(e,t){Pf||function(){var e=dl.Promise.resolve(void 0);Pf=function(){e.then(Bf)}}(),jf||(Pf(),jf=!0),Vf.add(e,t)}var jf=!1,Vf=new Of;function Bf(){for(var e;e=Df();){try{e.h.call(e.g)}catch(n){Ff(n)}var t=Lf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jf=!1}function qf(e,t){Af.call(this),this.h=e||1,this.g=t||dl,this.j=wl(this.kb,this),this.l=Date.now()}function zf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Kf(e,t,n){if("function"===typeof e)n&&(e=wl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wl(e.handleEvent,e)}return 2147483647<Number(t)?-1:dl.setTimeout(e,t||0)}function Wf(e){e.g=Kf((function(){e.g=null,e.i&&(e.i=!1,Wf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_l(qf,Af),(cl=qf.prototype).da=!1,cl.S=null,cl.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cf(this,"tick"),this.da&&(zf(this),this.start()))}},cl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cl.M=function(){qf.Z.M.call(this),zf(this),delete this.g};var Gf=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Re(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wf(this)}},{key:"M",value:function(){Jn(Me(n.prototype),"M",this).call(this),this.g&&(dl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Il);function Hf(e){Il.call(this),this.h=e,this.g={}}_l(Hf,Il);var Qf=[];function Jf(e,t,n,r){Array.isArray(n)||(n&&(Qf[0]=n.toString()),n=Qf);for(var i=0;i<n.length;i++){var a=gf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xf(e){Fl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xf(e)}),e),e.g={}}function Yf(){this.g=!0}function Zf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Rf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Hf.prototype.M=function(){Hf.Z.M.call(this),Xf(this)},Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yf.prototype.Aa=function(){this.g=!1},Yf.prototype.info=function(){};var $f={},eh=null;function th(){return eh=eh||new Af}function nh(e){of.call(this,$f.Ma,e)}function rh(e){var t=th();Cf(t,new nh(t,e))}function ih(e,t){of.call(this,$f.STAT_EVENT,e),this.stat=t}function ah(e){var t=th();Cf(t,new ih(t,e))}function oh(e,t){of.call(this,$f.Na,e),this.size=t}function uh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return dl.setTimeout((function(){e()}),t)}$f.Ma="serverreachability",_l(nh,of),$f.STAT_EVENT="statevent",_l(ih,of),$f.Na="timingevent",_l(oh,of);var sh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ch={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lh(){}function fh(e){return e.h||(e.h=e.i())}function hh(){}lh.prototype.h=null;var dh,ph={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vh(){of.call(this,"d")}function mh(){of.call(this,"c")}function yh(){}function gh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hf(this),this.P=bh,e=Gl?125:void 0,this.W=new qf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kh}function kh(){this.i=null,this.g="",this.h=!1}_l(vh,of),_l(mh,of),_l(yh,lh),yh.prototype.g=function(){return new XMLHttpRequest},yh.prototype.i=function(){return{}},dh=new yh;var bh=45e3,wh={},xh={};function _h(e,t,n){e.K=1,e.v=Gh(Vh(t)),e.s=n,e.U=!0,Ih(e,null)}function Ih(e,t){e.F=Date.now(),Ah(e),e.A=Vh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ad(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kh,e.g=up(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gf(wl(e.Ia,e,e.g),e.O)),Jf(e.V,e.g,"readystatechange",e.gb),t=e.H?Ul(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Eh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Sh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Th(e,n))==xh){4==t&&(e.o=4,ah(14),i=!1),Zf(e.j,e.m,null,"[Incomplete Response]");break}if(r==wh){e.o=4,ah(15),Zf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zf(e.j,e.m,r,null),Ph(e,r)}Eh(e)&&r!=xh&&r!=wh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ah(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$d(t),t.L=!0,ah(11))):(Zf(e.j,e.m,n,"[Invalid Chunked Response]"),Dh(e),Rh(e))}function Th(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xh:(n=Number(t.substring(n,r)),isNaN(n)?wh:(r+=1)+n>t.length?xh:(t=t.substr(r,n),e.C=r+n,t))}function Ah(e){e.Y=Date.now()+e.P,Ch(e,e.P)}function Ch(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=uh(wl(e.eb,e),t)}function Nh(e){e.B&&(dl.clearTimeout(e.B),e.B=null)}function Rh(e){0==e.l.G||e.I||np(e.l,e)}function Dh(e){Nh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zf(e.W),Xf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ph(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||dd(n.i,e)))if(n.I=e.N,!e.J&&dd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tp(n),Kd(n)}Zd(n),ah(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=uh(wl(n.ab,n),6e3));if(1>=hd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ip(n,11)}else if((e.J||n.g==e)&&tp(n),!Nl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Pl(l,"spdy")||Pl(l,"quic")||Pl(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Wh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=op(r,r.H?r.la:null,r.W),d.J){vd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Nh(p),Ah(p)),r.g=d}else Yd(r);0<n.l.length&&Hd(n)}else"stop"!=a[0]&&"close"!=a[0]||ip(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ip(n,7):zd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rh(4)}catch(a){}}function Oh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vl(e)||"string"===typeof e)Tl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(vl(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(vl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Lh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Lh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Fh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Fh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Fh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cl=gh.prototype).setTimeout=function(e){this.P=e},cl.gb=function(e){e=e.target;var t=this.L;t&&3==Ud(e)?t.l():this.Ia(e)},cl.Ia=function(e){try{if(e==this.g)e:{var t=Ud(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gl||this.g&&(this.h.h||this.g.ga()||jd(this.g)))){this.I||4!=t||7==n||rh(8==n||0>=r?3:2),Nh(this);var i=this.g.ba();this.N=i;t:if(Eh(this)){var a=jd(this.g);e="";var o=a.length,u=4==Ud(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Dh(this),Rh(this);var s="";break t}this.h.i=new dl.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ah(12),Dh(this),Rh(this);break e}Zf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ph(this,i)}this.U?(Sh(this,t,s),Gl&&this.i&&3==t&&(Jf(this.V,this.W,"tick",this.fb),this.W.start())):(Zf(this.j,this.m,s,null),Ph(this,s)),4==t&&Dh(this),this.i&&!this.I&&(4==t?np(this.l,this):(this.i=!1,Ah(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ah(12)):(this.o=0,ah(13)),Dh(this),Rh(this)}}}catch(t){}},cl.fb=function(){if(this.g){var e=Ud(this.g),t=this.g.ga();this.C<t.length&&(Nh(this),Sh(this,e,t),this.i&&4!=e&&Ah(this))}},cl.cancel=function(){this.I=!0,Dh(this)},cl.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rh(3),ah(17)),Dh(this),this.o=2,Rh(this)):Ch(this,this.Y-e)},(cl=Lh.prototype).R=function(){Mh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cl.T=function(){return Mh(this),this.g.concat()},cl.get=function(e,t){return Fh(this.h,e)?this.h[e]:t},cl.set=function(e,t){Fh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cl.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Uh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jh){this.g=void 0!==t?t:e.g,Bh(this,e.j),this.s=e.s,qh(this,e.i),zh(this,e.m),this.l=e.l,t=e.h;var n=new td;n.i=t.i,t.g&&(n.g=new Lh(t.g),n.h=t.h),Kh(this,n),this.o=e.o}else e&&(n=String(e).match(Uh))?(this.g=!!t,Bh(this,n[1]||"",!0),this.s=Hh(n[2]||""),qh(this,n[3]||"",!0),zh(this,n[4]),this.l=Hh(n[5]||"",!0),Kh(this,n[6]||"",!0),this.o=Hh(n[7]||"")):(this.g=!!t,this.h=new td(null,this.g))}function Vh(e){return new jh(e)}function Bh(e,t,n){e.j=n?Hh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qh(e,t,n){e.i=n?Hh(t,!0):t}function zh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Kh(e,t,n){t instanceof td?(e.h=t,function(e,t){t&&!e.j&&(nd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rd(this,t),ad(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qh(t,$h)),e.h=new td(t,e.g))}function Wh(e,t,n){e.h.set(t,n)}function Gh(e){return Wh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qh(t,Xh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qh(t,Xh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qh(n,"/"==n.charAt(0)?Zh:Yh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qh(n,ed)),e.join("")};var Xh=/[#\/\?@]/g,Yh=/[#\?:]/g,Zh=/[#\?]/g,$h=/[#\?@]/g,ed=/#/g;function td(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nd(e){e.g||(e.g=new Lh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rd(e,t){nd(e),t=od(e,t),Fh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Fh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mh(e)))}function id(e,t){return nd(e),t=od(e,t),Fh(e.g.h,t)}function ad(e,t,n){rd(e,t),0<n.length&&(e.i=null,e.g.set(od(e,t),Cl(n)),e.h+=n.length)}function od(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(cl=td.prototype).add=function(e,t){nd(this),this.i=null,e=od(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cl.forEach=function(e,t){nd(this),this.g.forEach((function(n,r){Tl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cl.T=function(){nd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},cl.R=function(e){nd(this);var t=[];if("string"===typeof e)id(this,e)&&(t=Al(t,this.g.get(od(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Al(t,e[n])}return t},cl.set=function(e,t){return nd(this),this.i=null,id(this,e=od(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cl.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ud=Re((function e(t,n){Ce(this,e),this.h=t,this.g=n}));function sd(e){this.l=e||ld,dl.PerformanceNavigationTiming?e=0<(e=dl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dl.g&&dl.g.Ea&&dl.g.Ea()&&dl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cd,ld=10;function fd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hd(e){return e.h?1:e.g?e.g.size:0}function dd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pd(e,t){e.g?e.g.add(t):e.h=t}function vd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function md(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=De(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Cl(e.i)}function yd(){}function gd(){this.g=new yd}function kd(e,t,n){var r=n||"";try{Oh(e,(function(e,n){var i=e;ml(e)&&(i=Rf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wd(e){this.l=e.$b||null,this.j=e.ib||!1}function xd(e,t){Af.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_d,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sd.prototype.cancel=function(){if(this.i=md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=De(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yd.prototype.stringify=function(e){return dl.JSON.stringify(e,void 0)},yd.prototype.parse=function(e){return dl.JSON.parse(e,void 0)},_l(wd,lh),wd.prototype.g=function(){return new xd(this.l,this.j)},wd.prototype.i=(cd={},function(){return cd}),_l(xd,Af);var _d=0;function Id(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ed(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sd(e)}function Sd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cl=xd.prototype).open=function(e,t){if(this.readyState!=_d)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sd(this)},cl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||dl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ed(this)),this.readyState=_d},cl.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sd(this)),this.g&&(this.readyState=3,Sd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof dl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Id(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cl.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ed(this):Sd(this),3==this.readyState&&Id(this)}},cl.Ua=function(e){this.g&&(this.response=this.responseText=e,Ed(this))},cl.Ta=function(e){this.g&&(this.response=e,Ed(this))},cl.ha=function(){this.g&&Ed(this)},cl.setRequestHeader=function(e,t){this.v.append(e,t)},cl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Td=dl.JSON.parse;function Ad(e){Af.call(this),this.headers=new Lh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cd,this.K=this.L=!1}_l(Ad,Af);var Cd="",Nd=/^https?$/i,Rd=["POST","PUT"];function Dd(e){return"content-type"==e.toLowerCase()}function Pd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Od(e),Md(e)}function Od(e){e.D||(e.D=!0,Cf(e,"complete"),Cf(e,"error"))}function Ld(e){if(e.h&&"undefined"!=typeof hl&&(!e.C[1]||4!=Ud(e)||2!=e.ba()))if(e.v&&4==Ud(e))Kf(e.Fa,0,e);else if(Cf(e,"readystatechange"),4==Ud(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Uh)[1]||null;if(!a&&dl.self&&dl.self.location){var o=dl.self.location.protocol;a=o.substr(0,o.length-1)}i=!Nd.test(a?a.toLowerCase():"")}t=i}if(t)Cf(e,"complete"),Cf(e,"success");else{e.m=6;try{var u=2<Ud(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Od(e)}}finally{Md(e)}}}function Md(e,t){if(e.g){Fd(e);var n=e.g,r=e.C[0]?pl:null;e.g=null,e.C=null,t||Cf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(dl.clearTimeout(e.A),e.A=null)}function Ud(e){return e.g?e.g.readyState:0}function jd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wh(e,t,n))}function Bd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qd(e){this.za=0,this.l=[],this.h=new Yf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bd("baseRetryDelayMs",5e3,e),this.$a=Bd("retryDelaySeedMs",1e4,e),this.Ya=Bd("forwardChannelMaxRetries",2,e),this.ra=Bd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sd(e&&e.concurrentRequestLimit),this.Ca=new gd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zd(e){if(Wd(e),3==e.G){var t=e.V++,n=Vh(e.F);Wh(n,"SID",e.J),Wh(n,"RID",t),Wh(n,"TYPE","terminate"),Jd(e,n),(t=new gh(e,e.h,t,void 0)).K=2,t.v=Gh(Vh(n)),n=!1,dl.navigator&&dl.navigator.sendBeacon&&(n=dl.navigator.sendBeacon(t.v.toString(),"")),!n&&dl.Image&&((new Image).src=t.v,n=!0),n||(t.g=up(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ah(t)}ap(e)}function Kd(e){e.g&&($d(e),e.g.cancel(),e.g=null)}function Wd(e){Kd(e),e.u&&(dl.clearTimeout(e.u),e.u=null),tp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&dl.clearTimeout(e.m),e.m=null)}function Gd(e,t){e.l.push(new ud(e.Za++,t)),3==e.G&&Hd(e)}function Hd(e){fd(e.i)||e.m||(e.m=!0,Uf(e.Ha,e),e.C=0)}function Qd(e,t){var n;n=t?t.m:e.V++;var r=Vh(e.F);Wh(r,"SID",e.J),Wh(r,"RID",n),Wh(r,"AID",e.U),Jd(e,r),e.o&&e.s&&Vd(r,e.o,e.s),n=new gh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pd(e.i,n),_h(n,r,t)}function Jd(e,t){e.j&&Oh({},(function(e,n){Wh(t,n,e)}))}function Xd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?wl(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kd(l,o,"req"+c+"_")}catch(Lp){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yd(e){e.g||e.u||(e.Y=1,Uf(e.Ga,e),e.A=0)}function Zd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=uh(wl(e.Ga,e),rp(e,e.A)),e.A++,!0)}function $d(e){null!=e.B&&(dl.clearTimeout(e.B),e.B=null)}function ep(e){e.g=new gh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vh(e.oa);Wh(t,"RID","rpc"),Wh(t,"SID",e.J),Wh(t,"CI",e.N?"0":"1"),Wh(t,"AID",e.U),Jd(e,t),Wh(t,"TYPE","xmlhttp"),e.o&&e.s&&Vd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gh(Vh(t)),n.s=null,n.U=!0,Ih(n,e)}function tp(e){null!=e.v&&(dl.clearTimeout(e.v),e.v=null)}function np(e,t){var n=null;if(e.g==t){tp(e),$d(e),e.g=null;var r=2}else{if(!dd(e.i,t))return;n=t.D,vd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Cf(r=th(),new oh(r,n,t,i)),Hd(e)}else Yd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=uh(wl(e.Ha,e,t),rp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ip(e,5);break;case 4:ip(e,10);break;case 3:ip(e,6);break;default:ip(e,2)}}function rp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ip(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=wl(e.jb,e);n||(n=new jh("//www.google.com/images/cleardot.gif"),dl.location&&"http"==dl.location.protocol||Bh(n,"https"),Gh(n)),function(e,t){var n=new Yf;if(dl.Image){var r=new Image;r.onload=xl(bd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xl(bd,n,r,"TestLoadImage: error",!1,t),r.onabort=xl(bd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xl(bd,n,r,"TestLoadImage: timeout",!1,t),dl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ah(2);e.G=0,e.j&&e.j.va(t),ap(e),Wd(e)}function ap(e){e.G=0,e.I=-1,e.j&&(0==md(e.i).length&&0==e.l.length||(e.i.i.length=0,Cl(e.l),e.l.length=0),e.j.ua())}function op(e,t,n){var r=function(e){return e instanceof jh?Vh(e):new jh(e,void 0)}(n);if(""!=r.i)t&&qh(r,t+"."+r.i),zh(r,r.m);else{var i=dl.location;r=function(e,t,n,r){var i=new jh(null,void 0);return e&&Bh(i,e),t&&qh(i,t),n&&zh(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Fl(e.aa,(function(e,t){Wh(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wh(r,t,n),Wh(r,"VER",e.ma),Jd(e,r),r}function up(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ad(new wd({ib:!0})):new Ad(e.qa)).L=e.H,t}function sp(){}function cp(){if(Kl&&!(10<=Number(rf)))throw Error("Environmental error: no available transport.")}function lp(e,t){Af.call(this),this.g=new qd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dp(this)}function fp(e){vh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hp(){mh.call(this),this.status=1}function dp(e){this.g=e}(cl=Ad.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dh.g(),this.C=this.u?fh(this.u):fh(dh),this.g.onreadystatechange=wl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Pd(this,a)}e=n||"";var i=new Lh(this.headers);r&&Oh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Dd,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=dl.FormData&&e instanceof dl.FormData,!(0<=Sl(Rd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fd(this),0<this.B&&((this.K=function(e){return Kl&&tf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wl(this.pa,this)):this.A=Kf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pd(this,a)}},cl.pa=function(){"undefined"!=typeof hl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cf(this,"timeout"),this.abort(8))},cl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Cf(this,"complete"),Cf(this,"abort"),Md(this))},cl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Md(this,!0)),Ad.Z.M.call(this)},cl.Fa=function(){this.s||(this.F||this.v||this.l?Ld(this):this.cb())},cl.cb=function(){Ld(this)},cl.ba=function(){try{return 2<Ud(this)?this.g.status:-1}catch(cd){return-1}},cl.ga=function(){try{return this.g?this.g.responseText:""}catch(cd){return""}},cl.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Td(t)}},cl.Da=function(){return this.m},cl.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(cl=qd.prototype).ma=8,cl.G=1,cl.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},cl.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Vl(n=Ul(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xd(this,t,r),Wh(i=Vh(this.F),"RID",e),Wh(i,"CVER",22),this.D&&Wh(i,"X-HTTP-Session-Id",this.D),Jd(this,i),this.o&&n&&Vd(i,this.o,n),pd(this.i,t),this.Ra&&Wh(i,"TYPE","init"),this.ja?(Wh(i,"$req",r),Wh(i,"SID","null"),t.$=!0,_h(t,i,null)):_h(t,i,r),this.G=2}}else 3==this.G&&(e?Qd(this,e):0==this.l.length||fd(this.i)||Qd(this))},cl.Ga=function(){if(this.u=null,ep(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=uh(wl(this.bb,this),e)}},cl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ah(10),Kd(this),ep(this))},cl.ab=function(){null!=this.v&&(this.v=null,Kd(this),Zd(this),ah(19))},cl.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ah(2)):(this.h.info("Failed to ping google.com"),ah(1))},(cl=sp.prototype).xa=function(){},cl.wa=function(){},cl.va=function(){},cl.ua=function(){},cl.Oa=function(){},cp.prototype.g=function(e,t){return new lp(e,t)},_l(lp,Af),lp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Uf(wl(e.hb,e,t))),ah(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=op(e,null,e.W),Hd(e)},lp.prototype.close=function(){zd(this.g)},lp.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gd(this.g,t)}else this.v?((t={}).__data__=Rf(e),Gd(this.g,t)):Gd(this.g,e)},lp.prototype.M=function(){this.g.j=null,delete this.j,zd(this.g),delete this.g,lp.Z.M.call(this)},_l(fp,vh),_l(hp,mh),_l(dp,sp),dp.prototype.xa=function(){Cf(this.g,"a")},dp.prototype.wa=function(e){Cf(this.g,new fp(e))},dp.prototype.va=function(e){Cf(this.g,new hp(e))},dp.prototype.ua=function(){Cf(this.g,"b")},cp.prototype.createWebChannel=cp.prototype.g,lp.prototype.send=lp.prototype.u,lp.prototype.open=lp.prototype.m,lp.prototype.close=lp.prototype.close,sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,ch.COMPLETE="complete",hh.EventType=ph,ph.OPEN="a",ph.CLOSE="b",ph.ERROR="c",ph.MESSAGE="d",Af.prototype.listen=Af.prototype.N,Ad.prototype.listenOnce=Ad.prototype.O,Ad.prototype.getLastError=Ad.prototype.La,Ad.prototype.getLastErrorCode=Ad.prototype.Da,Ad.prototype.getStatus=Ad.prototype.ba,Ad.prototype.getResponseJson=Ad.prototype.Qa,Ad.prototype.getResponseText=Ad.prototype.ga,Ad.prototype.send=Ad.prototype.ea;var pp=fl.createWebChannelTransport=function(){return new cp},vp=fl.getStatEventTarget=function(){return th()},mp=fl.ErrorCode=sh,yp=fl.EventType=ch,gp=fl.Event=$f,kp=fl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bp=fl.FetchXmlHttpFactory=wd,wp=fl.WebChannel=hh,xp=fl.XhrIo=Ad,_p="@firebase/firestore",Ip=function(){function e(t){Ce(this,e),this.uid=t}return Re(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ip.UNAUTHENTICATED=new Ip(null),Ip.GOOGLE_CREDENTIALS=new Ip("google-credentials-uid"),Ip.FIRST_PARTY=new Ip("first-party-uid"),Ip.MOCK_USER=new Ip("mock-user");var Ep="9.8.0",Sp=new Ot("@firebase/firestore");function Tp(){return Sp.logLevel}function Ap(e){if(Sp.logLevel<=Tt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rp);Sp.debug.apply(Sp,["Firestore (".concat(Ep,"): ").concat(e)].concat(gt(i)))}}function Cp(e){if(Sp.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rp);Sp.error.apply(Sp,["Firestore (".concat(Ep,"): ").concat(e)].concat(gt(i)))}}function Np(e){if(Sp.logLevel<=Tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rp);Sp.warn.apply(Sp,["Firestore (".concat(Ep,"): ").concat(e)].concat(gt(i)))}}function Rp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ep,") INTERNAL ASSERTION FAILED: ")+e;throw Cp(t),new Error(t)}function Pp(e,t){e||Dp()}function Op(e,t){return e}var Lp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mp=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Re(n)}(rt),Fp=Re((function e(){var t=this;Ce(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Up=Re((function e(t,n){Ce(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),jp=function(){function e(){Ce(this,e)}return Re(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ip.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Vp=function(){function e(t){Ce(this,e),this.token=t,this.changeListener=null}return Re(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bp=function(){function e(t){Ce(this,e),this.t=t,this.currentUser=Ip.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Re(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ap("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ap("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ap("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Pp("string"==typeof n.accessToken),new Up(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Pp(null===e||"string"==typeof e),new Ip(e)}}]),e}(),qp=Re((function e(t,n,r){Ce(this,e),this.type="FirstParty",this.user=Ip.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),zp=function(){function e(t,n,r){Ce(this,e),this.h=t,this.l=n,this.m=r}return Re(e,[{key:"getToken",value:function(){return Promise.resolve(new qp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ip.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Kp=Re((function e(t){Ce(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Wp=function(){function e(t){Ce(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Re(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ap("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ap("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ap("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ap("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Pp("string"==typeof t.token),e.p=t.token,new Kp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Gp=function(){function e(t,n){var r=this;Ce(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Re(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Hp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Gp.A=-1;var Qp=function(){function e(){Ce(this,e)}return Re(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Hp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Jp(e,t){return e<t?-1:e>t?1:0}function Xp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Yp(e){return e+"\0"}var Zp=function(){function e(t,n){if(Ce(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Re(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Jp(this.nanoseconds,e.nanoseconds):Jp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$p=function(){function e(t){Ce(this,e),this.timestamp=t}return Re(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zp(0,0))}},{key:"max",value:function(){return new e(new Zp(253402300799,999999999))}}]),e}();function ev(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var rv=function(){function e(t,n,r){Ce(this,e),void 0===n?n=0:n>t.length&&Dp(),void 0===r?r=t.length-n:r>t.length-n&&Dp(),this.segments=t,this.offset=n,this.len=r}return Re(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),iv=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,gt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rv),av=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ov=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return av.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Mp(Lp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Mp(Lp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Mp(Lp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rv),uv=function(){function e(t){Ce(this,e),this.fields=t,t.sort(ov.comparator)}return Re(e,[{key:"covers",value:function(e){var t,n=De(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var sv=function(e){function t(e){Ce(this,t),this.binaryString=e}return Re(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Jp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();sv.EMPTY_BYTE_STRING=new sv("");var cv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lv(e){if(Pp(!!e),"string"==typeof e){var t=0,n=cv.exec(e);if(Pp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fv(e.seconds),nanos:fv(e.nanos)}}function fv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hv(e){return"string"==typeof e?sv.fromBase64String(e):sv.fromUint8Array(e)}function dv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pv(e){var t=e.mapValue.fields.__previous_value__;return dv(t)?pv(t):t}function vv(e){var t=lv(e.mapValue.fields.__local_write_time__.timestampValue);return new Zp(t.seconds,t.nanos)}var mv=Re((function e(t,n,r,i,a,o,u,s){Ce(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),yv=function(){function e(t,n){Ce(this,e),this.projectId=t,this.database=n||"(default)"}return Re(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gv(e){return null==e}function kv(e){return 0===e&&1/e==-1/0}function bv(e){return"number"==typeof e&&Number.isInteger(e)&&!kv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wv=function(){function e(t){Ce(this,e),this.path=t}return Re(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===iv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(iv.fromString(t))}},{key:"fromName",value:function(t){return new e(iv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(iv.emptyPath())}},{key:"comparator",value:function(e,t){return iv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new iv(t.slice()))}}]),e}(),xv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_v={nullValue:"NULL_VALUE"};function Iv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dv(e)?4:Uv(e)?9007199254740991:10:Dp()}function Ev(e,t){if(e===t)return!0;var n=Iv(e);if(n!==Iv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vv(e).isEqual(vv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lv(e.timestampValue),r=lv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hv(e.bytesValue).isEqual(hv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fv(e.geoPointValue.latitude)===fv(t.geoPointValue.latitude)&&fv(e.geoPointValue.longitude)===fv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fv(e.integerValue)===fv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fv(e.doubleValue),r=fv(t.doubleValue);return n===r?kv(n)===kv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xp(e.arrayValue.values||[],t.arrayValue.values||[],Ev);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ev(n)!==ev(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ev(n[i],r[i])))return!1;return!0}(e,t);default:return Dp()}}function Sv(e,t){return void 0!==(e.values||[]).find((function(e){return Ev(e,t)}))}function Tv(e,t){if(e===t)return 0;var n=Iv(e),r=Iv(t);if(n!==r)return Jp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fv(e.integerValue||e.doubleValue),r=fv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Av(e.timestampValue,t.timestampValue);case 4:return Av(vv(e),vv(t));case 5:return Jp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hv(e),r=hv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Jp(n[i],r[i]);if(0!==a)return a}return Jp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Jp(fv(e.latitude),fv(t.latitude));return 0!==n?n:Jp(fv(e.longitude),fv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Tv(n[i],r[i]);if(a)return a}return Jp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xv.mapValue&&t===xv.mapValue)return 0;if(e===xv.mapValue)return 1;if(t===xv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Jp(r[o],a[o]);if(0!==u)return u;var s=Tv(n[r[o]],i[a[o]]);if(0!==s)return s}return Jp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dp()}}function Av(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jp(e,t);var n=lv(e),r=lv(t),i=Jp(n.seconds,r.seconds);return 0!==i?i:Jp(n.nanos,r.nanos)}function Cv(e){return Nv(e)}function Nv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,wv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=De(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Nv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=De(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Nv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Dp();var t,n}function Rv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dv(e){return!!e&&"integerValue"in e}function Pv(e){return!!e&&"arrayValue"in e}function Ov(e){return!!e&&"nullValue"in e}function Lv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mv(e){return!!e&&"mapValue"in e}function Fv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return tv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Fv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fv(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Uv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function jv(e){return"nullValue"in e?_v:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Rv(yv.empty(),wv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Dp()}function Vv(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Rv(yv.empty(),wv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?xv:Dp()}function Bv(e,t){var n=Tv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function qv(e,t){var n=Tv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var zv=function(){function e(t){Ce(this,e),this.value=t}return Re(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Mv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fv(t)}},{key:"setAll",value:function(e){var t=this,n=ov.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Fv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Mv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ev(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Mv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){tv(t,(function(t,n){return e[t]=n}));var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Fv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Kv(e){var t=[];return tv(e.fields,(function(e,n){var r=new ov([e]);if(Mv(n)){var i=Kv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=De(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new uv(t)}var Wv=function(){function e(t,n,r,i,a,o){Ce(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Re(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=zv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=zv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$p.min(),$p.min(),zv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,$p.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$p.min(),zv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$p.min(),zv.empty(),2)}}]),e}(),Gv=Re((function e(t,n,r,i){Ce(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Hv(e){return e.fields.find((function(e){return 2===e.kind}))}function Qv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gv.UNKNOWN_ID=-1;var Jv=Re((function e(t,n){Ce(this,e),this.fieldPath=t,this.kind=n})),Xv=function(){function e(t,n){Ce(this,e),this.sequenceNumber=t,this.offset=n}return Re(e,null,[{key:"empty",value:function(){return new e(0,$v.min())}}]),e}();function Yv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$p.fromTimestamp(1e9===r?new Zp(n+1,0):new Zp(n,r));return new $v(i,wv.empty(),t)}function Zv(e){return new $v(e.readTime,e.key,-1)}var $v=function(){function e(t,n,r){Ce(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Re(e,null,[{key:"min",value:function(){return new e($p.min(),wv.empty(),-1)}},{key:"max",value:function(){return new e($p.max(),wv.empty(),-1)}}]),e}();function em(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=wv.comparator(e.documentKey,t.documentKey))?n:Jp(e.largestBatchId,t.largestBatchId)}var tm=function(){function e(t,n){Ce(this,e),this.comparator=t,this.root=n||rm.EMPTY}return Re(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nm(this.root,e,this.comparator,!0)}}]),e}(),nm=function(){function e(t,n,r,i){Ce(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Re(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rm=function(){function e(t,n,r,i,a){Ce(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Re(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dp();if(this.right.isRed())throw Dp();var e=this.left.check();if(e!==this.right.check())throw Dp();return e+(this.isRed()?0:1)}}]),e}();rm.EMPTY=null,rm.RED=!0,rm.BLACK=!1,rm.EMPTY=new(function(){function e(){Ce(this,e),this.size=0}return Re(e,[{key:"key",get:function(){throw Dp()}},{key:"value",get:function(){throw Dp()}},{key:"color",get:function(){throw Dp()}},{key:"left",get:function(){throw Dp()}},{key:"right",get:function(){throw Dp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var im=function(){function e(t){Ce(this,e),this.comparator=t,this.data=new tm(this.comparator)}return Re(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new am(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new am(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),am=function(){function e(t){Ce(this,e),this.iter=t}return Re(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function om(e){return e.hasNext()?e.getNext():void 0}var um=Re((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ce(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function sm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new um(e,t,n,r,i,a,o)}function cm(e){var t=Op(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Cv(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Cv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Cv(e)})).join(",")),t.P=n}return t.P}function lm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ev(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Am(e.startAt,t.startAt)&&Am(e.endAt,t.endAt)}function fm(e){return wv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hm(e,t){return e.filters.filter((function(e){return e instanceof vm&&e.field.isEqual(t)}))}function dm(e,t,n){var r,i=_v,a=!0,o=De(hm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=_v,c=!0;switch(u.op){case"<":case"<=":s=jv(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=_v}Bv({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Bv({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function pm(e,t,n){var r,i=xv,a=!0,o=De(hm(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=xv,c=!0;switch(u.op){case">=":case">":s=Vv(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=xv}qv({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];qv({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var vm=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Re(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Tv(t,this.value)):null!==t&&Iv(this.value)===Iv(t)&&this.v(Tv(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dp()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new mm(e,t,r):"array-contains"===t?new bm(e,r):"in"===t?new wm(e,r):"not-in"===t?new xm(e,r):"array-contains-any"===t?new _m(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new ym(e,n):new gm(e,n)}}]),n}(function(){return Re((function e(){Ce(this,e)}))}()),mm=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,e,r,i)).key=wv.fromName(i.referenceValue),a}return Re(n,[{key:"matches",value:function(e){var t=wv.comparator(e.key,this.key);return this.v(t)}}]),n}(vm),ym=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,"in",r)).keys=km("in",r),i}return Re(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm),gm=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,"not-in",r)).keys=km("not-in",r),i}return Re(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm);function km(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return wv.fromName(e.referenceValue)}))}var bm=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"array-contains",r)}return Re(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pv(t)&&Sv(t.arrayValue,this.value)}}]),n}(vm),wm=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"in",r)}return Re(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Sv(this.value.arrayValue,t)}}]),n}(vm),xm=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"not-in",r)}return Re(n,[{key:"matches",value:function(e){if(Sv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Sv(this.value.arrayValue,t)}}]),n}(vm),_m=function(e){Le(n,e);var t=Ve(n);function n(e,r){return Ce(this,n),t.call(this,e,"array-contains-any",r)}return Re(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Sv(t.value.arrayValue,e)}))}}]),n}(vm),Im=Re((function e(t,n){Ce(this,e),this.position=t,this.inclusive=n})),Em=Re((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ce(this,e),this.field=t,this.dir=n}));function Sm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Tm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?wv.comparator(wv.fromName(o.referenceValue),n.key):Tv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Am(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ev(e.position[n],t.position[n]))return!1;return!0}var Cm=Re((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ce(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Nm(e,t,n,r,i,a,o,u){return new Cm(e,t,n,r,i,a,o,u)}function Rm(e){return new Cm(e)}function Dm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pm(e){var t,n=De(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Om(e){return null!==e.collectionGroup}function Lm(e){var t=Op(e);if(null===t.D){t.D=[];var n=Pm(t),r=Dm(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Em(n)),t.D.push(new Em(ov.keyField(),"asc"));else{var i,a=!1,o=De(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Em(ov.keyField(),s))}}}return t.D}function Mm(e){var t=Op(e);if(!t.C)if("F"===t.limitType)t.C=sm(t.path,t.collectionGroup,Lm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=De(Lm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Em(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;t.C=sm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Fm(e,t,n){return new Cm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Um(e,t){return lm(Mm(e),Mm(t))&&e.limitType===t.limitType}function jm(e){return"".concat(cm(Mm(e)),"|lt:").concat(e.limitType)}function Vm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Cv(t.value));var t})).join(", "),"]")),gv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Cv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Cv(e)})).join(",")),"Target(".concat(t,")")}(Mm(e)),"; limitType=").concat(e.limitType,")")}function Bm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=De(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=De(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Tm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lm(e),t))&&!(e.endAt&&!function(e,t,n){var r=Tm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lm(e),t))}(e,t)}function qm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zm(e){return function(t,n){var r,i=!1,a=De(Lm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Km(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Km(e,t,n){var r=e.field.isKeyField()?wv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tv(r,i):Dp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dp()}}function Wm(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kv(t)?"-0":t}}function Gm(e){return{integerValue:""+e}}function Hm(e,t){return bv(t)?Gm(t):Wm(e,t)}var Qm=Re((function e(){Ce(this,e),this._=void 0}));function Jm(e,t,n){return e instanceof Zm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $m?ey(e,t):e instanceof ty?ny(e,t):function(e,t){var n=Ym(e,t),r=iy(n)+iy(e.k);return Dv(n)&&Dv(e.k)?Gm(r):Wm(e.M,r)}(e,t)}function Xm(e,t,n){return e instanceof $m?ey(e,t):e instanceof ty?ny(e,t):n}function Ym(e,t){return e instanceof ry?Dv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zm=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n)}(Qm),$m=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).elements=e,r}return Re(n)}(Qm);function ey(e,t){var n,r=ay(t),i=De(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ev(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ty=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).elements=e,r}return Re(n)}(Qm);function ny(e,t){var n,r=ay(t),i=De(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ev(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ry=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).M=e,i.k=r,i}return Re(n)}(Qm);function iy(e){return fv(e.integerValue||e.doubleValue)}function ay(e){return Pv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var oy=Re((function e(t,n){Ce(this,e),this.field=t,this.transform=n}));var uy=Re((function e(t,n){Ce(this,e),this.version=t,this.transformResults=n})),sy=function(){function e(t,n){Ce(this,e),this.updateTime=t,this.exists=n}return Re(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ly=Re((function e(){Ce(this,e)}));function fy(e,t,n){e instanceof my?function(e,t,n){var r=e.value.clone(),i=ky(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yy?function(e,t,n){if(cy(e.precondition,t)){var r=ky(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hy(e,t,n){e instanceof my?function(e,t,n){if(cy(e.precondition,t)){var r=e.value.clone(),i=by(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(vy(t),r).setHasLocalMutations()}}(e,t,n):e instanceof yy?function(e,t,n){if(cy(e.precondition,t)){var r=by(e.fieldTransforms,n,t),i=t.data;i.setAll(gy(e)),i.setAll(r),t.convertToFoundDocument(vy(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){cy(e.precondition,t)&&t.convertToNoDocument($p.min())}(e,t)}function dy(e,t){var n,r=null,i=De(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ym(a.transform,o||null);null!=u&&(null==r&&(r=zv.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function py(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $m&&t instanceof $m||e instanceof ty&&t instanceof ty?Xp(e.elements,t.elements,Ev):e instanceof ry&&t instanceof ry?Ev(e.k,t.k):e instanceof Zm&&t instanceof Zm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vy(e){return e.isFoundDocument()?e.version:$p.min()}var my=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ce(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Re(n)}(ly),yy=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ce(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Re(n)}(ly);function gy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ky(e,t,n){var r=new Map;Pp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Xm(o,u,n[i]))}return r}function by(e,t,n){var r,i=new Map,a=De(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Jm(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wy,xy,_y=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Re(n)}(ly),Iy=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Re(n)}(ly),Ey=Re((function e(t){Ce(this,e),this.count=t}));function Sy(e){switch(e){default:return Dp();case Lp.CANCELLED:case Lp.UNKNOWN:case Lp.DEADLINE_EXCEEDED:case Lp.RESOURCE_EXHAUSTED:case Lp.INTERNAL:case Lp.UNAVAILABLE:case Lp.UNAUTHENTICATED:return!1;case Lp.INVALID_ARGUMENT:case Lp.NOT_FOUND:case Lp.ALREADY_EXISTS:case Lp.PERMISSION_DENIED:case Lp.FAILED_PRECONDITION:case Lp.ABORTED:case Lp.OUT_OF_RANGE:case Lp.UNIMPLEMENTED:case Lp.DATA_LOSS:return!0}}function Ty(e){if(void 0===e)return Cp("GRPC error has no .code"),Lp.UNKNOWN;switch(e){case wy.OK:return Lp.OK;case wy.CANCELLED:return Lp.CANCELLED;case wy.UNKNOWN:return Lp.UNKNOWN;case wy.DEADLINE_EXCEEDED:return Lp.DEADLINE_EXCEEDED;case wy.RESOURCE_EXHAUSTED:return Lp.RESOURCE_EXHAUSTED;case wy.INTERNAL:return Lp.INTERNAL;case wy.UNAVAILABLE:return Lp.UNAVAILABLE;case wy.UNAUTHENTICATED:return Lp.UNAUTHENTICATED;case wy.INVALID_ARGUMENT:return Lp.INVALID_ARGUMENT;case wy.NOT_FOUND:return Lp.NOT_FOUND;case wy.ALREADY_EXISTS:return Lp.ALREADY_EXISTS;case wy.PERMISSION_DENIED:return Lp.PERMISSION_DENIED;case wy.FAILED_PRECONDITION:return Lp.FAILED_PRECONDITION;case wy.ABORTED:return Lp.ABORTED;case wy.OUT_OF_RANGE:return Lp.OUT_OF_RANGE;case wy.UNIMPLEMENTED:return Lp.UNIMPLEMENTED;case wy.DATA_LOSS:return Lp.DATA_LOSS;default:return Dp()}}(xy=wy||(wy={}))[xy.OK=0]="OK",xy[xy.CANCELLED=1]="CANCELLED",xy[xy.UNKNOWN=2]="UNKNOWN",xy[xy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xy[xy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xy[xy.NOT_FOUND=5]="NOT_FOUND",xy[xy.ALREADY_EXISTS=6]="ALREADY_EXISTS",xy[xy.PERMISSION_DENIED=7]="PERMISSION_DENIED",xy[xy.UNAUTHENTICATED=16]="UNAUTHENTICATED",xy[xy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xy[xy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xy[xy.ABORTED=10]="ABORTED",xy[xy.OUT_OF_RANGE=11]="OUT_OF_RANGE",xy[xy.UNIMPLEMENTED=12]="UNIMPLEMENTED",xy[xy.INTERNAL=13]="INTERNAL",xy[xy.UNAVAILABLE=14]="UNAVAILABLE",xy[xy.DATA_LOSS=15]="DATA_LOSS";var Ay=function(){function e(t,n){Ce(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Re(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){tv(this.inner,(function(t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return nv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Cy=new tm(wv.comparator);function Ny(){return Cy}var Ry=new tm(wv.comparator);function Dy(){for(var e=Ry,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Py(){return new Ay((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Oy=new tm(wv.comparator),Ly=new im(wv.comparator);function My(){for(var e=Ly,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Fy=new im(Jp);function Uy(){return Fy}var jy=function(){function e(t,n,r,i,a){Ce(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Re(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Vy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($p.min(),r,Uy(),Ny(),My())}}]),e}(),Vy=function(){function e(t,n,r,i,a){Ce(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Re(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(sv.EMPTY_BYTE_STRING,n,My(),My(),My())}}]),e}(),By=Re((function e(t,n,r,i){Ce(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),qy=Re((function e(t,n){Ce(this,e),this.targetId=t,this.$=n})),zy=Re((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ce(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ky=function(){function e(){Ce(this,e),this.B=0,this.L=Hy(),this.U=sv.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Re(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=My(),t=My(),n=My();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dp()}})),new Vy(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Hy()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Wy=function(){function e(t){Ce(this,e),this.nt=t,this.st=new Map,this.it=Ny(),this.rt=Gy(),this.ot=new im(Jp)}return Re(e,[{key:"ut",value:function(e){var t,n=De(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=De(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Dp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(fm(i))if(0===n){var a=new wv(i.path);this.ct(t,a,Wv.newNoDocument(a,$p.min()))}else Pp(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&fm(a.target)){var o=new wv(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Wv.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=My();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new jy(e,n,this.ot,this.it,r);return this.it=Ny(),this.rt=Gy(),this.ot=new im(Jp),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ky,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new im(Jp),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ap("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ky),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Gy(){return new tm(wv.comparator)}function Hy(){return new tm(wv.comparator)}var Qy={asc:"ASCENDING",desc:"DESCENDING"},Jy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xy=Re((function e(t,n){Ce(this,e),this.databaseId=t,this.N=n}));function Yy(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zy(e,t){return e.N?t.toBase64():t.toUint8Array()}function $y(e,t){return Yy(e,t.toTimestamp())}function eg(e){return Pp(!!e),$p.fromTimestamp(function(e){var t=lv(e);return new Zp(t.seconds,t.nanos)}(e))}function tg(e,t){return function(e){return new iv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ng(e){var t=iv.fromString(e);return Pp(Eg(t)),t}function rg(e,t){return tg(e.databaseId,t.path)}function ig(e,t){var n=ng(t);if(n.get(1)!==e.databaseId.projectId)throw new Mp(Lp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mp(Lp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wv(sg(n))}function ag(e,t){return tg(e.databaseId,t)}function og(e){var t=ng(e);return 4===t.length?iv.emptyPath():sg(t)}function ug(e){return new iv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sg(e){return Pp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cg(e,t,n){return{name:rg(e,t),fields:n.value.mapValue.fields}}function lg(e,t,n){var r=ig(e,t.name),i=eg(t.updateTime),a=new zv({mapValue:{fields:t.fields}}),o=Wv.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function fg(e,t){return"found"in t?function(e,t){Pp(!!t.found),t.found.name,t.found.updateTime;var n=ig(e,t.found.name),r=eg(t.found.updateTime),i=new zv({mapValue:{fields:t.found.fields}});return Wv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Pp(!!t.missing),Pp(!!t.readTime);var n=ig(e,t.missing),r=eg(t.readTime);return Wv.newNoDocument(n,r)}(e,t):Dp()}function hg(e,t){var n;if(t instanceof my)n={update:cg(e,t.key,t.value)};else if(t instanceof _y)n={delete:rg(e,t.key)};else if(t instanceof yy)n={update:cg(e,t.key,t.data),updateMask:Ig(t.fieldMask)};else{if(!(t instanceof Iy))return Dp();n={verify:rg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $m)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ty)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ry)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Dp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$y(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dp()}(e,t.precondition)),n}function dg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sy.updateTime(eg(e.updateTime)):void 0!==e.exists?sy.exists(e.exists):sy.none()}(t.currentDocument):sy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Pp("REQUEST_TIME"===t.setToServerValue),n=new Zm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $m(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ty(i)}else"increment"in t?n=new ry(e,t.increment):Dp();var a=ov.fromServerFormat(t.fieldPath);return new oy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ig(e,t.update.name),a=new zv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new uv(t.map((function(e){return ov.fromServerFormat(e)})))}(t.updateMask);return new yy(i,a,o,n,r)}return new my(i,a,n,r)}if(t.delete){var u=ig(e,t.delete);return new _y(u,n)}if(t.verify){var s=ig(e,t.verify);return new Iy(s,n)}return Dp()}function pg(e,t){return{documents:[ag(e,t.path)]}}function vg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ag(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ag(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Lv(e.value))return{unaryFilter:{field:bg(e.field),op:"IS_NAN"}};if(Ov(e.value))return{unaryFilter:{field:bg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lv(e.value))return{unaryFilter:{field:bg(e.field),op:"IS_NOT_NAN"}};if(Ov(e.value))return{unaryFilter:{field:bg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bg(e.field),op:kg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bg(e.field),direction:gg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||gv(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function mg(e){var t=og(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=yg(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Em(wg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Im(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Im(n,t)}(n.endAt)),Nm(t,i,u,o,s,"F",c,l)}function yg(e){return e?void 0!==e.unaryFilter?[_g(e)]:void 0!==e.fieldFilter?[xg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return yg(e)})).reduce((function(e,t){return e.concat(t)})):Dp():[]}function gg(e){return Qy[e]}function kg(e){return Jy[e]}function bg(e){return{fieldPath:e.canonicalString()}}function wg(e){return ov.fromServerFormat(e.fieldPath)}function xg(e){return vm.create(wg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dp()}}(e.fieldFilter.op),e.fieldFilter.value)}function _g(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wg(e.unaryFilter.field);return vm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wg(e.unaryFilter.field);return vm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wg(e.unaryFilter.field);return vm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wg(e.unaryFilter.field);return vm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dp()}}function Ig(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Eg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ag(t)),t=Tg(e.get(n),t);return Ag(t)}function Tg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ag(e){return e+"\x01\x01"}function Cg(e){var t=e.length;if(Pp(t>=2),2===t)return Pp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),iv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Dp(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Dp()}a=o+2}return new iv(r)}var Ng=["userId","batchId"];function Rg(e,t){return[e,Sg(t)]}function Dg(e,t,n){return[e,Sg(t),n]}var Pg={},Og=["prefixPath","collectionGroup","readTime","documentId"],Lg=["prefixPath","collectionGroup","documentId"],Mg=["collectionGroup","readTime","prefixPath","documentId"],Fg=["canonicalId","targetId"],Ug=["targetId","path"],jg=["path","targetId"],Vg=["collectionId","parent"],Bg=["indexId","uid"],qg=["uid","sequenceNumber"],zg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kg=["indexId","uid","orderedDocumentKey"],Wg=["userId","collectionPath","documentId"],Gg=["userId","collectionPath","largestBatchId"],Hg=["userId","collectionGroup","largestBatchId"],Qg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Jg=[].concat(gt(Qg),["documentOverlays"]),Xg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yg=[].concat(Xg,["indexConfiguration","indexState","indexEntries"]),Zg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$g=function(){function e(){Ce(this,e),this.onCommittedListeners=[]}return Re(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ek=function(){function e(t){var n=this;Ce(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Re(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=De(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),tk=function(){function e(t,n){var r=this;Ce(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Fp,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new ik(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=ck(e.target.error);r.At.reject(new ik(t,n))}}return Re(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ap("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ok(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ik(n,t)}}}]),e}(),nk=function(){function e(t,n,r){Ce(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Xe())&&Cp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Re(e,[{key:"Nt",value:function(){var e=bt(xt().mark((function e(t){var n=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ap("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ik(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Mp(Lp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Mp(Lp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ik(t,n))},i.onupgradeneeded=function(e){Ap("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ap("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=bt(xt().mark((function e(t,n,r,i){var a,o,u,s,c=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(xt().mark((function e(){var n,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=tk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),ek.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ap("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ap("SimpleDb","Removing database:",e),uk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!nt())return!1;if(e.St())return!0;var t=Xe(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),rk=function(){function e(t){Ce(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Re(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return uk(this.Ft.delete())}}]),e}(),ik=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,Lp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Re(n)}(Mp);function ak(e){return"IndexedDbTransactionError"===e.name}var ok=function(){function e(t){Ce(this,e),this.store=t}return Re(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ap("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ap("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),uk(n)}},{key:"add",value:function(e){return Ap("SimpleDb","ADD",this.store.name,e,e),uk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return uk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ap("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ap("SimpleDb","DELETE",this.store.name,e),uk(this.store.delete(e))}},{key:"count",value:function(){return Ap("SimpleDb","COUNT",this.store.name),uk(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ek((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ek((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ap("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ek((function(n,r){t.onerror=function(e){var t=ck(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ek((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new rk(i),o=t(i.primaryKey,i.value,a);if(o instanceof ek){var u=o.catch((function(e){return a.done(),ek.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ek.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function uk(e){return new ek((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ck(e.target.error);n(t)}}))}var sk=!1;function ck(e){var t=nk.Vt(Xe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Mp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sk||(sk=!0,setTimeout((function(){throw r}),0)),r}}return e}var lk=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Re(n)}($g);function fk(e,t){var n=Op(e);return nk.xt(n.Ht,t)}var hk=function(){function e(t,n,r,i){Ce(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Re(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=De(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&hy(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=De(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&hy(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($p.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),My())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xp(this.mutations,e.mutations,(function(e,t){return py(e,t)}))&&Xp(this.baseMutations,e.baseMutations,(function(e,t){return py(e,t)}))}}]),e}(),dk=function(){function e(t,n,r,i){Ce(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Re(e,null,[{key:"from",value:function(t,n,r){Pp(t.mutations.length===r.length);for(var i=Oy,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),pk=function(){function e(t,n){Ce(this,e),this.largestBatchId=t,this.mutation=n}return Re(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),vk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$p.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$p.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sv.EMPTY_BYTE_STRING;Ce(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Re(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),mk=Re((function e(t){Ce(this,e),this.Jt=t}));function yk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:rg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yy(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kk(t.version)};else{if(!t.isUnknownDocument())return Dp();r.unknownDocument={path:n.path.toArray(),version:kk(t.version)}}return r}function gk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bk(e){var t=new Zp(e.seconds,e.nanoseconds);return $p.fromTimestamp(t)}function wk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return dg(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return dg(e.Jt,t)})),u=Zp.fromMillis(t.localWriteTimeMs);return new hk(t.batchId,u,n,o)}function xk(e){var t,n,r=bk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bk(e.lastLimboFreeSnapshotVersion):$p.min();return void 0!==e.query.documents?(Pp(1===(n=e.query).documents.length),t=Mm(Rm(og(n.documents[0])))):t=function(e){return Mm(mg(e))}(e.query),new vk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,sv.fromBase64String(e.resumeToken))}function _k(e,t){var n,r=kk(t.snapshotVersion),i=kk(t.lastLimboFreeSnapshotVersion);n=fm(t.target)?pg(e.Jt,t.target):vg(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ik(e){var t=mg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fm(t,t.limit,"L"):t}function Ek(e,t){return new pk(t.largestBatchId,dg(e.Jt,t.overlayMutation))}function Sk(e,t){var n=t.path.lastSegment();return[e,Sg(t.path.popLast()),n]}var Tk=function(){function e(){Ce(this,e)}return Re(e,[{key:"getBundleMetadata",value:function(e,t){return Ak(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ak(e).put({bundleId:(n=t).id,createTime:kk(eg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ck(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ik(t.bundledQuery),readTime:bk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ck(e).put(function(e){return{name:e.name,readTime:kk(eg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ak(e){return fk(e,"bundles")}function Ck(e){return fk(e,"namedQueries")}var Nk=function(){function e(t,n){Ce(this,e),this.M=t,this.userId=n}return Re(e,[{key:"getOverlay",value:function(e,t){var n=this;return Rk(e).get(Sk(this.userId,t)).next((function(e){return e?Ek(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new pk(t,a);i.push(r.Xt(e,o))})),ek.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Sg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Rk(e).Qt("collectionPathOverlayIndex",i))})),ek.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Py(),a=Sg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Rk(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ek(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Py(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rk(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ek(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Rk(e).put(function(e,t,n){var r=c(Sk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:hg(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Rk(e){return fk(e,"documentOverlays")}var Dk=function(){function e(){Ce(this,e)}return Re(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(fv(e.integerValue));else if("doubleValue"in e){var n=fv(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),kv(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(hv(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Uv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Dp()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),wv.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Pk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ok(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Pk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Dk.fe=new Dk;var Lk=function(){function e(){Ce(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Re(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Ok(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Ok(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Mk=function(){function e(t){Ce(this,e),this.De=t}return Re(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Fk=function(){function e(t){Ce(this,e),this.De=t}return Re(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Uk=function(){function e(){Ce(this,e),this.De=new Lk,this.Ce=new Mk(this.De),this.xe=new Fk(this.De)}return Re(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),jk=function(){function e(t,n,r,i){Ce(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Re(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Vk(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Bk(e.arrayValue,t.arrayValue))?n:0!==(n=Bk(e.directionalValue,t.directionalValue))?n:wv.comparator(e.documentKey,t.documentKey)}function Bk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var qk=function(){function e(t){Ce(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=De(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Re(e,[{key:"$e",value:function(e){var t=Hv(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Qv(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=De(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),zk=function(){function e(){Ce(this,e),this.qe=new Kk}return Re(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ek.resolve()}},{key:"getCollectionParents",value:function(e,t){return ek.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ek.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ek.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ek.resolve(null)}},{key:"getIndexType",value:function(e,t){return ek.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ek.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ek.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ek.resolve($v.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ek.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ek.resolve()}}]),e}(),Kk=function(){function e(){Ce(this,e),this.index={}}return Re(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new im(iv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new im(iv.comparator)).toArray()}}]),e}(),Wk=new Uint8Array(0),Gk=function(){function e(t,n){Ce(this,e),this.user=t,this.databaseId=n,this.Ke=new Kk,this.Ge=new Ay((function(e){return cm(e)}),(function(e,t){return lm(e,t)})),this.uid=t.uid||""}return Re(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Sg(i)};return Hk(e).put(a)}return ek.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Yp(t),""],!1,!0);return Hk(e).qt(r).next((function(e){var r,i=De(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Cg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Jk(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Jk(e),r=Xk(e),i=Qk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Qk(e),i=!0,a=new Map;return ek.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=My(),o=[];return ek.forEach(a,(function(i,a){var u;Ap("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(cm(t)));var s=function(e,t){var n=Hv(t);if(void 0===n)return null;var r,i=De(hm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=De(Qv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=De(hm(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=De(Qv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?dm(e,o.fieldPath,e.startAt):pm(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Im(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=De(Qv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pm(e,o.fieldPath,e.endAt):dm(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Im(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ek.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=wv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ek.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Wk,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,gt(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new jk(e,wv.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new jk(e,wv.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new qk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=De(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ek.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new im(ov.comparator),r=!1,i=De(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=De(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Uk,i=De(Qv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Dk.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Uk;return Dk.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Uk;return Dk.fe.Zt(Rv(this.databaseId,t),n.Ne(function(e){var t=Qv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Uk);var i,a=0,o=De(Qv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=De(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Pv(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Dk.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=gt(e),a=[],o=De(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=De(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Uk;f.seed(l.Se()),Dk.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Jk(e),i=Xk(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ek.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xv(t.sequenceNumber,new $v(bk(t.readTime),new wv(Cg(t.documentKey)),t.largestBatchId)):Xv.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Jv(ov.fromServerFormat(n),r)}));return new Gv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Jp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Jk(e),a=Xk(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ek.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:kk(r.readTime),documentKey:Sg(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ek.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ek.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ek.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?ek.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Qk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Qk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Qk(e),i=new im(Vk);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new jk(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new im(Vk),r=this.Ze(t,e);if(null==r)return n;var i=Hv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Pv(a)){var o,u=De(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new jk(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new jk(t.indexId,e.key,Wk,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Ap("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=om(a),s=om(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=om(o)):l?(i(u),u=om(a)):(u=om(a),s=om(o))}}(r,i,Vk,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),ek.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Xk(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Vk(e,t)})).filter((function(e,t,n){return!t||0!==Vk(e,n[t-1])}));var r=[];r.push(e);var i,a=De(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Vk(o,e),s=Vk(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Wk,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Wk,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return ek.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||em(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=$v.min()}))})).next((function(){return n}))}}]),e}();function Hk(e){return fk(e,"collectionParents")}function Qk(e){return fk(e,"indexEntries")}function Jk(e){return fk(e,"indexConfiguration")}function Xk(e){return fk(e,"indexState")}var Yk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zk=function(){function e(t,n,r){Ce(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Re(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $k(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Pp(1===u)})));var c,l=[],f=De(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Dg(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ek.waitFor(a).next((function(){return l}))}function eb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dp();t=e.noDocument}return JSON.stringify(t).length}Zk.DEFAULT_COLLECTION_PERCENTILE=10,Zk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zk.DEFAULT=new Zk(41943040,Zk.DEFAULT_COLLECTION_PERCENTILE,Zk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zk.DISABLED=new Zk(-1,0,0);var tb=function(){function e(t,n,r,i){Ce(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Re(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rb(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ib(e),o=rb(e);return o.add({}).next((function(u){Pp("number"==typeof u);var s,c=new hk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return hg(e.Jt,t)})),i=n.mutations.map((function(t){return hg(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new im((function(e,t){return Jp(e.canonicalString(),t.canonicalString())})),d=De(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Dg(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Pg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),ek.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return rb(e).get(t).next((function(e){return e?(Pp(e.userId===n.userId),wk(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?ek.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return rb(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Pp(t.batchId>=r),a=wk(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rb(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rb(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return wk(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Rg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ib(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Cg(l);if(s===n.userId&&t.path.isEqual(h))return rb(e).get(f).next((function(e){if(!e)throw Dp();Pp(e.userId===n.userId),a.push(wk(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new im(Jp),i=[];return t.forEach((function(t){var a=Rg(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ib(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Cg(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),ek.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Rg(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new im(Jp);return ib(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Cg(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(rb(e).get(t).next((function(e){if(null===e)throw Dp();Pp(e.userId===n.userId),r.push(wk(n.M,e))})))})),ek.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $k(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),ek.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ek.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ib(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Cg(e[1]);i.push(a)}else r.done()})).next((function(){Pp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return nb(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return ab(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Pp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function nb(e,t,n){var r=Rg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ib(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function rb(e){return fk(e,"mutations")}function ib(e){return fk(e,"documentMutations")}function ab(e){return fk(e,"mutationQueues")}var ob=function(){function e(t){Ce(this,e),this.mn=t}return Re(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),ub=function(){function e(t,n){Ce(this,e),this.referenceDelegate=t,this.M=n}return Re(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new ob(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return $p.fromTimestamp(new Zp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sb(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Pp(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return sb(e).Wt((function(o,u){var s=xk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ek.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return sb(e).Wt((function(e,n){var r=xk(n);t(r)}))}},{key:"pn",value:function(e){return cb(e).get("targetGlobalKey").next((function(e){return Pp(null!==e),e}))}},{key:"In",value:function(e,t){return cb(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return sb(e).put(_k(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=cm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sb(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=xk(n);lm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=lb(e);return t.forEach((function(t){var o=Sg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ek.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=lb(e);return ek.forEach(t,(function(t){var a=Sg(t.path);return ek.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=lb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lb(e),i=My();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Cg(e[1]),a=new wv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Sg(t.path),r=IDBKeyRange.bound([n],[Yp(n)],!1,!0),i=0;return lb(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return sb(e).get(t).next((function(e){return e?xk(e):null}))}}]),e}();function sb(e){return fk(e,"targets")}function cb(e){return fk(e,"targetGlobal")}function lb(e){return fk(e,"targetDocuments")}function fb(e){return hb.apply(this,arguments)}function hb(){return hb=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lp.FAILED_PRECONDITION&&t.message===Zg){e.next=2;break}throw t;case 2:Ap("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}function db(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Jp(r,o);return 0===s?Jp(i,u):s}var pb=function(){function e(t){Ce(this,e),this.An=t,this.buffer=new im(db),this.Rn=0}return Re(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();db(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),vb=function(){function e(t,n){Ce(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Re(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Ap("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,bt(xt().mark((function n(){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ak(n.t0)){n.next=12;break}Ap("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,fb(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),mb=function(){function e(t,n){Ce(this,e),this.Dn=t,this.params=n}return Re(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ek.resolve(Gp.A);var r=new pb(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ap("LruGarbageCollector","Garbage collection skipped; disabled"),ek.resolve(Yk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ap("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Yk):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ap("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Tp()<=Tt.DEBUG&&Ap("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ek.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),yb=function(){function e(t,n){Ce(this,e),this.db=t,this.garbageCollector=function(e,t){return new mb(e,t)}(this,n)}return Re(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return gb(e,n)}},{key:"removeReference",value:function(e,t,n){return gb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return gb(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return ab(e).zt((function(r){return nb(e,r,t).next((function(e){return e&&(n=!0),ek.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,$p.min()),lb(e).delete([0,Sg(o.path)])}))}));i.push(s)}})).next((function(){return ek.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return gb(e,t)}},{key:"Mn",value:function(e,t){var n,r=lb(e),i=Gp.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Gp.A&&t(new wv(Cg(n)),i),i=s,n=u):i=Gp.A})).next((function(){i!==Gp.A&&t(new wv(Cg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function gb(e,t){return lb(e).put(function(e,t){return{targetId:0,path:Sg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var kb=function(){function e(){Ce(this,e),this.changes=new Ay((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Re(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ek.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),bb=function(){function e(t){Ce(this,e),this.M=t}return Re(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return _b(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return _b(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],gk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wv.newInvalidDocument(t);return _b(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ib(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Wv.newInvalidDocument(t)};return _b(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ib(t))},(function(e,i){r={document:n.$n(t,i),size:eb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ny();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Ny(),i=new tm(wv.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,eb(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return ek.resolve();var r=new im(Sb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ib(r.first()),Ib(r.last())),a=r.getIterator(),o=a.getNext();return _b(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=wv.fromSegments([].concat(gt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Sb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Ib(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),gk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _b(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ny(),i=De(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(wv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ny(),o=Eb(t,n),u=Eb(t,$v.max());return _b(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(wv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new wb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return xb(e).get("remoteDocumentGlobalKey").next((function(e){return Pp(!!e),e}))}},{key:"Fn",value:function(e,t){return xb(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=lg(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=wv.fromSegments(t.noDocument.path),i=bk(t.noDocument.readTime);n=Wv.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dp();var a=wv.fromSegments(t.unknownDocument.path),o=bk(t.unknownDocument.version);n=Wv.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Zp(e[0],e[1]);return $p.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual($p.min()))return n}return Wv.newInvalidDocument(e)}}]),e}(),wb=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Ay((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Re(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new im((function(e,t){return Jp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=yk(t.Kn.M,o);i=i.add(a.path.popLast());var c=eb(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=yk(t.Kn.M,o.convertToNoDocument($p.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),ek.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(kb);function xb(e){return fk(e,"remoteDocumentGlobal")}function _b(e){return fk(e,"remoteDocumentsV14")}function Ib(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Eb(e,t){var n=t.documentKey.path.toArray();return[e,gk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Sb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Jp(n[a],r[a]))return i;return(i=Jp(n.length,r.length))||((i=Jp(n[n.length-2],r[r.length-2]))||Jp(n[n.length-1],r[r.length-1]))}var Tb=function(){function e(t){Ce(this,e),this.M=t}return Re(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new tk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ng,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ab(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ek.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ab(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$p.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ng,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ek.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Wg});t.createIndex("collectionPathOverlayIndex",Gg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Hg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Og});t.createIndex("documentKeyIndex",Lg),t.createIndex("collectionGroupIndex",Mg)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Bg}).createIndex("sequenceNumberIndex",qg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:zg}).createIndex("documentKeyIndex",Kg,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=eb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ek.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ek.forEach(r,(function(r){Pp(r.userId===n.userId);var i=wk(t.M,r);return $k(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new iv(n),o=function(e){return[0,Sg(e)]}(a);r.push(t.get(o).next((function(n){return n?ek.resolve():function(n){return t.put({targetId:0,path:Sg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ek.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Vg});var n=t.store("collectionParents"),r=new Kk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Sg(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new iv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Cg(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=xk(r),a=_k(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new wv(iv.fromString(i.document.name).popFirst(5)):i.noDocument?wv.fromSegments(i.noDocument.path):i.unknownDocument?wv.fromSegments(i.unknownDocument.path):Dp()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ek.waitFor(r)}))}}]),e}();function Ab(e){e.createObjectStore("targetDocuments",{keyPath:Ug}).createIndex("documentTargetsIndex",jg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fg,{unique:!0}),e.createObjectStore("targetGlobal")}var Cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ce(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Mp(Lp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yb(this,i),this.hs=n+"main",this.M=new mk(s),this.ls=new nk(this.hs,this.ts,new Tb(this.M)),this.fs=new ub(this.referenceDelegate,this.M),this.ds=function(e){return new bb(e)}(this.M),this._s=new Tk,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Cp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Re(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Mp(Lp.FAILED_PRECONDITION,Cb);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Gp(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=bt(xt().mark((function n(r){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=bt(xt().mark((function t(n){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Db(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(ak(t))return Ap("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ap("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Rb(e).get("owner").next((function(e){return ek.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Db(e).delete(this.clientId)}},{key:"vs",value:function(){var e=bt(xt().mark((function e(){var t,n,r,i,a=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fk(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ek.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=De(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ek.resolve(!0):Rb(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Mp(Lp.FAILED_PRECONDITION,Cb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Db(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ap("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=bt(xt().mark((function e(){var t=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new lk(e,Gp.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Db(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return tb.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Gk(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Nk.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Ap("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Yg:13===i?Xg:12===i?Jg:11===i?Qg:void Dp();return this.ls.runTransaction(e,o,u,(function(i){return a=new lk(i,r.es?r.es.next():Gp.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Cp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Mp(Lp.FAILED_PRECONDITION,Zg);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Rb(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Mp(Lp.FAILED_PRECONDITION,Cb)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rb(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Rb(e);return n.get("owner").next((function(e){return t.Ps(e)?(Ap("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ek.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Cp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ap("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Cp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(_l){Cp("Failed to set zombie client id.",_l)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(_l){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return nk.vt()}}]),e}();function Rb(e){return fk(e,"owner")}function Db(e){return fk(e,"clientMetadata")}function Pb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ob=function(){function e(t,n,r){Ce(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Re(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=De(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=De(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return wv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Om(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new wv(t)).next((function(e){var t=Dy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Dy();return this.indexManager.getCollectionParents(e,i).next((function(o){return ek.forEach(o,(function(o){var u=function(e,t){return new Cm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=De(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Wv.newInvalidDocument(s),r=r.insert(s,c)),hy(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Bm(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Lb=function(){function e(t,n,r,i){Ce(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Re(e,null,[{key:"Ys",value:function(t,n){var r,i=My(),a=My(),o=De(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Mb=function(){function e(){Ce(this,e),this.Xs=!1}return Re(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return ek.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual($p.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Tp()<=Tt.DEBUG&&Ap("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vm(t)),i.ri(e,o,t,Yv(r,-1)))}))}},{key:"si",value:function(e,t){var n=new im(zm(e));return t.forEach((function(t,r){Bm(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Tp()<=Tt.DEBUG&&Ap("QueryEngine","Using full collection scan to execute query:",Vm(t)),this.Zs.Qs(e,t,$v.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Fb=function(){function e(t,n,r,i){Ce(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new tm(Jp),this.ai=new Ay((function(e){return cm(e)}),lm),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Re(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Ob(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Ub(e,t,n,r){return new Fb(e,t,n,r)}function jb(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=My(),s=De(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=De(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=De(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=De(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function Bb(e,t){var n=Op(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ek.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Pp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function qb(e){var t=Op(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function zb(e,t){var n=Op(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(sv.EMPTY_BYTE_STRING,$p.min()).withLastLimboFreeSnapshotVersion($p.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Ny();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Kb(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual($p.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ek.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function Kb(e,t,n){var r=My();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ny();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual($p.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ap("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Wb(e,t){var n=Op(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Gb(e,t){var n=Op(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,ek.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new vk(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Hb(e,t,n){return Qb.apply(this,arguments)}function Qb(){return Qb=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Op(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ak(e.t1)){e.next=12;break}throw e.t1;case 12:Ap("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Qb.apply(this,arguments)}function Jb(e,t,n){var r=Op(e),i=$p.min(),a=My();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Op(e),i=r.ai.get(n);return void 0!==i?ek.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Mm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:$p.min(),n?a:My())})).next((function(e){return Zb(r,qm(t),e),{documents:e,_i:a}}))}))}function Xb(e,t){var n=Op(e),r=Op(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Yb(e,t){var n=Op(e),r=n.ci.get(t)||$p.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Yv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Zb(n,t,e),e}))}function Zb(e,t,n){var r=$p.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function $b(e,t,n,r){return ew.apply(this,arguments)}function ew(){return ew=bt(xt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Op(t),o=My(),u=Ny(),s=De(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Gb(a,function(e){return Mm(Rm(iv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Kb(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return nw=bt(xt().mark((function e(t,n){var r,i,a,o=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:My(),e.next=3,Gb(t,Mm(Ik(n.bundledQuery)));case 3:return i=e.sent,a=Op(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=eg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(sv.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),nw.apply(this,arguments)}var rw=function(){function e(t){Ce(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Re(e,[{key:"getBundleMetadata",value:function(e,t){return ek.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:eg(n.createTime)}),ek.resolve()}},{key:"getNamedQuery",value:function(e,t){return ek.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Ik(e.bundledQuery),readTime:eg(e.readTime)}}(t)),ek.resolve()}}]),e}(),iw=function(){function e(){Ce(this,e),this.overlays=new tm(wv.comparator),this.Ii=new Map}return Re(e,[{key:"getOverlay",value:function(e,t){return ek.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ek.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),ek.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Py(),i=t.length+1,a=new wv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ek.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new tm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Py(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Py(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ek.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new pk(t,n));var a=this.Ii.get(t);void 0===a&&(a=My(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),aw=function(){function e(){Ce(this,e),this.Ti=new im(ow.Ei),this.Ai=new im(ow.Ri)}return Re(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ow(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new ow(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new wv(new iv([])),r=new ow(n,e),i=new ow(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new wv(new iv([])),n=new ow(t,e),r=new ow(t,e+1),i=My();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ow(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ow=function(){function e(t,n){Ce(this,e),this.key=t,this.Ci=n}return Re(e,null,[{key:"Ei",value:function(e,t){return wv.comparator(e.key,t.key)||Jp(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Jp(e.Ci,t.Ci)||wv.comparator(e.key,t.key)}}]),e}(),uw=function(){function e(t,n){Ce(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new im(ow.Ei)}return Re(e,[{key:"checkEmpty",value:function(e){return ek.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new hk(i,t,n,r);this.Bs.push(a);var o,u=De(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new ow(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ek.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ek.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return ek.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ek.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return ek.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ow(t,0),i=new ow(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),ek.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new im(Jp);return t.forEach((function(e){var t=new ow(e,0),i=new ow(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),ek.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;wv.isDocumentKey(i)||(i=i.child(""));var a=new ow(new wv(i),0),o=new im(Jp);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),ek.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Pp(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return ek.forEach(t.mutations,(function(i){var a=new ow(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ow(t,0),r=this.Ni.firstAfterOrEqual(n);return ek.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,ek.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),sw=function(){function e(t){Ce(this,e),this.$i=t,this.docs=new tm(wv.comparator),this.size=0}return Re(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ek.resolve(n?n.document.mutableCopy():Wv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ny();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wv.newInvalidDocument(e))})),ek.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ny(),i=new wv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||em(Zv(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ek.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Dp()}},{key:"Bi",value:function(e,t){return ek.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new cw(this)}},{key:"getSize",value:function(e){return ek.resolve(this.size)}}]),e}(),cw=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).Kn=e,r}return Re(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),ek.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(kb),lw=function(){function e(t){Ce(this,e),this.persistence=t,this.Li=new Ay((function(e){return cm(e)}),lm),this.lastRemoteSnapshotVersion=$p.min(),this.highestTargetId=0,this.Ui=0,this.qi=new aw,this.targetCount=0,this.Ki=ob.gn()}return Re(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),ek.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ek.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ek.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),ek.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),ek.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new ob(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ek.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ek.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ek.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ek.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ek.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return ek.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),ek.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ek.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),ek.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return ek.resolve(n)}},{key:"containsKey",value:function(e,t){return ek.resolve(this.qi.containsKey(t))}}]),e}(),fw=function(){function e(t,n){var r=this;Ce(this,e),this.Gi={},this.overlays={},this.es=new Gp(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new lw(this),this.indexManager=new zk,this.ds=new sw((function(e){return r.referenceDelegate.Qi(e)})),this.M=new mk(n),this._s=new rw(this.M)}return Re(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new iw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new uw(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Ap("MemoryPersistence","Starting transaction:",e);var i=new hw(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return ek.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),hw=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Re(n)}($g),dw=function(){function e(t){Ce(this,e),this.persistence=t,this.Hi=new aw,this.Ji=null}return Re(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Dp()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),ek.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),ek.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),ek.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ek.forEach(this.Xi,(function(r){var i=wv.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,$p.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return ek.or([function(){return ek.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function pw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yw=function(){function e(t,n,r,i){Ce(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Re(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Mp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Cp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gw=function(){function e(t,n,r){Ce(this,e),this.targetId=t,this.state=n,this.error=r}return Re(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Mp(i.error.code,i.error.message))),a?new e(t,i.state,r):(Cp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),kw=function(){function e(t,n){Ce(this,e),this.clientId=t,this.activeTargetIds=n}return Re(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Uy(),o=0;i&&o<r.activeTargetIds.length;++o)i=bv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Cp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),bw=function(){function e(t,n){Ce(this,e),this.clientId=t,this.onlineState=n}return Re(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Cp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ww=function(){function e(){Ce(this,e),this.activeTargetIds=Uy()}return Re(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xw=function(){function e(t,n,r,i,a){Ce(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new tm(Jp),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=pw(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new ww),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return Re(e,[{key:"start",value:function(){var e=bt(xt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=De(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(pw(this.persistenceKey,i)))&&(o=kw.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=De(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(mw(this.persistenceKey,e));if(n){var r=gw.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(mw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ap("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ap("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ap("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ap("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Cp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(bt(xt().mark((function e(){var r,i,a,o,u,s,c;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Gp.A;if(null!=e)try{var n=JSON.parse(e);Pp("number"==typeof n),t=n}catch(e){Cp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Gp.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new yw(this.currentUser,e,t,n),i=vw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=vw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=mw(this.persistenceKey,e),i=new gw(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return kw.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yw.tr(new Ip(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return gw.tr(r,t)}},{key:"pr",value:function(e){return bw.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Ap("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Uy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_w=function(){function e(){Ce(this,e),this.Ur=new ww,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Re(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new ww,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Iw=function(){function e(){Ce(this,e)}return Re(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ew=function(){function e(){var t=this;Ce(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Re(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Ap("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=De(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Ap("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=De(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Sw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tw=function(){function e(t){Ce(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Re(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Aw=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Re(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xp;o.listenOnce(yp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mp.NO_ERROR:var t=o.getResponseJson();Ap("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mp.TIMEOUT:Ap("Connection",'RPC "'+e+'" timed out'),a(new Mp(Lp.DEADLINE_EXCEEDED,"Request time out"));break;case mp.HTTP_ERROR:var n=o.getStatus();if(Ap("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lp).indexOf(t)>=0?t:Lp.UNKNOWN}(r.status);a(new Mp(u,r.message))}else a(new Mp(Lp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Mp(Lp.UNAVAILABLE,"Connection failed."));break;default:Dp()}}finally{Ap("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pp(),a=vp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bp({})),this.lo(o.initMessageHeaders,t,n),Ye()||et()||Xe().indexOf("Electron/")>=0||tt()||Xe().indexOf("MSAppHost/")>=0||$e()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ap("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Tw({Jr:function(e){l?Ap("Connection","Not sending because WebChannel is closed:",e):(c||(Ap("Connection","Opening WebChannel transport."),s.open(),c=!0),Ap("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wp.EventType.OPEN,(function(){l||Ap("Connection","WebChannel transport opened.")})),h(s,wp.EventType.CLOSE,(function(){l||(l=!0,Ap("Connection","WebChannel transport closed"),f.ro())})),h(s,wp.EventType.ERROR,(function(e){l||(l=!0,Np("Connection","WebChannel transport errored:",e),f.ro(new Mp(Lp.UNAVAILABLE,"The operation could not be completed")))})),h(s,wp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Pp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ap("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wy[e];if(void 0!==t)return Ty(t)}(a),u=i.message;void 0===o&&(o=Lp.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Mp(o,u)),s.close()}else Ap("Connection","WebChannel received:",n),f.oo(n)}})),h(a,gp.STAT_EVENT,(function(e){e.stat===kp.PROXY?Ap("Connection","Detected buffering proxy"):e.stat===kp.NOPROXY&&Ap("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Ce(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Re(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Ap("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Ap("RestConnection","Received: ",e),e}),(function(t){throw Np("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ep,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Sw[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Cw(){return"undefined"!=typeof window?window:null}function Nw(){return"undefined"!=typeof document?document:null}function Rw(e){return new Xy(e,!0)}var Dw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ce(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Re(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Ap("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Pw=function(){function e(t,n,r,i,a,o,u,s){Ce(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Dw(t,n)}return Re(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Lp.RESOURCE_EXHAUSTED?(Cp(n.toString()),Cp("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Lp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Mp(Lp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Ap("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Ap("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ow=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a,o,u){var s;return Ce(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Re(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Pp(void 0===t||"string"==typeof t),sv.fromBase64String(t||"")):(Pp(void 0===t||t instanceof Uint8Array),sv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Lp.UNKNOWN:Ty(e.code);return new Mp(t,e.message||"")}(o);n=new zy(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=ig(e,s.document.name),l=eg(s.document.updateTime),f=new zv({mapValue:{fields:s.document.fields}}),h=Wv.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new By(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=ig(e,v.document),y=v.readTime?eg(v.readTime):$p.min(),g=Wv.newNoDocument(m,y),k=v.removedTargetIds||[];n=new By([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=ig(e,b.document),x=b.removedTargetIds||[];n=new By([],x,w,null)}else{if(!("filter"in t))return Dp();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new Ey(I),S=_.targetId;n=new qy(S,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return $p.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$p.min():t.readTime?eg(t.readTime):$p.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=ug(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=fm(r)?{documents:pg(e,r)}:{query:vg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zy(e,t.resumeToken):t.snapshotVersion.compareTo($p.min())>0&&(n.readTime=Yy(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=ug(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Pw),Lw=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a,o,u){var s;return Ce(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return Re(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Jn(Me(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Pp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Pp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?eg(e.updateTime):eg(t);return n.isEqual($p.min())&&(n=eg(t)),new uy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=eg(e.commitTime);return this.listener.tu(n,t)}return Pp(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=ug(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hg(t.M,e)}))};this.Lo(n)}}]),n}(Pw),Mw=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a){var o;return Ce(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Re(n,[{key:"iu",value:function(){if(this.su)throw new Mp(Lp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mp(Lp.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mp(Lp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Re((function e(){Ce(this,e)}))}()),Fw=function(){function e(t,n){Ce(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Re(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Cp(t),this.uu=!1):Ap("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Uw=Re((function e(t,n,r,i,a){var o=this;Ce(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jw(o),!e.t0){e.next=5;break}return Ap("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Op(t)).wu.add(4),e.next=4,Bw(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,jw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Fw(r,i)}));function jw(e){return Vw.apply(this,arguments)}function Vw(){return Vw=bt(xt().mark((function e(t){var n,r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jw(t)){e.next=18;break}n=De(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Vw.apply(this,arguments)}function Bw(e){return qw.apply(this,arguments)}function qw(){return qw=bt(xt().mark((function e(t){var n,r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=De(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),qw.apply(this,arguments)}function zw(e,t){var n=Op(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Qw(n)?Hw(n):Ix(n).Mo()&&Ww(n,t))}function Kw(e,t){var n=Op(e),r=Ix(n);n._u.delete(t),r.Mo()&&Gw(n,t),0===n._u.size&&(r.Mo()?r.$o():Jw(n)&&n.yu.set("Unknown"))}function Ww(e,t){e.pu.Z(t.targetId),Ix(e).Ho(t)}function Gw(e,t){e.pu.Z(t),Ix(e).Jo(t)}function Hw(e){e.pu=new Wy({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Ix(e).start(),e.yu.au()}function Qw(e){return Jw(e)&&!Ix(e).ko()&&e._u.size>0}function Jw(e){return 0===Op(e).wu.size}function Xw(e){e.pu=void 0}function Yw(e){return Zw.apply(this,arguments)}function Zw(){return Zw=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Ww(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function $w(e,t){return ex.apply(this,arguments)}function ex(){return ex=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xw(t),Qw(t)?(t.yu.lu(n),Hw(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t,n){return nx.apply(this,arguments)}function nx(){return nx=bt(xt().mark((function e(t,n,r){var i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof zy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=De(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ap("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof By?t.pu.ut(n):n instanceof qy?t.pu._t(n):t.pu.ht(n),r.isEqual($p.min())){e.next=29;break}return e.prev=14,e.next=17,qb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(sv.EMPTY_BYTE_STRING,n.snapshotVersion)),Gw(e,t);var r=new vk(n.target,t,1,n.sequenceNumber);Ww(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ap("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nx.apply(this,arguments)}function rx(e,t,n){return ix.apply(this,arguments)}function ix(){return ix=bt(xt().mark((function e(t,n,r){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ak(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Bw(t);case 5:t.yu.set("Offline"),r||(r=function(){return qb(t.localStore)}),t.asyncQueue.enqueueRetryable(bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ap("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,jw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t){return t().catch((function(n){return rx(e,n,t)}))}function ox(e){return ux.apply(this,arguments)}function ux(){return ux=bt(xt().mark((function e(t){var n,r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Op(t),r=Ex(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!sx(n)){e.next=19;break}return e.prev=3,e.next=6,Wb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,cx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rx(n,e.t0);case 17:e.next=2;break;case 19:lx(n)&&fx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ux.apply(this,arguments)}function sx(e){return Jw(e)&&e.du.length<10}function cx(e,t){e.du.push(t);var n=Ex(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function lx(e){return Jw(e)&&!Ex(e).ko()&&e.du.length>0}function fx(e){Ex(e).start()}function hx(e){return dx.apply(this,arguments)}function dx(){return dx=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ex(t).nu();case 1:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e){return vx.apply(this,arguments)}function vx(){return vx=bt(xt().mark((function e(t){var n,r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ex(t),r=De(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function mx(e,t,n){return yx.apply(this,arguments)}function yx(){return yx=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=dk.from(i,n,r),e.next=3,ax(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ox(t);case 5:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=bt(xt().mark((function e(t,n){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ex(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sy(i=n.code)||i===Lp.ABORTED){e.next=7;break}return r=t.du.shift(),Ex(t).Fo(),e.next=5,ax(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ox(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:lx(t)&&fx(t);case 5:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Op(t)).asyncQueue.verifyOperationInProgress(),Ap("RemoteStore","RemoteStore received new credentials"),i=Jw(r),r.wu.add(3),e.next=6,Bw(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,jw(r);case 12:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e,t){return _x.apply(this,arguments)}function _x(){return _x=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Op(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,jw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Bw(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Ix(e){return e.Iu||(e.Iu=function(e,t,n){var r=Op(e);return r.iu(),new Ow(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Yw.bind(null,e),eo:$w.bind(null,e),zo:tx.bind(null,e)}),e.mu.push(function(){var t=bt(xt().mark((function t(n){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Qw(e)?Hw(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:Xw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Ex(e){return e.Tu||(e.Tu=function(e,t,n){var r=Op(e);return r.iu(),new Lw(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:hx.bind(null,e),eo:gx.bind(null,e),eu:px.bind(null,e),tu:mx.bind(null,e)}),e.mu.push(function(){var t=bt(xt().mark((function t(n){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,ox(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Ap("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Sx=function(){function e(t,n,r,i,a){Ce(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Re(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mp(Lp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Tx(e,t){if(Cp("AsyncQueue","".concat(t,": ").concat(e)),ak(e))return new Mp(Lp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ax=function(){function e(t){Ce(this,e),this.comparator=t?function(e,n){return t(e,n)||wv.comparator(e.key,n.key)}:function(e,t){return wv.comparator(e.key,t.key)},this.keyedMap=Dy(),this.sortedSet=new tm(this.comparator)}return Re(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Cx=function(){function e(){Ce(this,e),this.Eu=new tm(wv.comparator)}return Re(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Dp():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Nx=function(){function e(t,n,r,i,a,o,u,s){Ce(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Re(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ax.emptySet(n),a,r,i,!0,!1)}}]),e}(),Rx=Re((function e(){Ce(this,e),this.Ru=void 0,this.listeners=[]})),Dx=Re((function e(){Ce(this,e),this.queries=new Ay((function(e){return jm(e)}),Um),this.onlineState="Unknown",this.bu=new Set}));function Px(e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=bt(xt().mark((function e(t,n){var r,i,a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Op(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Rx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Tx(e.t0,"Initialization of query '".concat(Vm(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&jx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ox.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=bt(xt().mark((function e(t,n){var r,i,a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Op(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Fx(e,t){var n,r=Op(e),i=!1,a=De(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=De(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&jx(r)}function Ux(e,t,n){var r=Op(e),i=r.queries.get(t);if(i){var a,o=De(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function jx(e){e.bu.forEach((function(e){e.next()}))}var Vx=function(){function e(t,n,r){Ce(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Re(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=De(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Nx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Nx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Bx=function(){function e(t,n){Ce(this,e),this.payload=t,this.byteLength=n}return Re(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),qx=function(){function e(t){Ce(this,e),this.M=t}return Re(e,[{key:"wi",value:function(e){return ig(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?lg(this.M,e.document,!1):Wv.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return eg(e)}}]),e}(),zx=function(){function e(t,n,r){Ce(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kx(t)}return Re(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=iv.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new qx(this.M),i=De(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=De(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||My()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=bt(xt().mark((function e(){var t,n,r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$b(this.localStore,new qx(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=De(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,tw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Wx=Re((function e(t){Ce(this,e),this.key=t})),Gx=Re((function e(t){Ce(this,e),this.key=t})),Hx=function(){function e(t,n){Ce(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=My(),this.mutatedKeys=My(),this.Gu=zm(t),this.Qu=new Ax(this.Gu)}return Re(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Cx,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dp()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Nx(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Cx,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=My(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Gx(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Wx(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=My();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Nx.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Qx=Re((function e(t,n,r){Ce(this,e),this.query=t,this.targetId=n,this.view=r})),Jx=Re((function e(t){Ce(this,e),this.key=t,this.na=!1})),Xx=function(){function e(t,n,r,i,a,o){Ce(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Ay((function(e){return jm(e)}),Um),this.ra=new Map,this.oa=new Set,this.ua=new tm(wv.comparator),this.aa=new Map,this.ca=new aw,this.ha={},this.la=new Map,this.fa=ob.yn(),this.onlineState="Unknown",this.da=void 0}return Re(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function Yx(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=bt(xt().mark((function e(t,n){var r,i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=K_(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Gb(r.localStore,Mm(n));case 8:return u=e.sent,r.isPrimaryClient&&zw(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$x(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function $x(e,t,n,r){return e_.apply(this,arguments)}function e_(){return e_=bt(xt().mark((function e(t,n,r,i){var a,o,u,s,c,l;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=bt(xt().mark((function e(t,n,r,i){var a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Jb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(b_(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Jb(t.localStore,n,!0);case 3:return a=e.sent,o=new Hx(n,a._i),u=o.Wu(a.documents),s=Vy.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),b_(t,r,c.Xu),l=new Qx(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Op(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Um(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Hb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Kw(r.remoteStore,i.targetId),g_(r,i.targetId)})).catch(fb);case 9:e.next=14;break;case 11:return g_(r,i.targetId),e.next=14,Hb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=bt(xt().mark((function e(t,n,r){var i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=W_(t),e.prev=1,e.next=4,function(e,t){var n,r=Op(e),i=Zp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),My());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=De(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=dy(c,n.get(c.key));null!=l&&u.push(new yy(c.key,l,Kv(l.value.mapValue),sy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new tm(Jp)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,__(i,a.changes);case 9:return e.next=11,ox(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Tx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),e.prev=1,e.next=4,zb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Pp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Pp(n.na):e.removedDocuments.size>0&&(Pp(n.na),n.na=!1))})),e.next=8,__(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),o_.apply(this,arguments)}function u_(e,t,n){var r=Op(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Op(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=De(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&jx(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function s_(e,t,n){return c_.apply(this,arguments)}function c_(){return c_=bt(xt().mark((function e(t,n,r){var i,a,o,u,s,c;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Op(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new tm(wv.comparator)).insert(o,Wv.newNoDocument(o,$p.min())),s=My().add(o),c=new jy($p.min(),new Map,new im(Jp),u,s),e.next=9,a_(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),x_(i),e.next=16;break;case 14:return e.next=16,Hb(i.localStore,n,!1).then((function(){return g_(i,n,r)})).catch(fb);case 16:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),i=n.batch.batchId,e.prev=1,e.next=4,Bb(r.localStore,n);case 4:return a=e.sent,y_(r,i,null),m_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,__(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),f_.apply(this,arguments)}function h_(e,t,n){return d_.apply(this,arguments)}function d_(){return d_=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Op(t),e.prev=1,e.next=4,function(e,t){var n=Op(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Pp(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,y_(i,n,r),m_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,__(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),d_.apply(this,arguments)}function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jw((r=Op(t)).remoteStore)||Ap("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Op(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Tx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),v_.apply(this,arguments)}function m_(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function y_(e,t,n){var r=Op(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function g_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=De(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||k_(e,t)}))}function k_(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Kw(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),x_(e))}function b_(e,t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Wx?(e.ca.addReference(a.key,t),w_(e,a)):a instanceof Gx?(Ap("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||k_(e,a.key)):Dp()}}catch(o){i.e(o)}finally{i.f()}}function w_(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Ap("SyncEngine","New document in limbo: "+n),e.oa.add(r),x_(e))}function x_(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new wv(iv.fromString(t)),r=e.fa.next();e.aa.set(r,new Jx(n)),e.ua=e.ua.insert(n,r),zw(e.remoteStore,new vk(Mm(Rm(n.path)),r,2,Gp.A))}}function __(e,t,n){return I_.apply(this,arguments)}function I_(){return I_=bt(xt().mark((function e(t,n,r){var i,a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Op(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Lb.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=bt(xt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ek.forEach(n,(function(t){return ek.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ek.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ak(e.t0)){e.next=10;break}throw e.t0;case 10:Ap("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=De(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function E_(e,t){return S_.apply(this,arguments)}function S_(){return S_=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Op(t)).currentUser.isEqual(n)){e.next=11;break}return Ap("SyncEngine","User change. New user:",n.toKey()),e.next=5,jb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Mp(Lp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,__(r,i.di);case 11:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function T_(e,t){var n=Op(e),r=n.aa.get(t);if(r&&r.na)return My().add(r.key);var i=My(),a=n.ra.get(t);if(!a)return i;var o,u=De(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function A_(e,t){return C_.apply(this,arguments)}function C_(){return C_=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),e.next=3,Jb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&b_(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function N_(e,t){return R_.apply(this,arguments)}function R_(){return R_=bt(xt().mark((function e(t,n){var r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),e.abrupt("return",Yb(r.localStore,n).then((function(e){return __(r,e)})));case 2:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function D_(e,t,n,r){return P_.apply(this,arguments)}function P_(){return P_=bt(xt().mark((function e(t,n,r,i){var a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Op(t),e.next=3,function(e,t){var n=Op(e),r=Op(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):ek.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ox(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(y_(a,n,i||null),m_(a,n),function(e,t){Op(Op(e).Bs)._n(t)}(a.localStore,n)):Dp();case 11:return e.next=13,__(a,o);case 13:e.next=16;break;case 15:Ap("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function O_(e,t){return L_.apply(this,arguments)}function L_(){return L_=bt(xt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K_(r=Op(t)),W_(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,M_(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,xx(r.remoteStore,!0);case 9:o=De(a);try{for(o.s();!(u=o.n()).done;)s=u.value,zw(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return g_(r,t),Hb(r.localStore,t,!0)})),Kw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,M_(r,c);case 21:return function(e){var t=Op(e);t.aa.forEach((function(e,n){Kw(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new tm(wv.comparator)}(r),r.da=!1,e.next=25,xx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t,n){return F_.apply(this,arguments)}function F_(){return F_=bt(xt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Op(t),a=[],o=[],u=De(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,Gb(i.localStore,Mm(f[0]));case 11:l=e.sent,h=De(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,A_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Xb(i.localStore,c);case 36:return y=e.sent,e.next=39,Gb(i.localStore,y);case 39:return l=e.sent,e.next=42,$x(i,U_(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),F_.apply(this,arguments)}function U_(e){return Nm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function j_(e){var t=Op(e);return Op(Op(t.localStore).persistence).Fs()}function V_(e,t,n,r){return B_.apply(this,arguments)}function B_(){return B_=bt(xt().mark((function e(t,n,r,i){var a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Op(t)).da){e.next=3;break}return e.abrupt("return",void Ap("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Yb(a.localStore,qm(o[0]));case 10:return u=e.sent,s=jy.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,__(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Hb(a.localStore,n,!0);case 17:return g_(a,n,i),e.abrupt("break",20);case 19:Dp();case 20:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function q_(e,t,n){return z_.apply(this,arguments)}function z_(){return z_=bt(xt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=K_(t)).da){e.next=45;break}a=De(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Ap("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Xb(i.localStore,u);case 12:return s=e.sent,e.next=15,Gb(i.localStore,s);case 15:return c=e.sent,e.next=18,$x(i,U_(s),c.targetId,!1);case 18:zw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=De(r),e.prev=30,h=xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Hb(i.localStore,t,!1).then((function(){Kw(i.remoteStore,t),g_(i,t)})).catch(fb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),z_.apply(this,arguments)}function K_(e){var t=Op(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=a_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=T_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=s_.bind(null,t),t.sa.zo=Fx.bind(null,t.eventManager),t.sa.wa=Ux.bind(null,t.eventManager),t}function W_(e){var t=Op(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,t),t}function G_(e,t,n){var r=Op(e);(function(){var e=bt(xt().mark((function e(t,n,r){var i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Op(e),r=eg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Kx(i)),a=new zx(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,__(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Op(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Np("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var H_=function(){function e(){Ce(this,e),this.synchronizeTabs=!1}return Re(e,[{key:"initialize",value:function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Rw(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Ub(this.persistence,new Mb,e.initialUser,this.M)}},{key:"ya",value:function(e){return new fw(dw.Yi,this.M)}},{key:"ga",value:function(e){return new _w}},{key:"terminate",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Q_=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Re(n,[{key:"initialize",value:function(){var e=bt(xt().mark((function e(t){var r=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Me(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,W_(this.Ta.syncEngine);case 6:return e.next=8,ox(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Ub(this.persistence,new Mb,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new vb(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zk.withCacheSize(this.cacheSizeBytes):Zk.DEFAULT;return new Nb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cw(),Nw(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new _w}}]),n}(H_),J_=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Re(n,[{key:"initialize",value:function(){var e=bt(xt().mark((function e(t){var r,i=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Me(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof xw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:D_.bind(null,r),Br:V_.bind(null,r),Lr:q_.bind(null,r),Fs:j_.bind(null,r),Fr:N_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O_(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Cw();if(!xw.vt(t))throw new Mp(Lp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Q_),X_=function(){function e(){Ce(this,e)}return Re(e,[{key:"initialize",value:function(){var e=bt(xt().mark((function e(t,n){var r=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return u_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=E_.bind(null,this.syncEngine),e.next=12,xx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Dx}},{key:"createDatastore",value:function(e){var t,n=Rw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Aw(t));return function(e,t,n,r){return new Mw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return u_(o.syncEngine,e,0)},a=Ew.vt()?new Ew:new Iw,new Uw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Xx(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Op(t),Ap("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Bw(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Y_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return bt(xt().mark((function r(){var i;return xt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Z_=function(){function e(t){Ce(this,e),this.observer=t,this.muted=!1}return Re(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$_=function(){function e(t,n){var r=this;Ce(this,e),this.Ra=t,this.M=n,this.metadata=new Fp,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Re(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=bt(xt().mark((function e(){var t,n,r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Bx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=bt(xt().mark((function e(){var t,n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=bt(xt().mark((function e(){var t,n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eI=function(){function e(t){Ce(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Re(e,[{key:"lookup",value:function(){var e=bt(xt().mark((function e(t){var n,r=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Mp(Lp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=bt(xt().mark((function e(t,n){var r,i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),i=ug(r.M)+"/documents",a={documents:n.map((function(e){return rg(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=fg(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Pp(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _y(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=bt(xt().mark((function e(){var t,n=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=wv.fromPath(t);n.mutations.push(new Iy(r,n.precondition(r)))})),e.next=7,function(){var e=bt(xt().mark((function e(t,n){var r,i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t),i=ug(r.M)+"/documents",a={writes:n.map((function(e){return hg(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dp();t=$p.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Mp(Lp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sy.updateTime(t):sy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($p.min()))throw new Mp(Lp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sy.updateTime(t)}return sy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),tI=function(){function e(t,n,r,i,a){Ce(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new Dw(this.asyncQueue,"transaction_retry")}return Re(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(bt(xt().mark((function t(){var n,r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new eI(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!gv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Sy(t)}return!1}}]),e}(),nI=function(){function e(t,n,r,i){var a=this;Ce(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ip.UNAUTHENTICATED,this.clientId=Qp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ap("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ap("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Re(e,[{key:"getConfiguration",value:function(){var e=bt(xt().mark((function e(){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Mp(Lp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(bt(xt().mark((function n(){var r;return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Tx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ap("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,jb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){return oI.apply(this,arguments)}function oI(){return oI=bt(xt().mark((function e(t,n){var r,i;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,uI(t);case 3:return r=e.sent,Ap("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return bx(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return bx(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e){return sI.apply(this,arguments)}function sI(){return sI=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ap("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,rI(t,new H_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e){return lI.apply(this,arguments)}function lI(){return lI=bt(xt().mark((function e(t){return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ap("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,aI(t,new X_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e){return uI(e).then((function(e){return e.persistence}))}function hI(e){return uI(e).then((function(e){return e.localStore}))}function dI(e){return cI(e).then((function(e){return e.remoteStore}))}function pI(e){return cI(e).then((function(e){return e.syncEngine}))}function vI(e){return mI.apply(this,arguments)}function mI(){return mI=bt(xt().mark((function e(t){var n,r;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Yx.bind(null,n.syncEngine),r.onUnlisten=t_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function i(){return xt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Z_({next:function(a){t.enqueueAndForget((function(){return Lx(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Mp(Lp.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Mp(Lp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vx(Rm(n.path),a,{includeMetadataChanges:!0,ku:!0});return Px(e,o)},i.next=3,vI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function gI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function i(){return xt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Z_({next:function(n){t.enqueueAndForget((function(){return Lx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Mp(Lp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vx(n,a,{includeMetadataChanges:!0,ku:!0});return Px(e,o)},i.next=3,vI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var kI=new Map;function bI(e,t,n){if(!n)throw new Mp(Lp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wI(e,t,n,r){if(!0===t&&!0===r)throw new Mp(Lp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xI(e){if(!wv.isDocumentKey(e))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _I(e){if(wv.isDocumentKey(e))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function II(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dp()}function EI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mp(Lp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=II(e);throw new Mp(Lp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function SI(e,t){if(t<=0)throw new Mp(Lp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var TI=function(){function e(t){var n;if(Ce(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Mp(Lp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mp(Lp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,wI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Re(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),AI=function(){function e(t,n,r){Ce(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1,t instanceof yv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mp(Lp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yv(e.options.projectId)}(t))}return Re(e,[{key:"app",get:function(){if(!this._app)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jp;switch(e.type){case"gapi":var t=e.client;return Pp(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new zp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Mp(Lp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=kI.get(e);t&&(Ap("ComponentProvider","Removing Datastore"),kI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function CI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=EI(e,AI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Np("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ip.MOCK_USER;else{o=Je(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Mp(Lp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ip(s)}e._authCredentials=new Vp(new Up(o,u))}}var NI=function(){function e(t,n,r){Ce(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Re(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new DI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),RI=function(){function e(t,n,r){Ce(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Re(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),DI=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,e,r,Rm(i)))._path=i,a.type="collection",a}return Re(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new NI(this.firestore,null,new wv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(RI);function PI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mt(e),bI("collection","path",t),e instanceof AI){var a=iv.fromString.apply(iv,[t].concat(r));return _I(a),new DI(e,null,a)}if(!(e instanceof NI||e instanceof DI))throw new Mp(Lp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(iv.fromString.apply(iv,[t].concat(r)));return _I(o),new DI(e.firestore,null,o)}function OI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mt(e),1===arguments.length&&(t=Qp.R()),bI("doc","path",t),e instanceof AI){var a=iv.fromString.apply(iv,[t].concat(r));return xI(a),new NI(e,null,new wv(a))}if(!(e instanceof NI||e instanceof DI))throw new Mp(Lp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(iv.fromString.apply(iv,[t].concat(r)));return xI(o),new NI(e.firestore,e instanceof DI?e.converter:null,new wv(o))}function LI(e,t){return e=mt(e),t=mt(t),(e instanceof NI||e instanceof DI)&&(t instanceof NI||t instanceof DI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function MI(e,t){return e=mt(e),t=mt(t),e instanceof RI&&t instanceof RI&&e.firestore===t.firestore&&Um(e._query,t._query)&&e.converter===t.converter}var FI=function(){function e(){var t=this;Ce(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Dw(this,"async_queue_retry"),this.Qa=function(){var e=Nw();e&&Ap("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Nw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Re(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Nw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Fp;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=bt(xt().mark((function e(){var t=this;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ak(e.t0)){e.next=12;break}throw e.t0;case 12:Ap("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Cp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Sx.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Dp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=bt(xt().mark((function e(){var t;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=De(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=De(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function UI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=De(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var jI=function(){function e(){Ce(this,e),this._progressObserver={},this._taskCompletionResolver=new Fp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Re(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),VI=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new FI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Re(n,[{key:"_terminate",value:function(){return this._firestoreClient||qI(this),this._firestoreClient.terminate()}}]),n}(AI);function BI(e){return e._firestoreClient||qI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new mv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function zI(e,t,n){var r=new Fp;return e.asyncQueue.enqueue(bt(xt().mark((function i(){return xt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,rI(e,n);case 3:return i.next=5,aI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Lp.FAILED_PRECONDITION||e.code===Lp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function KI(e){return function(e){return e.asyncQueue.enqueue(bt(xt().mark((function t(){var n,r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fI(e);case 2:return n=t.sent,t.next=5,dI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Op(e);return t.wu.delete(0),jw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(BI(e=EI(e,VI)))}function WI(e){return function(e){return e.asyncQueue.enqueue(bt(xt().mark((function t(){var n,r;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fI(e);case 2:return n=t.sent,t.next=5,dI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Op(t)).wu.add(0),e.next=4,Bw(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(BI(e=EI(e,VI)))}function GI(e,t){var n=BI(e=EI(e,VI)),r=new jI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new $_(e,t)}(function(e,t){if(e instanceof Uint8Array)return Y_(e,t);if(e instanceof ArrayBuffer)return Y_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Rw(t));e.asyncQueue.enqueueAndForget(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=G_,t.next=3,pI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function HI(e,t){return function(e,t){return e.asyncQueue.enqueue(bt(xt().mark((function n(){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Op(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,hI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(BI(e=EI(e,VI)),t).then((function(t){return t?new RI(e,null,t.query):null}))}function QI(e){if(e._initialized||e._terminated)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JI=function(){function e(){Ce(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ov(n)}return Re(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var XI=function(){function e(t){Ce(this,e),this._byteString=t}return Re(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sv.fromBase64String(t))}catch(t){throw new Mp(Lp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sv.fromUint8Array(t))}}]),e}(),YI=Re((function e(t){Ce(this,e),this._methodName=t})),ZI=function(){function e(t,n){if(Ce(this,e),!isFinite(t)||t<-90||t>90)throw new Mp(Lp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mp(Lp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Re(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Jp(this._lat,e._lat)||Jp(this._long,e._long)}}]),e}(),$I=/^__.*__$/,eE=function(){function e(t,n,r){Ce(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Re(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yy(e,this.data,this.fieldMask,t,this.fieldTransforms):new my(e,this.data,t,this.fieldTransforms)}}]),e}(),tE=function(){function e(t,n,r){Ce(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Re(e,[{key:"toMutation",value:function(e,t){return new yy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function nE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dp()}}var rE=function(){function e(t,n,r,i,a,o){Ce(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Re(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return _E(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(nE(this.ec)&&$I.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),iE=function(){function e(t,n,r){Ce(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Rw(t)}return Re(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rE({ec:e,methodName:t,hc:n,path:ov.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function aE(e){var t=e._freezeSettings(),n=Rw(e._databaseId);return new iE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);kE("Data must be an object, but it was:",o,r);var u,s,c=yE(r,o);if(a.merge)u=new uv(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=De(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=bE(t,d,n);if(!o.contains(p))throw new Mp(Lp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));IE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new uv(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new eE(new zv(c),u,s)}var uE=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YI);function sE(e,t,n){return new rE({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var cE=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"_toFieldTransform",value:function(e){return new oy(e.path,new Zm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YI),lE=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e)).fc=r,i}return Re(n,[{key:"_toFieldTransform",value:function(e){var t=sE(this,e,!0),n=this.fc.map((function(e){return mE(e,t)})),r=new $m(n);return new oy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YI),fE=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e)).fc=r,i}return Re(n,[{key:"_toFieldTransform",value:function(e){var t=sE(this,e,!0),n=this.fc.map((function(e){return mE(e,t)})),r=new ty(n);return new oy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YI),hE=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e)).dc=r,i}return Re(n,[{key:"_toFieldTransform",value:function(e){var t=new ry(e.M,Hm(e.M,this.dc));return new oy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YI);function dE(e,t,n,r){var i=e.lc(1,t,n);kE("Data must be an object, but it was:",i,r);var a=[],o=zv.empty();tv(r,(function(e,r){var u=xE(t,e,n);r=mt(r);var s=i.oc(u);if(r instanceof uE)a.push(u);else{var c=mE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new uv(a);return new tE(o,u,i.fieldTransforms)}function pE(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[bE(t,r,n)],s=[i];if(a.length%2!=0)throw new Mp(Lp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(bE(t,a[c])),s.push(a[c+1]);for(var l=[],f=zv.empty(),h=u.length-1;h>=0;--h)if(!IE(l,u[h])){var d=u[h],p=s[h];p=mt(p);var v=o.oc(d);if(p instanceof uE)l.push(d);else{var m=mE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new uv(l);return new tE(f,y,o.fieldTransforms)}function vE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mE(n,e.lc(r?4:3,t))}function mE(e,t){if(gE(e=mt(e)))return kE("Unsupported field value:",t,e),yE(e,t);if(e instanceof YI)return function(e,t){if(!nE(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=De(e);try{for(a.s();!(n=a.n()).done;){var o=mE(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hm(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zp.fromDate(e);return{timestampValue:Yy(t.M,n)}}if(e instanceof Zp){var r=new Zp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yy(t.M,r)}}if(e instanceof ZI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XI)return{bytesValue:Zy(t.M,e._byteString)};if(e instanceof NI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(II(e)))}(e,t)}function yE(e,t){var n={};return nv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tv(e,(function(e,r){var i=mE(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zp||e instanceof ZI||e instanceof XI||e instanceof NI||e instanceof YI)}function kE(e,t,n){if(!gE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=II(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function bE(e,t,n){if((t=mt(t))instanceof JI)return t._internalPath;if("string"==typeof t)return xE(e,t);throw _E("Field path arguments must be of type string or ",e,!1,void 0,n)}var wE=new RegExp("[~\\*/\\[\\]]");function xE(e,t,n){if(t.search(wE)>=0)throw _E("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Be(JI,gt(t.split(".")))._internalPath}catch(r){throw _E("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _E(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Mp(Lp.INVALID_ARGUMENT,u+e+s)}function IE(e,t){return e.some((function(e){return e.isEqual(t)}))}var EE=function(){function e(t,n,r,i,a){Ce(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Re(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new NI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new SE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),SE=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"data",value:function(){return Jn(Me(n.prototype),"data",this).call(this)}}]),n}(EE);function TE(e,t){return"string"==typeof t?xE(e,t):t instanceof JI?t._internalPath:t._delegate._internalPath}var AE=function(){function e(t,n){Ce(this,e),this.hasPendingWrites=t,this.fromCache=n}return Re(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),CE=function(e){Le(n,e);var t=Ve(n);function n(e,r,i,a,o,u){var s;return Ce(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Re(n,[{key:"exists",value:function(){return Jn(Me(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new NE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(EE),NE=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jn(Me(n.prototype),"data",this).call(this,e)}}]),n}(CE),RE=function(){function e(t,n,r,i){Ce(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AE(i.hasPendingWrites,i.fromCache),this.query=r}return Re(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new NE(n._firestore,n._userDataWriter,r.key,r,new AE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mp(Lp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new NE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new NE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:DE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function DE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dp()}}function PE(e,t){return e instanceof CE&&t instanceof CE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof RE&&t instanceof RE&&e._firestore===t._firestore&&MI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function OE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mp(Lp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var LE=Re((function e(){Ce(this,e)}));function ME(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var FE=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return Re(n,[{key:"_apply",value:function(e){var t=aE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){QE(o,a);var s,c=[],l=De(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(HE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=HE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||QE(o,a),u=vE(n,"where",o,"in"===a||"not-in"===a);var h=vm.create(i,a,u);return function(e,t){if(t.S()){var n=Pm(e);if(null!==n&&!n.isEqual(t.field))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Dm(e);null!==r&&JE(e,t.field,r)}var i=function(e,t){var n,r=De(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new RI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Cm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(LE);var UE=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return Re(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Em(t,n);return function(e,t){if(null===Dm(e)){var n=Pm(e);null!==n&&JE(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new RI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(LE);var jE=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return Re(n,[{key:"_apply",value:function(e){return new RI(e.firestore,e.converter,Fm(e._query,this.yc,this.Ic))}}]),n}(LE);var VE=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Re(n,[{key:"_apply",value:function(e){var t=GE(e,this.type,this.Tc,this.Ec);return new RI(e.firestore,e.converter,function(e,t){return new Cm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(LE);function BE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VE("startAt",t,!0)}function qE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VE("startAfter",t,!1)}var zE=function(e){Le(n,e);var t=Ve(n);function n(e,r,i){var a;return Ce(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Re(n,[{key:"_apply",value:function(e){var t=GE(e,this.type,this.Tc,this.Ec);return new RI(e.firestore,e.converter,function(e,t){return new Cm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(LE);function KE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zE("endBefore",t,!1)}function WE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zE("endAt",t,!0)}function GE(e,t,n,r){if(n[0]=mt(n[0]),n[0]instanceof EE)return function(e,t,n,r,i){if(!r)throw new Mp(Lp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=De(Lm(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Rv(t,r.key));else{var c=r.data.field(s.field);if(dv(c))throw new Mp(Lp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Im(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=aE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Mp(Lp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Om(e)&&-1!==c.indexOf("/"))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(iv.fromString(c));if(!wv.isDocumentKey(l))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new wv(l);u.push(Rv(t,f))}else{var h=vE(n,r,c);u.push(h)}}return new Im(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function HE(e,t,n){if("string"==typeof(n=mt(n))){if(""===n)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Om(t)&&-1!==n.indexOf("/"))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(iv.fromString(n));if(!wv.isDocumentKey(r))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rv(e,new wv(r))}if(n instanceof NI)return Rv(e,n._key);throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(II(n),"."))}function QE(e,t){if(!Array.isArray(e)||0===e.length)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function JE(e,t,n){if(!n.isEqual(t))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var XE={maxAttempts:5},YE=function(){function e(){Ce(this,e)}return Re(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Iv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return tv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ZI(fv(e.latitude),fv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=pv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lv(e);return new Zp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=iv.fromString(e);Pp(Eg(n));var r=new yv(n.get(1),n.get(3)),i=new wv(n.popFirst(5));return r.isEqual(t)||Cp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ZE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $E=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).firestore=e,r}return Re(n,[{key:"convertBytes",value:function(e){return new XI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new NI(this.firestore,null,t)}}]),n}(YE),eS=function(){function e(t,n){Ce(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=aE(t)}return Re(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=tS(e,this._firestore),i=ZE(r.converter,t,n),a=oE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=tS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mt(t))||t instanceof JI?pE(this._dataReader,"WriteBatch.update",i._key,t,n,o):dE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=tS(e,this._firestore);return this._mutations=this._mutations.concat(new _y(t._key,sy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Mp(Lp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function tS(e,t){if((e=mt(e)).firestore!==t)throw new Mp(Lp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nS=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).firestore=e,r}return Re(n,[{key:"convertBytes",value:function(e){return new XI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new NI(this.firestore,null,t)}}]),n}(YE);function rS(e){e=EI(e,NI);var t=EI(e.firestore,VI),n=BI(t),r=new nS(t);return function(e,t){var n=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function r(){return xt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=bt(xt().mark((function e(t,n,r){var i,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Op(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Mp(Lp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Tx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new CE(t,r,e._key,n,new AE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function iS(e){e=EI(e,RI);var t=EI(e.firestore,VI),n=BI(t),r=new nS(t);return function(e,t){var n=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function r(){return xt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=bt(xt().mark((function e(t,n,r){var i,a,o,u,s;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jb(t,n,!0);case 3:i=e.sent,a=new Hx(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Tx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new RE(t,r,e,n)}))}function aS(e,t,n){e=EI(e,NI);var r=EI(e.firestore,VI),i=ZE(e.converter,t,n);return cS(r,[oE(aE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sy.none())])}function oS(e,t,n){e=EI(e,NI);for(var r=EI(e.firestore,VI),i=aE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return cS(r,[("string"==typeof(t=mt(t))||t instanceof JI?pE(i,"updateDoc",e._key,t,n,o):dE(i,"updateDoc",e._key,t)).toMutation(e._key,sy.exists(!0))])}function uS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(UI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof NI)l=EI(e.firestore,VI),f=Rm(e._key.path),c={next:function(t){n[s]&&n[s](lS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=EI(e,RI);l=EI(p.firestore,VI),f=p._query;var v=new nS(l);c={next:function(e){n[s]&&n[s](new RE(l,v,p,e))},error:n[s+1],complete:n[s+2]},OE(e._query)}return function(e,t,n,r){var i=new Z_(r),a=new Vx(t,i,n);return e.asyncQueue.enqueueAndForget(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Px,t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lx,t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(BI(l),f,h,c)}function sS(e,t){return function(e,t){var n=new Z_(t);return e.asyncQueue.enqueueAndForget(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Op(e).bu.add(t),t.next()},t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(bt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Op(e).bu.delete(t)},t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(BI(e=EI(e,VI)),UI(t)?t:{next:t})}function cS(e,t){return function(e,t){var n=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function r(){return xt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=r_,r.next=3,pI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(BI(e),t)}function lS(e,t,n){var r=n.docs.get(t._key),i=new nS(e);return new CE(e,i,t._key,r,new AE(n.hasPendingWrites,n.fromCache),t.converter)}var fS=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r))._firestore=e,i}return Re(n,[{key:"get",value:function(e){var t=this,r=tS(e,this._firestore),i=new nS(this._firestore);return Jn(Me(n.prototype),"get",this).call(this,e).then((function(e){return new CE(t._firestore,i,r._key,e._document,new AE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ce(this,e),this._firestore=t,this._transaction=n,this._dataReader=aE(t)}return Re(e,[{key:"get",value:function(e){var t=this,n=tS(e,this._firestore),r=new $E(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Dp();var i=e[0];if(i.isFoundDocument())return new EE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new EE(t._firestore,r,n._key,null,n.converter);throw Dp()}))}},{key:"set",value:function(e,t,n){var r=tS(e,this._firestore),i=ZE(r.converter,t,n),a=oE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=tS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mt(t))||t instanceof JI?pE(this._dataReader,"Transaction.update",i._key,t,n,o):dE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=tS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function hS(e,t,n){e=EI(e,VI);var r=Object.assign(Object.assign({},XE),n);return function(e){if(e.maxAttempts<1)throw new Mp(Lp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function i(){var a;return xt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return cI(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new tI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(BI(e),(function(n){return t(new fS(e,n))}),r)}function dS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lE("arrayUnion",t)}function pS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ep=e}(yn),ln(new _t("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new VI(i,new Bp(e.getProvider("auth-internal")),new Wp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),_n(_p,"3.4.9",e),_n(_p,"3.4.9","esm2017")}();function vS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Mp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function mS(){if("undefined"===typeof Uint8Array)throw new Mp("unimplemented","Uint8Arrays are not available in this environment.")}function yS(){if("undefined"==typeof atob)throw new Mp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var gS=function(){function e(t){Ce(this,e),this._delegate=t}return Re(e,[{key:"toBase64",value:function(){return yS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return mS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return yS(),new e(XI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return mS(),new e(XI.fromUint8Array(t))}}]),e}();function kS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=De(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var bS=function(){function e(){Ce(this,e)}return Re(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){QI(e=EI(e,VI));var n=BI(e),r=e._freezeSettings(),i=new X_;return zI(n,i,new Q_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){QI(e=EI(e,VI));var t=BI(e),n=e._freezeSettings(),r=new X_;return zI(t,r,new J_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Mp(Lp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Fp;return e._queue.enqueueAndForgetEvenWhileRestricted(bt(xt().mark((function n(){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=bt(xt().mark((function e(t){var n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nk.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,nk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Pb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),wS=function(){function e(t,n,r){var i=this;Ce(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yv||(this._appCompat=t)}return Re(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Np("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return KI(this._delegate)}},{key:"disableNetwork",value:function(){return WI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&wI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Fp;return e.asyncQueue.enqueueAndForget(bt(xt().mark((function n(){return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=p_,n.next=3,pI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(BI(e=EI(e,VI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return sS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Mp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new LS(this,PI(this._delegate,e))}catch(t){throw TS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SS(this,OI(this._delegate,e))}catch(t){throw TS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new DS(this,function(e,t){if(e=EI(e,AI),bI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new RI(e,null,function(e){return new Cm(iv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw TS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return hS(this._delegate,(function(n){return e(new _S(t,n))}))}},{key:"batch",value:function(){var e=this;return BI(this._delegate),new IS(new eS(this._delegate,(function(t){return cS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return GI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return HI(this._delegate,e).then((function(e){return e?new DS(t,e):null}))}}]),e}(),xS=function(e){Le(n,e);var t=Ve(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).firestore=e,r}return Re(n,[{key:"convertBytes",value:function(e){return new gS(new XI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SS.forKey(t,this.firestore,null)}}]),n}(YE);var _S=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new xS(t)}return Re(e,[{key:"get",value:function(e){var t=this,n=MS(e);return this._delegate.get(n).then((function(e){return new NS(t._firestore,new CE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=MS(e);return n?(vS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=MS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MS(e);return this._delegate.delete(t),this}}]),e}(),IS=function(){function e(t){Ce(this,e),this._delegate=t}return Re(e,[{key:"set",value:function(e,t,n){var r=MS(e);return n?(vS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=MS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ES=function(){function e(t,n,r){Ce(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Re(e,[{key:"fromFirestore",value:function(e,t){var n=new NE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new RS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new xS(t),n),i.set(n,a)),a}}]),e}();ES.INSTANCES=new WeakMap;var SS=function(){function e(t,n){Ce(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xS(t)}return Re(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new LS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new LS(this.firestore,PI(this._delegate,e))}catch(t){throw TS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mt(e))instanceof NI&&LI(this._delegate,e)}},{key:"set",value:function(e,t){t=vS("DocumentReference.set",t);try{return t?aS(this._delegate,e,t):aS(this._delegate,e)}catch(n){throw TS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?oS(this._delegate,e):oS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw TS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return cS(EI(e.firestore,VI),[new _y(e._key,sy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=AS(n),a=CS(n,(function(t){return new NS(e.firestore,new CE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return uS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?rS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=EI(e,NI);var t=EI(e.firestore,VI);return yI(BI(t),e._key,{source:"server"}).then((function(n){return lS(t,e,n)}))}(this._delegate):function(e){e=EI(e,NI);var t=EI(e.firestore,VI);return yI(BI(t),e._key).then((function(n){return lS(t,e,n)}))}(this._delegate),t.then((function(e){return new NS(n.firestore,new CE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ES.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Mp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new NI(n._delegate,r,new wv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new NI(n._delegate,r,t))}}]),e}();function TS(e,t,n){return e.message=e.message.replace(t,n),e}function AS(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!kS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function CS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=kS(e[0])?e[0]:kS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var NS=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n}return Re(e,[{key:"ref",get:function(){return new SS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return PE(this._delegate,e._delegate)}}]),e}(),RS=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Dp()}(void 0!==t),t}}]),n}(NS),DS=function(){function e(t,n){Ce(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xS(t)}return Re(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ME(this._delegate,function(e,t,n){var r=t,i=TE("where",e);return new FE(i,r,n)}(t,n,r)))}catch(i){throw TS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ME(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=TE("orderBy",e);return new UE(n,t)}(t,n)))}catch(r){throw TS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ME(this._delegate,function(e){return SI("limit",e),new jE("limit",e,"F")}(t)))}catch(n){throw TS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ME(this._delegate,function(e){return SI("limitToLast",e),new jE("limitToLast",e,"L")}(t)))}catch(n){throw TS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ME(this._delegate,BE.apply(void 0,arguments)))}catch(t){throw TS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ME(this._delegate,qE.apply(void 0,arguments)))}catch(t){throw TS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ME(this._delegate,KE.apply(void 0,arguments)))}catch(t){throw TS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ME(this._delegate,WE.apply(void 0,arguments)))}catch(t){throw TS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return MI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=EI(e,RI);var t=EI(e.firestore,VI),n=BI(t),r=new nS(t);return gI(n,e._query,{source:"server"}).then((function(n){return new RE(t,r,e,n)}))}(this._delegate):function(e){e=EI(e,RI);var t=EI(e.firestore,VI),n=BI(t),r=new nS(t);return OE(e._query),gI(n,e._query).then((function(n){return new RE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new OS(n.firestore,new RE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=AS(n),a=CS(n,(function(t){return new OS(e.firestore,new RE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return uS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ES.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),PS=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n}return Re(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new RS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),OS=function(){function e(t,n){Ce(this,e),this._firestore=t,this._delegate=n}return Re(e,[{key:"query",get:function(){return new DS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new RS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new PS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new RS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return PE(this._delegate,e._delegate)}}]),e}(),LS=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Re(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SS(this.firestore,void 0===e?OI(this._delegate):OI(this._delegate,e))}catch(t){throw TS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=EI(e.firestore,VI),r=OI(e),i=ZE(e.converter,t);return cS(n,[oE(aE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return LI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ES.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(DS);function MS(e){return EI(e,NI)}var FS=function(){function e(){Ce(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Be(JI,n)}return Re(e,[{key:"isEqual",value:function(e){return(e=mt(e))instanceof JI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ov.keyField().canonicalString())}}]),e}(),US=function(){function e(t){Ce(this,e),this._delegate=t}return Re(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new cE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new uE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=dS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=pS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new hE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),jS={Firestore:wS,GeoPoint:ZI,Timestamp:Zp,Blob:gS,Transaction:_S,WriteBatch:IS,DocumentReference:SS,DocumentSnapshot:NS,Query:DS,QueryDocumentSnapshot:RS,QuerySnapshot:OS,CollectionReference:LS,FieldPath:FS,FieldValue:US,setLogLevel:function(e){!function(e){Sp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new _t("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},jS)))}(e,(function(e,t){return new wS(e,t,new bS)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(Hn);var VS="firebasestorage.googleapis.com",BS=function(e){Le(n,e);var t=Ve(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this,qS(e),"Firebase Storage: ".concat(r," (").concat(qS(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Pe(i),n.prototype),i}return Re(n,[{key:"_codeEquals",value:function(e){return qS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(rt);function qS(e){return"storage/"+e}function zS(){return new BS("unknown","An unknown error occurred, please check the error payload for server response.")}function KS(){return new BS("canceled","User canceled the upload/download.")}function WS(){return new BS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function GS(e){return new BS("invalid-argument",e)}function HS(){return new BS("app-deleted","The Firebase app was deleted.")}function QS(e){return new BS("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function JS(e,t){return new BS("invalid-format","String does not match format '"+e+"': "+t)}function XS(e){throw new BS("internal-error","Internal error: "+e)}var YS,ZS=function(){function e(t,n){Ce(this,e),this.bucket=t,this.path_=n}return Re(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new BS("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===VS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new BS("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),$S=function(){function e(t){Ce(this,e),this.promise_=Promise.reject(t)}return Re(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function eT(e){return"string"===typeof e||e instanceof String}function tT(e){return nT()&&e instanceof Blob}function nT(){return"undefined"!==typeof Blob}function rT(e,t,n,r){if(r<t)throw GS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw GS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function iT(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function aT(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(YS||(YS={}));var oT=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;Ce(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Re(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=zS();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?HS():KS());else i(new BS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new uT(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new uT(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===YS.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new uT(o,r))}else{var u=r.getErrorCode()===YS.ABORT;t(!1,new uT(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),uT=Re((function e(t,n,r){Ce(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function sT(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cT(){for(var e=sT(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(nT())return new Blob(n);throw new BS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var lT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fT=Re((function e(t,n){Ce(this,e),this.data=t,this.contentType=n||null}));function hT(e,t){switch(e){case lT.RAW:return new fT(dT(t));case lT.BASE64:case lT.BASE64URL:return new fT(pT(e,t));case lT.DATA_URL:return new fT(function(e){var t=new vT(e);return t.base64?pT(lT.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw JS(lT.DATA_URL,"Malformed data URL.")}return dT(t)}(t.rest)}(t),new vT(t).contentType)}throw zS()}function dT(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pT(e,t){switch(e){case lT.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw JS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case lT.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw JS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw JS(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var vT=Re((function e(t){Ce(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw JS(lT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var mT=function(){function e(t,n){Ce(this,e);var r=0,i="";tT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Re(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(tT(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(nT()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(cT.apply(null,i))}var a=n.map((function(e){return eT(e)?hT(lT.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function yT(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function gT(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function kT(e,t){return t}var bT=Re((function e(t,n,r,i){Ce(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||kT})),wT=null;function xT(){if(wT)return wT;var e=[];e.push(new bT("bucket")),e.push(new bT("generation")),e.push(new bT("metageneration")),e.push(new bT("name","fullPath",!0));var t=new bT("name");t.xform=function(e,t){return function(e){return!eT(e)||e.length<2?e:gT(e)}(t)},e.push(t);var n=new bT("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new bT("timeCreated")),e.push(new bT("updated")),e.push(new bT("md5Hash",null,!0)),e.push(new bT("cacheControl",null,!0)),e.push(new bT("contentDisposition",null,!0)),e.push(new bT("contentEncoding",null,!0)),e.push(new bT("contentLanguage",null,!0)),e.push(new bT("contentType",null,!0)),e.push(new bT("metadata","customMetadata",!0)),wT=e}function _T(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ZS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function IT(e,t,n){var r=yT(t);return null===r?null:_T(e,r,n)}function ET(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function ST(e,t,n){var r=yT(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=De(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new ZS(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=De(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new ZS(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var TT=Re((function e(t,n,r,i){Ce(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function AT(e){if(!e)throw zS()}function CT(e,t){return function(n,r){var i=IT(e,r,t);return AT(null!==i),i}}function NT(e,t){return function(n,r){var i=IT(e,r,t);return AT(null!==i),function(e,t,n,r){var i=yT(t);if(null===i)return null;if(!eT(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return iT("/b/"+o(i)+"/o/"+o(a),n,r)+aT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function RT(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new BS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new BS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new BS("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new BS("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function DT(e){var t=RT(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new BS("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function PT(e,t,n){var r=iT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new TT(r,"GET",CT(e,n),i);return a.errorHandler=DT(t),a}function OT(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=iT(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new TT(o,"GET",function(e,t){return function(n,r){var i=ST(e,t,r);return AT(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=RT(t),s}function LT(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function MT(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=LT(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ET(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=mT.getBlob(c,r,l);if(null===f)throw WS();var h={name:s.fullPath},d=iT(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new TT(d,"POST",CT(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=RT(t),v}var FT=Re((function e(t,n,r,i){Ce(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function UT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){AT(!1)}return AT(!!n&&-1!==(t||["active"]).indexOf(n)),n}var jT=262144;function VT(e,t,n,r,i,a,o,u){var s=new FT(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new BS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw WS();var v=t.maxUploadRetryTime,m=new TT(n,"POST",(function(e,n){var i,o=UT(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?CT(t,a)(e,n):null,new FT(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=RT(e),m}var BT={STATE_CHANGED:"state_changed"},qT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zT(e){switch(e){case"running":case"pausing":case"canceling":return qT.RUNNING;case"paused":return qT.PAUSED;case"success":return qT.SUCCESS;case"canceled":return qT.CANCELED;default:return qT.ERROR}}var KT=Re((function e(t,n,r){Ce(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function WT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var GT=function(){function e(){var t=this;Ce(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=YS.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=YS.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=YS.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Re(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw XS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw XS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw XS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw XS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw XS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),HT=function(e){Le(n,e);var t=Ve(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Re(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(GT);function QT(){return new HT}var JT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ce(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=xT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Re(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=LT(t,r,i),u={name:o.fullPath},s=iT(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=ET(o,n),f=e.maxUploadRetryTime,h=new TT(s,"POST",(function(e){var t;UT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){AT(!1)}return AT(eT(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=RT(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,QT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new TT(n,"POST",(function(e){var t=UT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){AT(!1)}n||AT(!1);var i=Number(n);return AT(!isNaN(i)),new FT(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=RT(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,QT,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=jT*this._chunkMultiplier,n=new FT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=VT(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,QT,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){jT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=PT(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,QT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=MT(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,QT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=KS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=zT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new KT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(zT(this._state)){case qT.SUCCESS:WT(this._resolve.bind(null,this.snapshot))();break;case qT.CANCELED:case qT.ERROR:WT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(zT(this._state)){case qT.RUNNING:case qT.PAUSED:e.next&&WT(e.next.bind(e,this.snapshot))();break;case qT.SUCCESS:e.complete&&WT(e.complete.bind(e))();break;default:e.error&&WT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),XT=function(){function e(t,n){Ce(this,e),this._service=t,this._location=n instanceof ZS?n:ZS.makeFromUrl(n,t.host)}return Re(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new ZS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return gT(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ZS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw QS(e)}}]),e}();function YT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return(ZT=bt(xt().mark((function e(t,n,r){var i,a,o,u;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,$T(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,gt(u.prefixes)),(a=n.items).push.apply(a,gt(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,YT(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(e,t){null!=t&&"number"===typeof t.maxResults&&rT("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=OT(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,QT)}function eA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=iT(t.fullServerUrl(),e.host,e._protocol),a=ET(n,r),o=e.maxOperationRetryTime,u=new TT(i,"PATCH",CT(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=DT(t),u}(e.storage,e._location,t,xT());return e.storage.makeRequestWithTokens(n,QT)}function tA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=iT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new TT(r,"GET",NT(e,n),i);return a.errorHandler=DT(t),a}(e.storage,e._location,xT());return e.storage.makeRequestWithTokens(t,QT).then((function(e){if(null===e)throw new BS("no-download-url","The given file does not have any download URLs.");return e}))}function nA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=iT(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new TT(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=DT(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,QT)}function rA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ZS(e._location.bucket,n);return new XT(e.storage,r)}function iA(e,t){if(e instanceof sA){var n=e;if(null==n._bucket)throw new BS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new XT(n,n._bucket);return null!=t?iA(r,t):r}return void 0!==t?rA(e,t):e}function aA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof sA)return new XT(e,t);throw GS("To use ref(service, url), the first argument must be a Storage instance.")}return iA(e,t)}function oA(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ZS.makeFromBucketSpec(n,e)}function uA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Je(i,e.app.options.projectId))}var sA=function(){function e(t,n,r,i,a){Ce(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=VS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ZS.makeFromBucketSpec(i,this._host):oA(this._host,this.app.options)}return Re(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ZS.makeFromBucketSpec(this._url,e):this._bucket=oA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=bt(xt().mark((function e(){var t,n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=bt(xt().mark((function e(){var t,n;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new XT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new $S(HS());var a=function(e,t,n,r,i,a){var o=aT(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new oT(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=bt(xt().mark((function e(t,n){var r,i,a,o;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),cA="@firebase/storage",lA="0.9.6",fA="storage";function hA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new JT(e,new mT(t),n)}(e=mt(e),t,n)}function dA(e){return function(e){e._throwIfRoot("getMetadata");var t=PT(e.storage,e._location,xT());return e.storage.makeRequestWithTokens(t,QT)}(e=mt(e))}function pA(e){return function(e){var t={prefixes:[],items:[]};return YT(e,t).then((function(){return t}))}(e=mt(e))}function vA(e,t){return aA(e=mt(e),t)}function mA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};uA(e,t,n,r)}function yA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new sA(r,i,a,n,yn)}ln(new _t(fA,yA,"PUBLIC").setMultipleInstances(!0)),_n(cA,lA,""),_n(cA,lA,"esm2017");var gA=function(){function e(t,n,r){Ce(this,e),this._delegate=t,this.task=n,this.ref=r}return Re(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),kA=function(){function e(t,n){Ce(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Re(e,[{key:"snapshot",get:function(){return new gA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new gA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new gA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new gA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),bA=function(){function e(t,n){Ce(this,e),this._delegate=t,this._service=n}return Re(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new wA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new wA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),wA=function(){function e(t,n){Ce(this,e),this._delegate=t,this.storage=n}return Re(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return rA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new kA(hA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lT.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=hT(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new kA(new JT(this._delegate,new mT(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return pA(this._delegate).then((function(t){return new bA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return $T(e=mt(e),t)}(this._delegate,e||void 0).then((function(e){return new bA(e,t.storage)}))}},{key:"getMetadata",value:function(){return dA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return eA(e=mt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return tA(mt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),nA(mt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw QS(e)}}]),e}(),xA=function(){function e(t,n){Ce(this,e),this.app=t,this._delegate=n}return Re(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(_A(e))throw GS("ref() expected a child path but got a URL, use refFromURL instead.");return new wA(vA(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!_A(e))throw GS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ZS.makeFromUrl(e,this._delegate.host)}catch(t){throw GS("refFromUrl() expected a valid full URL but got an invalid one.")}return new wA(vA(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mA(this._delegate,e,t,n)}}]),e}();function _A(e){return/^[A-Za-z]+:\/\//.test(e)}function IA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new xA(r,i)}!function(e){var t={TaskState:qT,TaskEvent:BT,StringFormat:lT,Storage:xA,Reference:wA};e.INTERNAL.registerComponent(new _t("storage-compat",IA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.14")}(Hn);var EA=Hn.initializeApp({apiKey:"AIzaSyC4BAiKoQyy9EU2rTVc5B7mQA9OnvchGfo",authDomain:"olx-clone-1383c.firebaseapp.com",projectId:"olx-clone-1383c",storageBucket:"olx-clone-1383c.appspot.com",messagingSenderId:"288884373697",appId:"1:288884373697:web:eb87084549dab3d5fbbc40",measurementId:"G-4RL1S7T7JC"});i.render((0,Y.jsx)(ue.Provider,{value:{firebase:EA},children:(0,Y.jsx)(ce,{children:(0,Y.jsx)(Ae,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.4a750fe6.js.map